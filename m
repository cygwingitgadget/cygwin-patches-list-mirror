From: Brian Keener <bkeener@thesoftwaresource.com>
To: Cygwin Patches <cygwin-patches@sources.redhat.com>
Subject: [patch] Setup.exe choose.cc selection enhancement based on file existence
Date: Mon, 05 Mar 2001 21:35:00 -0000
Message-id: <VA.00000689.004d571c@thesoftwaresource.com>
References: <VA.0000066f.003b71be@thesoftwaresource.com>
X-SW-Source: 2001-q1/msg00147.html
Content-type: multipart/mixed; boundary="----------=_1583532846-65438-17"

This is a multi-part message in MIME format...

------------=_1583532846-65438-17
Content-length: 2765

Trying again - still have the file as an attachment but this time using diff -up

2001-02-05  Brian Keener <bkeener@thesoftwaresource.com>
   * choose.cc (paint): Modify message for nothing to download vs 
   nothing to install/update based on installation method.
   (list_click): Modify to skip versions in selection process if
   installing from local directory and installation file does not exist.  
   Also leaves Source Action set to N/A if the source file does not exist 
   and installing from local directory.
   (check_existence): New method to check current existence of installation
   files based on selected installation method.
   (set_existence): New method to set the current existence of installation
   files based on selected installation method.
   (best_trust): Modify decision process for best trust to base decision on
   current trust selected (IE: Prev, Curr, or Test), existence of file and
   installation method selected.
   (default_trust): Add logic to capture the current trust level and the 
   trust selected for the given package.
   (set_full_list): Expand decision criteria for displaying a package in 
   the selection list to include file existence/non-existence and selected
   installation method.
   (build_labels): Modify criteria for label addition to include
   installation method and file existence/non-existence.
   (create_listview): Modify to establish package trust level for each 
   package before setting up the display list.  Also modification to set 
   current trust button as the default.
   (dialog_cmd): Set response for Prev, Curr, Test button push to perform
   a reset of the selection list in addition to setting the default trust.
   (get_package_version): New method to provide reusable code for
   determining the package version from the file name for a specified
   trust.
   (scan2): Modify to use new method get_package_version and
   also enhance handling of the build for the structures package and 
   extra.
   (read_installed_db): Modify to use the new method 
   get_package_version and also enhance handling of the build for the 
   structures package and extra.
   (do_choose): Add additional initialization of package and extra 
   structures.  Modify to use read_installed_db all the time despite 
   install method.  Modify output to setup.log.full log file to increase 
   readability by adding additional spacing, expanded code and available 
   versions.        
   * ini.h: Add new fields install_exists, source_exists and 
   partial_list_display to the structure definition for package.
   * res.rc (IDD_CHOOSE): Modify choose dialog Prev, Curr, and Test 
   pushbuttons by replacing with Radio Buttons thus allowing the 
   operator to better determine which is selected.




------------=_1583532846-65438-17
Content-Type: text/x-diff; charset=us-ascii; name="fooA"
Content-Disposition: inline; filename="fooA"
Content-Transfer-Encoding: base64
Content-Length: 23563

SW5kZXg6IHdpbnN1cC9jaW5zdGFsbC9jaG9vc2UuY2MNCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2Np
bnN0YWxsL2Nob29zZS5jYyx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDIuMTEN
CmRpZmYgLXUgLXAgLXIyLjExIGNob29zZS5jYw0KLS0tIGNob29zZS5jYwky
MDAwLzEyLzExIDAwOjA3OjU2CTIuMTENCisrKyBjaG9vc2UuY2MJMjAwMS8w
My8wNiAwNDozODo0NA0KQEAgLTMwLDYgKzMwLDcgQEAgc3RhdGljIGNoYXIg
KmN2c2lkID0gIlxuJSUlICRJZDogY2hvb3NlLg0KICNpbmNsdWRlICJ3aW4z
Mi5oIg0KICNpbmNsdWRlIDxzdGRpby5oPg0KICNpbmNsdWRlIDxzdGRsaWIu
aD4NCisjaW5jbHVkZSA8aW8uaD4NCiAjaW5jbHVkZSA8Y3R5cGUuaD4NCiAN
CiAjaW5jbHVkZSAiZGlhbG9nLmgiDQpAQCAtNDEsNyArNDIsOSBAQCBzdGF0
aWMgY2hhciAqY3ZzaWQgPSAiXG4lJSUgJElkOiBjaG9vc2UuDQogI2luY2x1
ZGUgImxvZy5oIg0KICNpbmNsdWRlICJmaW5kLmgiDQogDQotI2RlZmluZSBI
TUFSR0lOCQkxMA0KKyNpbmNsdWRlICJwb3J0LmgiDQorDQorI2RlZmluZSBI
TUFSR0lOCTEwDQogI2RlZmluZSBST1dfTUFSR0lOCTUNCiAjZGVmaW5lIElD
T05fTUFSR0lOCTQNCiANCkBAIC01NCw2ICs1Nyw3IEBAIHN0YXRpYyBjaGFy
ICpjdnNpZCA9ICJcbiUlJSAkSWQ6IGNob29zZS4NCiBzdGF0aWMgaW50IGlu
aXRpYWxpemVkID0gMDsNCiANCiBzdGF0aWMgaW50IGZ1bGxfbGlzdCA9IDA7
DQorc3RhdGljIGludCB3aGljaF90cnVzdCA9IFRSVVNUX0NVUlI7DQogDQog
c3RhdGljIGludCBzY3JvbGxfdWxjX3gsIHNjcm9sbF91bGNfeTsNCiANCkBA
IC0xODAsNiArMTg0LDggQEAgcGFpbnQgKEhXTkQgaHduZCkNCiAgIGlmIChu
aW5kZXhlcyA9PSAwKQ0KICAgICB7DQogICAgICAgc3RhdGljIGNoYXIgKm1z
ZyA9ICJOb3RoaW5nIHRvIEluc3RhbGwvVXBkYXRlIjsNCisgICAgICBpZiAo
c291cmNlID09IElEQ19TT1VSQ0VfRE9XTkxPQUQpDQorICAgICAgICAgbXNn
ID0gIk5vdGhpbmcgdG8gRG93bmxvYWQiOw0KICAgICAgIFRleHRPdXQgKGhk
YywgSE1BUkdJTiwgaGVhZGVyX2hlaWdodCwgbXNnLCBzdHJsZW4gKG1zZykp
Ow0KICAgICB9DQogICANCkBAIC0yODAsMTMgKzI4NiwyMCBAQCBsaXN0X2Ns
aWNrIChIV05EIGh3bmQsIEJPT0wgZGJsY2xrLCBpbnQgDQogICBpZiAoeCA+
PSBoZWFkZXJzW05FV19DT0xdLnggLSBITUFSR0lOLzIgJiYgeCA8PSBoZWFk
ZXJzW05FV19DT0wrMV0ueCAtIEhNQVJHSU4vMikNCiAgICAgew0KICAgICAg
IGV4dHJhW3BdLnBpY2sgKys7DQorICAgICAgd2hpbGUgKGV4dHJhW3BdLmNo
b29zZXJbZXh0cmFbcF0ucGlja10udHJ1c3QgPCBOVFJVU1QgJiYgDQorCShw
YWNrYWdlW3BdLmluZm9bZXh0cmFbcF0uY2hvb3NlcltleHRyYVtwXS5waWNr
XS50cnVzdF0uaW5zdGFsbF9leGlzdHMNCisgICAgICAgID09MCAmJiBzb3Vy
Y2UgPT0gSURDX1NPVVJDRV9DV0QpICYmIA0KKyAgICAgICAgcGFja2FnZVtw
XS5pbmZvW2V4dHJhW3BdLmNob29zZXJbZXh0cmFbcF0ucGlja10udHJ1c3Rd
Lmluc3RhbGwgJiYNCisgICAgICAgIGV4dHJhW3BdLmNob29zZXJbZXh0cmFb
cF0ucGlja10uY2FwdGlvbiAhPSAwKQ0KKyAgICAgICAgICBleHRyYVtwXS5w
aWNrICsrOw0KICAgICAgIGlmIChleHRyYVtwXS5jaG9vc2VyW2V4dHJhW3Bd
LnBpY2tdLmNhcHRpb24gPT0gMCkNCiAJZXh0cmFbcF0ucGljayA9IDA7DQog
ICAgIH0NCiANCiAgIGlmICh4ID49IGhlYWRlcnNbU1JDX0NPTF0ueCAtIEhN
QVJHSU4vMiAmJiB4IDw9IGhlYWRlcnNbU1JDX0NPTCsxXS54IC0gSE1BUkdJ
Ti8yKQ0KICAgICB7DQotICAgICAgaWYgKGV4dHJhW3BdLmNob29zZXJbZXh0
cmFbcF0ucGlja10uc3JjX2F2YWlsKQ0KKyAgICAgIGlmIChleHRyYVtwXS5j
aG9vc2VyW2V4dHJhW3BdLnBpY2tdLnNyY19hdmFpbCAmJiANCisgICAgICAg
ICAgcGFja2FnZVtwXS5pbmZvW2V4dHJhW3BdLmNob29zZXJbZXh0cmFbcF0u
cGlja10udHJ1c3RdLnNvdXJjZV9leGlzdHMpDQogCXBhY2thZ2VbcF0uc3Jj
YWN0aW9uIF49IChTUkNBQ1RJT05fTk9eU1JDQUNUSU9OX1lFUyk7DQogICAg
IH0NCiANCkBAIC0zNTAsMTcgKzM2Myw3NyBAQCBub3RlX3dpZHRoIChIREMg
ZGMsIGNoYXIgKnN0cmluZywgaW50IGFkDQogICAgIGhlYWRlcnNbY29sdW1u
XS53aWR0aCA9IHMuY3ggKyBhZGRlbmQ7DQogfQ0KIA0KK3N0YXRpYyBpbnQg
DQorY2hlY2tfZXhpc3RlbmNlIChpbnQgcCwgaW50IHRydXN0LCBpbnQgY2hl
Y2tfc3JjKQ0KK3sNCisgIGlmIChzb3VyY2UgPT0gSURDX1NPVVJDRV9ORVRJ
TlNUKQ0KKyAgICAgICAgcmV0dXJuIDE7DQorICBpZiAoc291cmNlID09IElE
Q19TT1VSQ0VfRE9XTkxPQUQpDQorICAgICB7DQorICAgICBpZiAoIGNoZWNr
X3NyYyA9PSAwICYmIF9hY2Nlc3MocGFja2FnZVtwXS5pbmZvW3RydXN0XS5p
bnN0YWxsLDApID09IDApDQorICAgICAgICByZXR1cm4gMTsNCisgICAgIGVs
c2UgaWYgKCBjaGVja19zcmMgPT0gMSAmJiBfYWNjZXNzKHBhY2thZ2VbcF0u
aW5mb1t0cnVzdF0uc291cmNlLDApID09IDAgKQ0KKyAgICAgICAgcmV0dXJu
IDE7DQorICAgICBlbHNlDQorICAgICAgICByZXR1cm4gMDsNCisgICAgIH0N
CisgIGlmIChzb3VyY2UgPT0gSURDX1NPVVJDRV9DV0QpDQorICAgICB7DQor
ICAgICBpZiAoIGNoZWNrX3NyYyA9PSAwICAmJiBwYWNrYWdlW3BdLmluZm9b
dHJ1c3RdLmluc3RhbGwgJiYNCisgICAgICAgICAgIF9hY2Nlc3MocGFja2Fn
ZVtwXS5pbmZvW3RydXN0XS5pbnN0YWxsLDApID09IDAgKQ0KKyAgICAgICAg
IHJldHVybiAxOw0KKyAgICAgZWxzZSBpZiAoIGNoZWNrX3NyYyA9PSAxICYm
IHBhY2thZ2VbcF0uaW5mb1t0cnVzdF0uc291cmNlICYmIA0KKyAgICAgICAg
ICAgICAgIF9hY2Nlc3MocGFja2FnZVtwXS5pbmZvW3RydXN0XS5zb3VyY2Us
MCkgPT0gMCApDQorICAgICAgICAgcmV0dXJuIDE7DQorICAgICB9DQorICBy
ZXR1cm4gMDsNCit9DQorDQorc3RhdGljIHZvaWQNCitzZXRfZXhpc3RlbmNl
ICgpDQorew0KKyAgZm9yIChpbnQgaT0wOyBpPG5wYWNrYWdlczsgaSsrKQ0K
KyAgICB7DQorICAgICAgZm9yIChpbnQgdD0wOyB0PE5UUlVTVDsgdCsrKQ0K
KyAgICAgICAgew0KKyAgICAgICAgICAvKiAwID0gY2hlY2sgaW5zdGFsbCBm
aWxlICovDQorICAgICAgICAgIHBhY2thZ2VbaV0uaW5mb1t0XS5pbnN0YWxs
X2V4aXN0cyA9IGNoZWNrX2V4aXN0ZW5jZShpLHQsMCk7IA0KKyAgICAgICAg
ICAvKiAxID0gY2hlY2sgc291cmNlIGZpbGUgKi8NCisgICAgICAgICAgcGFj
a2FnZVtpXS5pbmZvW3RdLnNvdXJjZV9leGlzdHMgPSBjaGVja19leGlzdGVu
Y2UoaSx0LDEpOyANCisgICAgICAgIH0NCisgICAgICBmb3IgKGludCB0PTA7
IHQ8TlRSVVNUOyB0KyspDQorICAgICAgICB7DQorICAgICAgICAgIGlmIChw
YWNrYWdlW2ldLmluZm9bdF0uaW5zdGFsbCAmJiANCisgICAgICAgICAgICAg
IGV4dHJhW2ldLmluc3RhbGxlZF92ZXIgIT0gcGFja2FnZVtpXS5pbmZvW3Rd
LnZlcnNpb24gKQ0KKyAgICAgICAgICAgIHsNCisgICAgICAgICAgICBpZiAo
c291cmNlID09IElEQ19TT1VSQ0VfTkVUSU5TVCApDQorICAgICAgICAgICAg
ICAgcGFja2FnZVtpXS5pbmZvW3RdLnBhcnRpYWxfbGlzdF9kaXNwbGF5PTE7
DQorICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlID09IElEQ19TT1VSQ0Vf
RE9XTkxPQUQgKQ0KKyAgICAgICAgICAgICAgIHBhY2thZ2VbaV0uaW5mb1t0
XS5wYXJ0aWFsX2xpc3RfZGlzcGxheSA9IDEtcGFja2FnZVtpXS5pbmZvW3Rd
Lmluc3RhbGxfZXhpc3RzOw0KKyAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJj
ZSA9PSBJRENfU09VUkNFX0NXRCApDQorCSAgICAgICBpZiAocGFja2FnZVtp
XS5pbmZvW3RdLmluc3RhbGxfZXhpc3RzKQ0KKyAgICAgICAgICAgICAgICAg
IHBhY2thZ2VbaV0uaW5mb1t0XS5wYXJ0aWFsX2xpc3RfZGlzcGxheSA9IDE7
DQorICAgICAgICAgICAgICAgZWxzZSANCisJCSAgcGFja2FnZVtpXS5pbmZv
W3RdLnBhcnRpYWxfbGlzdF9kaXNwbGF5ID0gMDsNCisgICAgICAgICAgICB9
DQorICAgICAgICAgIGlmIChwYWNrYWdlW2ldLmluZm9bdF0ucGFydGlhbF9s
aXN0X2Rpc3BsYXkgKQ0KKyAgICAgICAgICAgIGV4dHJhW2ldLmluX3BhcnRp
YWxfbGlzdCA9IDE7DQorCSAgICANCisgICAgICAgIH0NCisgICAgfQ0KK30N
CisNCiBzdGF0aWMgaW50DQogYmVzdF90cnVzdCAoaW50IHAsIGludCB0cnVz
dCkNCiB7DQogICBpbnQgdDsNCi0gIGZvciAodD10cnVzdDsgdD49MDsgdC0t
KQ0KLSAgICBpZiAocGFja2FnZVtwXS5pbmZvW3RdLmluc3RhbGwpDQorICB0
PXRydXN0OyANCisgICAgaWYgKHBhY2thZ2VbcF0uaW5mb1t0XS5pbnN0YWxs
ICYmDQorICAgICAgICAoKHBhY2thZ2VbcF0uaW5mb1t0XS5pbnN0YWxsX2V4
aXN0cyAmJiBzb3VyY2UgPT0gSURDX1NPVVJDRV9DV0QpIHx8DQorICAgICAg
ICAocGFja2FnZVtwXS5pbmZvW3RdLmluc3RhbGxfZXhpc3RzID09IDAgJiYg
DQorICAgICAgICBzb3VyY2UgPT0gSURDX1NPVVJDRV9ET1dOTE9BRCkgfHwg
c291cmNlID09IElEQ19TT1VSQ0VfTkVUSU5TVCkpDQogICAgICAgcmV0dXJu
IHQ7DQotICBmb3IgKHQ9dHJ1c3QrMTsgdDw9TlRSVVNUOyB0KyspDQotICAg
IGlmIChwYWNrYWdlW3BdLmluZm9bdF0uaW5zdGFsbCkNCi0gICAgICByZXR1
cm4gdDsNCi0gIGlmIChleHRyYVtwXS5pbnN0YWxsZWRfZmlsZSkNCisgIGlm
IChleHRyYVtwXS5pbnN0YWxsZWRfZmlsZSAmJiBleHRyYVtwXS5pbnN0YWxs
ZWRfdmVyID09IHBhY2thZ2VbcF0uaW5mb1t0XS52ZXJzaW9uKQ0KICAgICBy
ZXR1cm4gVFJVU1RfS0VFUDsNCiAgIHJldHVybiBUUlVTVF9OT05FOw0KIH0N
CkBAIC0zNzAsMTAgKzQ0MywxMyBAQCBkZWZhdWx0X3RydXN0IChIV05EIGgs
IGludCB0cnVzdCkNCiB7DQogICBpbnQgaSwgdCwgYzsNCiANCisgIHdoaWNo
X3RydXN0PXRydXN0Ow0KKw0KICAgZm9yIChpPTA7IGk8bnBhY2thZ2VzOyBp
KyspDQogICAgIHsNCiAgICAgICB0ID0gYmVzdF90cnVzdCAoaSwgdHJ1c3Qp
Ow0KICAgICAgIGV4dHJhW2ldLnBpY2sgPSAxOw0KKyAgICAgIHBhY2thZ2Vb
aV0udHJ1c3QgPSB0Ow0KICAgICAgIGZvciAoYz0wOyBjPGV4dHJhW2ldLm5w
aWNrOyBjKyspDQogCWlmICh0ID09IGV4dHJhW2ldLmNob29zZXJbY10udHJ1
c3QpDQogCSAgZXh0cmFbaV0ucGljayA9IGM7DQpAQCAtMzk0LDcgKzQ3MCwx
MyBAQCBzZXRfZnVsbF9saXN0IChIV05EIGgsIGludCBpc2Z1bGwpDQogICAg
IHBhY2thZ2VfaW5kZXhlcyA9IChpbnQgKikgbWFsbG9jIChucGFja2FnZXMg
KiBzaXplb2YgKGludCkpOw0KICAgZm9yIChpPWo9MDsgaTxucGFja2FnZXM7
IGkrKykNCiAgICAgew0KLSAgICAgIGlmIChpc2Z1bGwgfHwgZXh0cmFbaV0u
aW5fcGFydGlhbF9saXN0KQ0KKyAgICAgIGlmICgoaXNmdWxsIHx8IChleHRy
YVtpXS5pbl9wYXJ0aWFsX2xpc3QgJiYgDQorICAgICAgICAgZXh0cmFbaV0u
Y2hvb3NlcltleHRyYVtpXS5waWNrXS50cnVzdCAhPSBUUlVTVF9LRUVQICYm
DQorICAgICAgICAgZXh0cmFbaV0uY2hvb3NlcltleHRyYVtpXS5waWNrXS50
cnVzdCAhPSBUUlVTVF9OT05FKSkgJiYgDQorICAgICAgICAgKHNvdXJjZSA9
PSBJRENfU09VUkNFX0RPV05MT0FEIHx8IHNvdXJjZSA9PSBJRENfU09VUkNF
X05FVElOU1QgfHwgDQorICAgICAgICAgcGFja2FnZVtpXS5pbmZvW1RSVVNU
X1BSRVZdLmluc3RhbGxfZXhpc3RzIHx8IA0KKyAgICAgICAgIHBhY2thZ2Vb
aV0uaW5mb1tUUlVTVF9DVVJSXS5pbnN0YWxsX2V4aXN0cyB8fCANCisgICAg
ICAgICBwYWNrYWdlW2ldLmluZm9bVFJVU1RfVEVTVF0uaW5zdGFsbF9leGlz
dHMpICkNCiAJcGFja2FnZV9pbmRleGVzW2orK10gPSBpOw0KICAgICB9DQog
ICBuaW5kZXhlcyA9IGo7DQpAQCAtNDQ5LDEzICs1MzEsMTMgQEAgYnVpbGRf
bGFiZWxzICgpDQogCSAgICAgIGlmIChDLmNhcHRpb24gPT0gMCB8fCBDLmNh
cHRpb25bMF0gPT0gMCkNCiAJCUMuY2FwdGlvbiA9ICIwLjAiOw0KIAkgICAg
ICBDLnRydXN0ID0gdDsNCi0JICAgICAgaWYgKHBhY2thZ2VbaV0uaW5mb1t0
XS5zb3VyY2UpDQorCSAgICAgIGlmIChwYWNrYWdlW2ldLmluZm9bdF0uc291
cmNlICYmIA0KKyAgICAgICAgICAgICAgICAgICgocGFja2FnZVtpXS5pbmZv
W3RdLnNvdXJjZV9leGlzdHMgJiYgDQorICAgICAgICAgICAgICAgICAgc291
cmNlPT1JRENfU09VUkNFX0NXRCkgfHwgDQorICAgICAgICAgICAgICAgICAg
KHBhY2thZ2VbaV0uaW5mb1t0XS5zb3VyY2VfZXhpc3RzPT0wICYmIA0KKyAg
ICAgICAgICAgICAgICAgIHNvdXJjZT09SURDX1NPVVJDRV9ET1dOTE9BRCkg
fHwgc291cmNlPT1JRENfU09VUkNFX05FVElOU1QpKQ0KIAkJQy5zcmNfYXZh
aWwgPSAxOw0KIAkgICAgICBjKys7DQotCSAgICAgIC8qIHdlIGludGVudGlv
bmFsbHkgc2tpcCBUUlVTVF9QUkVWICovDQotCSAgICAgIGlmICh0ICE9IFRS
VVNUX1BSRVYgfHwgIWV4dHJhW2ldLmluc3RhbGxlZF92ZXIpDQotCQlleHRy
YVtpXS5pbl9wYXJ0aWFsX2xpc3QgPSAxOw0KLQ0KIAkgICAgfQ0KIA0KICAg
ICAgIGlmIChjID09IDApDQpAQCAtNTMwLDggKzYxMiwxMCBAQCBjcmVhdGVf
bGlzdHZpZXcgKEhXTkQgZGxnLCBSRUNUICpyKQ0KICAgaGVhZGVyc1tTUkNf
Q09MXS54ID0gaGVhZGVyc1tORVdfQ09MXS54ICsgaGVhZGVyc1tORVdfQ09M
XS53aWR0aCArIEhNQVJHSU47DQogICBoZWFkZXJzW1BBQ0tBR0VfQ09MXS54
ID0gaGVhZGVyc1tTUkNfQ09MXS54ICsgaGVhZGVyc1tTUkNfQ09MXS53aWR0
aCArIEhNQVJHSU47DQogDQotICBzZXRfZnVsbF9saXN0IChsdiwgZnVsbF9s
aXN0KTsNCiAgIGRlZmF1bHRfdHJ1c3QgKGx2LCBUUlVTVF9DVVJSKTsNCisg
IHNldF9mdWxsX2xpc3QgKGx2LCBmdWxsX2xpc3QpOw0KKyAgc3RhdGljIGlu
dCB0YVtdID0geyBJRENfQ0hPT1NFX0NVUlIsIDAgfTsNCisgIHJic2V0IChk
bGcsIHRhLCBJRENfQ0hPT1NFX0NVUlIpOw0KIA0KICAgUmVsZWFzZURDIChs
diwgZGMpOw0KIH0NCkBAIC01NDQsMTIgKzYyOCwxNSBAQCBkaWFsb2dfY21k
IChIV05EIGgsIGludCBpZCwgSFdORCBod25kY3RsDQogDQogICAgIGNhc2Ug
SURDX0NIT09TRV9QUkVWOg0KICAgICAgIGRlZmF1bHRfdHJ1c3QgKGx2LCBU
UlVTVF9QUkVWKTsNCisgICAgICBzZXRfZnVsbF9saXN0IChsdiwgZnVsbF9s
aXN0KTsNCiAgICAgICBicmVhazsNCiAgICAgY2FzZSBJRENfQ0hPT1NFX0NV
UlI6DQogICAgICAgZGVmYXVsdF90cnVzdCAobHYsIFRSVVNUX0NVUlIpOw0K
KyAgICAgIHNldF9mdWxsX2xpc3QgKGx2LCBmdWxsX2xpc3QpOw0KICAgICAg
IGJyZWFrOw0KICAgICBjYXNlIElEQ19DSE9PU0VfRVhQOg0KICAgICAgIGRl
ZmF1bHRfdHJ1c3QgKGx2LCBUUlVTVF9URVNUKTsNCisgICAgICBzZXRfZnVs
bF9saXN0IChsdiwgZnVsbF9saXN0KTsNCiAgICAgICBicmVhazsNCiAgICAg
Y2FzZSBJRENfQ0hPT1NFX0ZVTExQQVJUOg0KICAgICAgIHNldF9mdWxsX2xp
c3QgKGx2LCAhZnVsbF9saXN0KTsNCkBAIC02MzIsMjQgKzcxOSwxMTQgQEAg
YmFzZSAoY2hhciAqcykNCiAgICAgfQ0KICAgcmV0dXJuIHJ2Ow0KIH0NCisJ
ICAgICAgDQorc3RhdGljIHZvaWQNCitnZXRfcGFja2FnZV92ZXJzaW9uKGlu
dCBwICwgaW50IHRydXN0KQ0KK3sNCisgIGNoYXIgKnYsICpkOw0KKyAgY2hh
ciBpbnN0cGtnW19NQVhfUEFUSF07DQorICBpbnN0cGtnWzBdPTA7ICAvKiBt
YWtlIHN1cmUgZW1wdHkgdG8gc3RhcnQgd2l0aCAqLw0KKyAgaWYgKHRydXN0
PT0tMSkNCisgICAgc3RyY3B5IChpbnN0cGtnLGV4dHJhW3BdLmluc3RhbGxl
ZF9maWxlKTsNCisgIGVsc2UNCisgICAgc3RyY3B5IChpbnN0cGtnLHBhY2th
Z2VbcF0uaW5mb1t0cnVzdF0uaW5zdGFsbCk7DQorICBmb3IgKHY9YmFzZSAo
aW5zdHBrZyk7ICp2OyB2KyspDQorICAgIGlmICgqdiA9PSAnLScgJiYgaXNk
aWdpdCh2WzFdKSkNCisgICAgew0KKyAgICAgIHYrKzsNCisgICAgICBicmVh
azsNCisgICAgfQ0KKyAgaWYgKCF2KQ0KKyAgICB2ID0gaW5zdHBrZzsNCisg
IGZvciAoZD12OyAqZDsgZCsrKQ0KKyAgICBpZiAoc3RybmNtcCAoZCwgIi50
YXIiLCA0KSA9PSAwKQ0KKyAgICAgIHsNCisgICAgICAgICpkID0gMDsNCisg
ICAgICAgIGJyZWFrOw0KKyAgICAgIH0NCisgIGlmICh2WzBdKQ0KKyAgICB7
DQorICAgIGlmICh0cnVzdCAhPSAtMSkNCisgICAgICBwYWNrYWdlW3BdLmlu
Zm9bdHJ1c3RdLnZlcnNpb249c3RyZHVwKHYpOw0KKyAgICBleHRyYVtwXS5p
bnN0YWxsZWRfdmVyID0gc3RyZHVwICh2KTsNCisgICAgfQ0KKyAgZWxzZQ0K
KyAgICB7DQorICAgIGlmICh0cnVzdCAhPSAtMSkNCisgICAgICBwYWNrYWdl
W3BdLmluZm9bdHJ1c3RdLnZlcnNpb249IjAiOw0KKyAgICBleHRyYVtwXS5p
bnN0YWxsZWRfdmVyID0gIjAiOw0KKyAgICB9DQorfQ0KIA0KIHN0YXRpYyB2
b2lkDQogc2NhbjIgKGNoYXIgKnBhdGgsIHVuc2lnbmVkIGludCBzaXplKQ0K
IHsNCiAgIGludCBpLCB0Ow0KLSAgZm9yIChpPTA7IGk8bnBhY2thZ2VzOyBp
KyspDQotICAgIGZvciAodD0wOyB0PE5UUlVTVDsgdCsrKQ0KLSAgICAgIGlm
IChwYWNrYWdlW2ldLmluZm9bdF0uaW5zdGFsbA0KLQkgICYmIHN0cmNtcCAo
YmFzZSAocGFja2FnZVtpXS5pbmZvW3RdLmluc3RhbGwpLCBiYXNlIChwYXRo
KSkgPT0gMA0KLQkgICYmIHBhY2thZ2VbaV0uaW5mb1t0XS5pbnN0YWxsX3Np
emUgPT0gc2l6ZSkNCi0Jew0KLQkgIGV4dHJhW2ldLmluc3RhbGxlZF9maWxl
ID0gcGFja2FnZVtpXS5pbmZvW3RdLmluc3RhbGw7DQotCSAgZXh0cmFbaV0u
aW5zdGFsbGVkX3NpemUgPSBzaXplOw0KLQkgIGV4dHJhW2ldLndoaWNoX2lz
X2luc3RhbGxlZCA9IHQ7DQotCSAgZXh0cmFbaV0uaW5zdGFsbGVkX3ZlciA9
IHBhY2thZ2VbaV0uaW5mb1t0XS52ZXJzaW9uOw0KLQkgIGlmICghZXh0cmFb
aV0uaW5zdGFsbGVkX3ZlcikNCi0JICAgIGV4dHJhW2ldLmluc3RhbGxlZF92
ZXIgPSAiMCI7DQorICBpZiAoc3RyY21wKHBhdGgrc3RybGVuKHBhdGgpLTcs
Ii50YXIuZ3oiKSA9PSAwKQ0KKyAgICB7DQorICAgIGNoYXIgbWFpbnBrZ1tf
TUFYX1BBVEhdLHBrZ2luZm9bX01BWF9QQVRIXSwgKnZlciwgKnZlcmluZm87
DQorICAgIHN0cmNweSAobWFpbnBrZyxwYXRoKTsNCisgICAgbWFpbnBrZ1tz
dHJsZW4obWFpbnBrZyktN10gPSAwOyAvKiBzdHJpcCBvZmYgdGhlIHRhci5n
eiAqLw0KKyAgICBmb3IgKHZlcj1tYWlucGtnOyAqdmVyOyB2ZXIrKykNCisg
ICAgICBpZiAoKCp2ZXIgPT0gJy0nIHx8ICp2ZXIgPT0gJ18nKSAmJiBpc2Rp
Z2l0KHZlclsxXSkpDQorICAgICAgICB7DQorICAgICAgICAgICp2ZXIrKyA9
IDA7DQorICAgICAgICAgIGJyZWFrOw0KIAl9DQorICAgIGZvciAoaT0wOyBp
PG5wYWNrYWdlczsgaSsrKQ0KKyAgICAgIHsNCisgICAgICAgIHBrZ2luZm9b
MF0gPSAwOw0KKyAgICAgICAgZm9yICh0PTA7IHQ8TlRSVVNUOyB0KyspDQor
ICAgICAgICAgIHsNCisgICAgICAgICAgaWYgKHBhY2thZ2VbaV0uaW5mb1t0
XS5pbnN0YWxsKQ0KKyAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgIHN0
cmNweSAocGtnaW5mbyxwYWNrYWdlW2ldLmluZm9bdF0uaW5zdGFsbCk7DQor
ICAgICAgICAgICAgICBwa2dpbmZvW3N0cmxlbihwa2dpbmZvKS03XSA9IDA7
IC8qIHN0cmlwIG9mZiB0aGUgdGFyLmd6ICovDQorICAgICAgICAgICAgICBm
b3IgKHZlcmluZm89cGtnaW5mbzsgKnZlcmluZm87IHZlcmluZm8rKykNCisg
ICAgICAgICAgICAgICAgeyANCisgICAgICAgICAgICAgICAgICBpZiAoKCp2
ZXJpbmZvID09ICctJyB8fCAqdmVyaW5mbyA9PSAnXycpICYmIGlzZGlnaXQo
dmVyaW5mb1sxXSkpDQorICAgICAgICAgICAgICAgICAgICB7DQorICAgICAg
ICAgICAgICAgICAgICAgICp2ZXJpbmZvKysgPSAwOw0KKyAgICAgICAgICAg
ICAgICAgICAgICBicmVhazsNCisJICAgICAgICAgICAgfQ0KKyAgICAgICAg
ICAgICAgICB9DQorICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICAgICAg
fQ0KKyAgICAgICAgICB9ICANCisgICAgICBpZiAoc3RyY21wKHBrZ2luZm8s
bWFpbnBrZykgPT0gMCApDQorICAgICAgICB7DQorICAgICAgICBmb3IgKHQ9
MDsgdDxOVFJVU1Q7IHQrKykgDQorICAgICAgICAgIGlmIChwYWNrYWdlW2ld
LmluZm9bdF0uaW5zdGFsbCAmJiANCisgICAgICAgICAgICAgIHN0cmNtcCAo
YmFzZSAocGFja2FnZVtpXS5pbmZvW3RdLmluc3RhbGwpLCBiYXNlIChwYXRo
KSkgPT0gMCkNCisJICAgIHsNCisgICAgICAgICAgICAgIHBhY2thZ2VbaV0u
aW5mb1t0XS5pbnN0YWxsX2V4aXN0cz0xOw0KKyAgICAgICAgICAgICAgYnJl
YWs7DQorCSAgICB9DQorICAgICAgICAgIGVsc2UgaWYgKHQ+PU5UUlVTVC0x
KQ0KKyAgICAgICAgICAgIGlmICghcGFja2FnZVtpXS5pbmZvW1RSVVNUX0NV
UlJdLmluc3RhbGwpDQorICAgICAgICAgICAgICB7DQorICAgICAgICAgICAg
ICAgIHBhY2thZ2VbaV0uaW5mb1tUUlVTVF9DVVJSXS52ZXJzaW9uID0gMDsN
CisgICAgICAgICAgICAgICAgcGFja2FnZVtpXS5pbmZvW1RSVVNUX0NVUlJd
Lmluc3RhbGwgPSBzdHJkdXAocGF0aCk7DQorICAgICAgICAgICAgICAgIHBh
Y2thZ2VbaV0uaW5mb1tUUlVTVF9DVVJSXS5pbnN0YWxsX3NpemUgPSBzaXpl
Ow0KKyAgICAgICAgICAgICAgICBwYWNrYWdlW2ldLmluZm9bVFJVU1RfQ1VS
Ul0uaW5zdGFsbF9leGlzdHM9MTsNCisgICAgICAgICAgICAgICAgaWYgKHBh
Y2thZ2VbaV0uaW5mb1tUUlVTVF9DVVJSXS52ZXJzaW9uID09IDApIA0KKwkg
ICAgICAgICAgZ2V0X3BhY2thZ2VfdmVyc2lvbihpLFRSVVNUX0NVUlIpOw0K
KyAgICAgICAgICAgICAgICBicmVhazsNCisgICAgICAgICAgICAgIH0NCisg
ICAgICAgICAgICBlbHNlIGlmICghcGFja2FnZVtpXS5pbmZvW1RSVVNUX1BS
RVZdLmluc3RhbGwgKQ0KKyAgICAgICAgICAgICAgew0KKyAgICAgICAgICAg
ICAgICBwYWNrYWdlW2ldLmluZm9bVFJVU1RfUFJFVl0udmVyc2lvbiA9IDA7
DQorICAgICAgICAgICAgICAgIHBhY2thZ2VbaV0uaW5mb1tUUlVTVF9QUkVW
XS5pbnN0YWxsID0gc3RyZHVwKHBhdGgpOw0KKyAgICAgICAgICAgICAgICBw
YWNrYWdlW2ldLmluZm9bVFJVU1RfUFJFVl0uaW5zdGFsbF9zaXplID0gc2l6
ZTsNCisgICAgICAgICAgICAgICAgcGFja2FnZVtpXS5pbmZvW1RSVVNUX1BS
RVZdLmluc3RhbGxfZXhpc3RzPTE7DQorICAgICAgICAgICAgICAgIGlmIChw
YWNrYWdlW2ldLmluZm9bVFJVU1RfUFJFVl0udmVyc2lvbiA9PSAwKSANCisJ
ICAgICAgICAgIGdldF9wYWNrYWdlX3ZlcnNpb24oaSxUUlVTVF9QUkVWKTsN
CisgICAgICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICAgICAgICB9DQor
ICAgICAgICBicmVhazsNCisgICAgICAgIH0NCisgICAgICB9IA0KKyAgICB9
DQogfQ0KIA0KIHN0YXRpYyB2b2lkDQpAQCAtNjg0LDYgKzg2MSw3IEBAIHJl
YWRfaW5zdGFsbGVkX2RiICgpDQogCSAgICBpbnQgdDsNCiAJICAgIGV4dHJh
W2ldLmluc3RhbGxlZF9maWxlID0gaW5zdDsNCiAJICAgIGV4dHJhW2ldLmlu
c3RhbGxlZF9zaXplID0gaW5zdHN6Ow0KKwkgICAgZ2V0X3BhY2thZ2VfdmVy
c2lvbihpLCAtMSk7DQogDQogCSAgICBmb3IgKHQ9MDsgdDxOVFJVU1Q7IHQr
KykNCiAJICAgICAgaWYgKHBhY2thZ2VbaV0uaW5mb1t0XS5pbnN0YWxsDQpA
QCAtNjkxLDMyICs4NjksMTQgQEAgcmVhZF9pbnN0YWxsZWRfZGIgKCkNCiAJ
CXsNCiAJCSAgZXh0cmFbaV0ud2hpY2hfaXNfaW5zdGFsbGVkID0gdDsNCiAJ
CSAgZXh0cmFbaV0uaW5zdGFsbGVkX3ZlciA9IHBhY2thZ2VbaV0uaW5mb1t0
XS52ZXJzaW9uOw0KKwkgICAgICAgICAgaWYgKGV4dHJhW2ldLmluc3RhbGxl
ZF92ZXIgPT0gMCkgLyogc3RpbGwgKi8NCisJCSAgICBnZXRfcGFja2FnZV92
ZXJzaW9uKGksdCk7DQogCQkgIGJyZWFrOw0KIAkJfQ0KIA0KIAkgICAgaWYg
KGV4dHJhW2ldLmluc3RhbGxlZF92ZXIgPT0gMCkgLyogc3RpbGwgKi8NCi0J
ICAgICAgew0KLQkJY2hhciAqdiwgKmQ7DQotCQlmb3IgKHY9YmFzZSAoaW5z
dCk7ICp2OyB2KyspDQotCQkgIGlmICgqdiA9PSAnLScgJiYgaXNkaWdpdCh2
WzFdKSkNCi0JCSAgICB7DQotCQkgICAgICB2Kys7DQotCQkgICAgICBicmVh
azsNCi0JCSAgICB9DQotCQlpZiAoIXYpDQotCQkgIHYgPSBpbnN0Ow0KLQkJ
Zm9yIChkPXY7ICpkOyBkKyspDQotCQkgIGlmIChzdHJuY21wIChkLCAiLnRh
ciIsIDQpID09IDApDQotCQkgICAgew0KLQkJICAgICAgKmQgPSAwOw0KLQkJ
ICAgICAgYnJlYWs7DQotCQkgICAgfQ0KLQkJaWYgKHZbMF0pDQotCQkgIGV4
dHJhW2ldLmluc3RhbGxlZF92ZXIgPSBzdHJkdXAgKHYpOw0KLQkJZWxzZQ0K
LQkJICBleHRyYVtpXS5pbnN0YWxsZWRfdmVyID0gIjAiOw0KLQkgICAgICB9
DQotCSAgICBicmVhazsNCisJICAgICAgZ2V0X3BhY2thZ2VfdmVyc2lvbihp
LCAtMSk7DQorICAgICAgICAgICAgYnJlYWs7DQogCSAgfQ0KICAgICB9DQog
ICBmY2xvc2UgKGRiKTsNCkBAIC03NDgsMTQgKzkwOCwyNiBAQCBkb19jaG9v
c2UgKEhJTlNUQU5DRSBoKQ0KICAgZXh0cmEgPSAoRXh0cmFQYWNrYWdlSW5m
byAqKSBtYWxsb2MgKG5wYWNrYWdlcyAqIHNpemVvZiAoRXh0cmFQYWNrYWdl
SW5mbykpOw0KICAgbWVtc2V0IChleHRyYSwgMCwgbnBhY2thZ2VzICogc2l6
ZW9mIChFeHRyYVBhY2thZ2VJbmZvKSk7DQogICBmb3IgKGk9MDsgaTxucGFj
a2FnZXM7IGkrKykNCi0gICAgZXh0cmFbaV0ud2hpY2hfaXNfaW5zdGFsbGVk
ID0gLTE7DQorICAgIHsNCisgICAgICBleHRyYVtpXS53aGljaF9pc19pbnN0
YWxsZWQgPSAtMTsNCisgICAgICBleHRyYVtpXS5pbl9wYXJ0aWFsX2xpc3Qg
PSAwOw0KKyAgICAgIGV4dHJhW2ldLnBpY2sgPSAxOw0KKyAgICAgIGV4dHJh
W2ldLmNob29zZXJbZXh0cmFbaV0ucGlja10udHJ1c3QgPSBUUlVTVF9OT05F
Ow0KKwlmb3IgKGludCB0PTA7IHQ8TlRSVVNUOyB0KyspDQorICAgICAgICAg
IHsNCisgICAgICAgICAgcGFja2FnZVtpXS5pbmZvW3RdLnBhcnRpYWxfbGlz
dF9kaXNwbGF5PTA7DQorICAgICAgICAgIHBhY2thZ2VbaV0uaW5mb1t0XS5p
bnN0YWxsX2V4aXN0cz0wOw0KKyAgICAgICAgICBwYWNrYWdlW2ldLmluZm9b
dF0uc291cmNlX2V4aXN0cz0wOw0KKyAgICAgICAgICB9DQorICAgIH0NCiAN
CiAgIHJlZ2lzdGVyX3dpbmRvd3MgKGgpOw0KIA0KLSAgaWYgKHNvdXJjZSA9
PSBJRENfU09VUkNFX0RPV05MT0FEKQ0KKyAgaWYgKHNvdXJjZSA9PSBJRENf
U09VUkNFX0RPV05MT0FEIHx8IHNvdXJjZSA9PSBJRENfU09VUkNFX0NXRCkN
CiAgICAgc2Nhbl9kb3dubG9hZGVkX2ZpbGVzICgpOw0KLSAgZWxzZQ0KLSAg
ICByZWFkX2luc3RhbGxlZF9kYiAoKTsNCisgICAgDQorICByZWFkX2luc3Rh
bGxlZF9kYiAoKTsNCisgIHNldF9leGlzdGVuY2UgKCk7DQogICBidWlsZF9s
YWJlbHMgKCk7DQogDQogICBydiA9IERpYWxvZ0JveCAoaCwgTUFLRUlOVFJF
U09VUkNFIChJRERfQ0hPT1NFKSwgMCwgZGlhbG9nX3Byb2MpOw0KQEAgLTc4
Myw3ICs5NTUsNyBAQCBkb19jaG9vc2UgKEhJTlNUQU5DRSBoKQ0KIAljYXNl
IFRSVVNUX0tFRVA6DQogCWNhc2UgVFJVU1RfTk9ORToNCiAJZGVmYXVsdDoN
Ci0JICBwYWNrYWdlW2ldLmFjdGlvbiA9IEFDVElPTl9TQU1FOw0KKyAgICAg
ICAgICBwYWNrYWdlW2ldLmFjdGlvbiA9IEFDVElPTl9TQU1FOw0KIAkgIGJy
ZWFrOw0KIAl9DQogICAgIH0NCkBAIC04MDMsMTkgKzk3NSwyNyBAQCBkb19j
aG9vc2UgKEhJTlNUQU5DRSBoKQ0KIAkJCSAgICA6IChwYWNrYWdlW2ldLmFj
dGlvbiA9PSBBQ1RJT05fVU5JTlNUQUxMKSA/ICJ1bmluc3RhbGwiDQogCQkJ
ICAgIDogKHBhY2thZ2VbaV0uYWN0aW9uID09IEFDVElPTl9FUlJPUikgPyAi
ZXJyb3IiDQogCQkJICAgIDogInVua25vd24iKTsNCisgICAgICBjb25zdCBj
aGFyICppbnN0YWxsZWQgPSAoKGV4dHJhW2ldLndoaWNoX2lzX2luc3RhbGxl
ZCA9PSAtMSkgPyAibm9uZSINCisJCQkgICA6IChleHRyYVtpXS53aGljaF9p
c19pbnN0YWxsZWQgPT0gVFJVU1RfUFJFVikgPyAicHJldiINCisJCQkgICA6
IChleHRyYVtpXS53aGljaF9pc19pbnN0YWxsZWQgPT0gVFJVU1RfQ1VSUikg
PyAiY3VyciINCisJCQkgICA6IChleHRyYVtpXS53aGljaF9pc19pbnN0YWxs
ZWQgPT0gVFJVU1RfVEVTVCkgPyAidGVzdCINCisJCQkgICA6ICJ1bmtub3du
Iik7DQorICAgICAgY29uc3QgY2hhciAqcGFydGlhbF9saXN0ID0gKChleHRy
YVtpXS5pbl9wYXJ0aWFsX2xpc3QgPT0gMSkgPyAieWVzIiA6ICJubyIpOw0K
IA0KLSAgICAgIGxvZyAoTE9HX0JBQkJMRSwgIlslc10gYWN0aW9uPSVzIHRy
dXN0PSVzIHNyYz8gJXMiLCBwYWNrYWdlW2ldLm5hbWUsIGFjdGlvbiwgdHJ1
c3QsDQotCSAgIHBhY2thZ2VbaV0uc3JjYWN0aW9uID09IFNSQ0FDVElPTl9O
TyA/ICJubyIgOiAieWVzIik7DQorICAgICAgbG9nIChMT0dfQkFCQkxFLCAi
WyVzXSBhY3Rpb249JXMgdHJ1c3Q9JXMgaW5zdGFsbGVkPSVzIHBhcnRpYWxf
bGlzdD0lcyBzcmM/PSVzIiwgcGFja2FnZVtpXS5uYW1lLCBhY3Rpb24sIHRy
dXN0LGluc3RhbGxlZCxwYXJ0aWFsX2xpc3QscGFja2FnZVtpXS5zcmNhY3Rp
b24gPT0gU1JDQUNUSU9OX05PID8gIm5vIiA6ICJ5ZXMiKTsNCiAgICAgICBm
b3IgKGludCB0PTA7IHQ8TlRSVVNUOyB0KyspDQogCXsNCiAJICBpZiAocGFj
a2FnZVtpXS5pbmZvW3RdLmluc3RhbGwpDQotCSAgICBsb2cgKExPR19CQUJC
TEUsICJbJXNdIHZlciAlcyBpbnN0ICVzICVkIHNyYyAlcyAlZCIsDQorCSAg
ICBsb2cgKExPR19CQUJCTEUsICIgICAgIFslc10gdmVyPSVzIHBhcnRpYWxf
bGlzdD0lcyBcclxuICAgICAgICAgICAgaW5zdD0lcyAlZCBleGlzdHM9JXMg
XHJcbiAgICAgICAgICAgIHNyYz0lcyAlZCBleGlzdHM9JXMiLA0KIAkJIGlu
Zm9zW3RdLA0KIAkJIHBhY2thZ2VbaV0uaW5mb1t0XS52ZXJzaW9uID86ICIo
bm9uZSkiLA0KKwkJIChwYWNrYWdlW2ldLmluZm9bdF0ucGFydGlhbF9saXN0
X2Rpc3BsYXkgPT0gMSApID8gInllcyI6Im5vIiwNCiAJCSBwYWNrYWdlW2ld
LmluZm9bdF0uaW5zdGFsbCA/OiAiKG5vbmUpIiwNCiAJCSBwYWNrYWdlW2ld
LmluZm9bdF0uaW5zdGFsbF9zaXplLA0KKwkJIChwYWNrYWdlW2ldLmluZm9b
dF0uaW5zdGFsbF9leGlzdHMgPT0gMSkgPyAieWVzIjoibm8iLA0KIAkJIHBh
Y2thZ2VbaV0uaW5mb1t0XS5zb3VyY2UgPzogIihub25lKSIsDQotCQkgcGFj
a2FnZVtpXS5pbmZvW3RdLnNvdXJjZV9zaXplKTsNCisJCSBwYWNrYWdlW2ld
LmluZm9bdF0uc291cmNlX3NpemUsDQorCQkgKHBhY2thZ2VbaV0uaW5mb1t0
XS5zb3VyY2VfZXhpc3RzID09IDEpID8gInllcyI6Im5vIik7DQogCX0NCiAg
ICAgfQ0KIH0NCkluZGV4OiB3aW5zdXAvY2luc3RhbGwvaW5pLmgNCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2lu
c3VwL2NpbnN0YWxsL2luaS5oLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMi40
DQpkaWZmIC11IC1wIC1yMi40IGluaS5oDQotLS0gaW5pLmgJMjAwMC8xMS8w
OSAwMTo0MDoxNQkyLjQNCisrKyBpbmkuaAkyMDAxLzAzLzA2IDA0OjM4OjQ3
DQpAQCAtNTEsOCArNTEsMTEgQEAgdHlwZWRlZiBzdHJ1Y3Qgew0KICAgICBj
aGFyICp2ZXJzaW9uOwkvKiB2ZXJzaW9uIHBhcnQgb2YgZmlsZW5hbWUgKi8N
CiAgICAgY2hhciAqaW5zdGFsbDsJLyogZmlsZSBuYW1lIHRvIGluc3RhbGwg
Ki8NCiAgICAgaW50IGluc3RhbGxfc2l6ZTsJLyogaW4gYnl0ZXMgKi8NCisg
ICAgaW50IGluc3RhbGxfZXhpc3RzOyAvKiBpbnN0YWxsIGZpbGUgZXhpc3Rz
IG9uIGRpc2sgKi8NCiAgICAgY2hhciAqc291cmNlOwkvKiBzb3VyY2VzIGZv
ciBpbnN0YWxsZWQgYmluYXJpZXMgKi8NCiAgICAgaW50IHNvdXJjZV9zaXpl
OwkvKiBpbiBieXRlcyAqLw0KKyAgICBpbnQgc291cmNlX2V4aXN0czsgIC8q
IHNvdXJjZSBmaWxlIGV4aXN0cyBvbiBkaXNrICovDQorICAgIGludCBwYXJ0
aWFsX2xpc3RfZGlzcGxheTsvKiBkaXNwbGF5IHRoaXMgdmVyc2lvbiBpbiBw
YXJ0aWFsIGxpc3QgKi8NCiAgIH0gaW5mb1tOVFJVU1QrMV07CS8qICsxIGZv
ciBUUlVTVF9VTktOT1dOICovDQogfSBQYWNrYWdlOw0KIA0KSW5kZXg6IHdp
bnN1cC9jaW5zdGFsbC9yZXMucmMNCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2NpbnN0YWxsL3Jlcy5y
Yyx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDIuMTENCmRpZmYgLXUgLXAgLXIy
LjExIHJlcy5yYw0KLS0tIHJlcy5yYwkyMDAwLzEyLzI2IDIzOjE1OjU2CTIu
MTENCisrKyByZXMucmMJMjAwMS8wMy8wNiAwNDozODo1Mg0KQEAgLTIzMiw5
ICsyMzksOSBAQCBCRUdJTg0KICAgICBMVEVYVCAgICAgICAgICAgIj0gY2xp
Y2sgdG8gY2hvb3NlIGFjdGlvbiwgKHApID0gcHJldmlvdXMgdmVyc2lvbiwg
KHgpID0gZXhwZXJpbWVudGFsIiwNCiAgICAgICAgICAgICAgICAgICAgIElE
Q19TVEFUSUMsNjUsMTcwLDIyMCw4DQogICAgIFBVU0hCVVRUT04gICAgICAi
RnVsbC9QYXJ0IixJRENfQ0hPT1NFX0ZVTExQQVJULDI1MCw1LDM1LDEwDQot
ICAgIFBVU0hCVVRUT04gICAgICAiRXhwIixJRENfQ0hPT1NFX0VYUCwyMTUs
NSwyNSwxMA0KLSAgICBQVVNIQlVUVE9OICAgICAgIkN1cnIiLElEQ19DSE9P
U0VfQ1VSUiwxOTAsNSwyNSwxMA0KLSAgICBQVVNIQlVUVE9OICAgICAgIlBy
ZXYiLElEQ19DSE9PU0VfUFJFViwxNjUsNSwyNSwxMA0KKyAgICBDT05UUk9M
ICAgICAgICAgIkV4cCIsSURDX0NIT09TRV9FWFAsIkJ1dHRvbiIsQlNfQVVU
T1JBRElPQlVUVE9OIHwgV1NfR1JPVVAsMjE1LDUsMjUsMTANCisgICAgQ09O
VFJPTCAgICAgICAgICJDdXJyIixJRENfQ0hPT1NFX0NVUlIsIkJ1dHRvbiIs
QlNfQVVUT1JBRElPQlVUVE9OLDE4OSw1LDI1LDEwDQorICAgIENPTlRST0wg
ICAgICAgICAiUHJldiIsSURDX0NIT09TRV9QUkVWLCJCdXR0b24iLEJTX0FV
VE9SQURJT0JVVFRPTiwxNjEsNSwyNywxMA0KICAgICBERUZQVVNIQlVUVE9O
ICAgIiZOZXh0IC0tPiIsSURPSywxNzUsMTg1LDQ1LDE1DQogICAgIFBVU0hC
VVRUT04gICAgICAiQ2FuY2VsIixJRENBTkNFTCwyNDAsMTg1LDQ1LDE1DQog
ICAgIFBVU0hCVVRUT04gICAgICAiPC0tICZCYWNrIixJRENfQkFDSywxMzAs
MTg1LDQ1LDE1DQo=

------------=_1583532846-65438-17--
