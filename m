From: "Robert Collins" <robert.collins@itdomain.com.au>
To: <cygwin-patches@cygwin.com>
Subject: sched_* functions
Date: Sat, 17 Mar 2001 19:40:00 -0000
Message-id: <018c01c0af5c$fe559ed0$0200a8c0@lifelesswks>
X-SW-Source: 2001-q1/msg00202.html
Content-type: multipart/mixed; boundary="----------=_1583532846-65438-22"

This is a multi-part message in MIME format...

------------=_1583532846-65438-22
Content-length: 1390

Don't fall out of your chair chris, here's a second contribution...
again, probably not perfect right out of the gate, but it works quite
well.

Changelog:

18 Mar 2001 Robert Collins <rbtcollins@hotmail.com>
    *  cygwin/sched.cc: new file, exported wrappers for __sched*
    * cygwin/schedule.cc: new file, implements __sched*
    * cygwin/schedule.h: new file, prototypes for __sched*
    * cygwin/include/sched.h: , new file, user land includes for sched*
    * cygwin/Makefile.in: added sched.o and schedule.o
    * cygwin/cygwin.din: added exports for sched*
    * cygwin/external.cc: export the inital windows thread id.
    * cygwin/fork.cc: record the inital thread id for created process's.
    * cygwin/pinfo.cc: record the inital thread id for the first cygwin
process.
    * cygwin/pinfo.h: allocate space to store the main thread Id for
process's.
    * cygwin/include/sys/cygwin.h: allocate space for exporting the main
thread id for process's.
    * w32api/include/winbase.h: Added prototype for OpenThread.
    * w32api/lib/kernel32.def: Added export for OpenThread.


I've attached the new files
    *  cygwin/sched.cc (note the CC)
    * cygwin/schedule.cc
    * cygwin/schedule.h
    * cygwin/include/sched.h

rather than diffs, cause cvs -z3 diff -upN refused to create diffs. I
hope that's not a problem.
Also attached is my basic testrig (sched.c (single c) ).

Rob

------------=_1583532846-65438-22
Content-Type: text/x-c; charset=us-ascii; name="sched.c"
Content-Disposition: inline; filename="sched.c"
Content-Transfer-Encoding: base64
Content-Length: 11200

LyogVEVTVCByaWcgZm9yIHNjaGVkIHJvdXRpbmVzLiBUaGUgcHRocmVhZCBz
dHVmZiBpcyBzdGlsbCBoZXJlCiAqIGJlY2F1c2UgSSB3YW50IChzb21lIGRh
eSA6XSkgVG8gaW1wbGVtZW50IHRoZSBwdGhyZWFkIHBlciB0aHJlYWQgc2No
ZWR1bGUgZnVuY3Rpb25zCiAqLwoKI2luY2x1ZGUgPHN0ZGlvLmg+CiNpbmNs
dWRlIDxwdGhyZWFkLmg+CiNpbmNsdWRlIDxzY2hlZC5oPgojaW5jbHVkZSA8
ZXJybm8uaD4KCiNpZiAwCiNpZm5kZWYgUFRIUkVBRF9DQU5DRUxfQVNZTkNI
Uk9OT1VTCiNlcnJvciB1bmRlZmluZWQgUFRIUkVBRF9DQU5DRUxfQVNZTkNI
Uk9OT1VTCiNlbmRpZgojaWZuZGVmIFBUSFJFQURfQ0FOQ0VMX0VOQUJMRQoj
ZXJyb3IgdW5kZWZpbmVkIFBUSFJFQURfQ0FOQ0VMX0VOQUJMRQojZW5kaWYK
I2lmbmRlZiBQVEhSRUFEX0NBTkNFTF9ERUZFUlJFRAojZXJyb3IgdW5kZWZp
bmVkIFBUSFJFQURfQ0FOQ0VMX0RFRkVSUkVECiNlbmRpZgojaWZuZGVmIFBU
SFJFQURfQ0FOQ0VMX0RJU0FCTEUKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFE
X0NBTkNFTF9ESVNBQkxFCiNlbmRpZgojaWZuZGVmIFBUSFJFQURfQ0FOQ0VM
RUQKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFEX0NBTkNFTEVECiNlbmRpZgoj
ZW5kaWYKI2lmIEhBUkRfQ09ERQojaWZuZGVmIFBUSFJFQURfQ09ORF9JTklU
SUFMSVpFUgojZXJyb3IgdW5kZWZpbmVkIFBUSFJFQURfQ09ORF9JTklUSUFM
SVpFUgojZW5kaWYKI2VuZGlmCiNpZiAwCiNpZm5kZWYgUFRIUkVBRF9DUkVB
VEVfREVUQUNIRUQKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFEX0NSRUFURV9E
RVRBQ0hFRAojZW5kaWYKI2lmbmRlZiBQVEhSRUFEX0NSRUFURV9KT0lOQUJM
RQojZXJyb3IgdW5kZWZpbmVkIFBUSFJFQURfQ1JFQVRFX0pPSU5BQkxFCiNl
bmRpZgojaWZuZGVmIFBUSFJFQURfRVhQTElDSVRfU0NIRUQKI2Vycm9yIHVu
ZGVmaW5lZCBQVEhSRUFEX0VYUExJQ0lUX1NDSEVECiNlbmRpZgojaWZuZGVm
IFBUSFJFQURfSU5IRVJJVF9TQ0hFRAojZXJyb3IgdW5kZWZpbmVkIFBUSFJF
QURfSU5IRVJJVF9TQ0hFRAojZW5kaWYKI2lmbmRlZiBQVEhSRUFEX01VVEVY
X0RFRkFVTFQKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFEX01VVEVYX0RFRkFV
TFQKI2VuZGlmCiNpZm5kZWYgUFRIUkVBRF9NVVRFWF9FUlJPUkNIRUNLCiNl
cnJvciB1bmRlZmluZWQgUFRIUkVBRF9NVVRFWF9FUlJPUkNIRUNLCiNlbmRp
ZgojaWZuZGVmIFBUSFJFQURfTVVURVhfTk9STUFMCiNlcnJvciB1bmRlZmlu
ZWQgUFRIUkVBRF9NVVRFWF9OT1JNQUwKI2VuZGlmCiNpZm5kZWYgUFRIUkVB
RF9NVVRFWF9JTklUSUFMSVpFUgojZXJyb3IgdW5kZWZpbmVkIFBUSFJFQURf
TVVURVhfSU5JVElBTElaRVIKI2VuZGlmCiNpZm5kZWYgUFRIUkVBRF9NVVRF
WF9SRUNVUlNJVkUKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFEX01VVEVYX1JF
Q1VSU0lWRQojZW5kaWYKI2lmbmRlZiBQVEhSRUFEX09OQ0VfSU5JVAojZXJy
b3IgdW5kZWZpbmVkIFBUSFJFQURfT05DRV9JTklUCiNlbmRpZgojaWZuZGVm
IFBUSFJFQURfUFJJT19JTkhFUklUCiNlcnJvciB1bmRlZmluZWQgUFRIUkVB
RF9QUklPX0lOSEVSSVQKI2VuZGlmCiNpZm5kZWYgUFRIUkVBRF9QUklPX05P
TkUKI2Vycm9yIHVuZGVmaW5lZCBQVEhSRUFEX1BSSU9fTk9ORQojZW5kaWYK
I2lmbmRlZiBQVEhSRUFEX1BSSU9fUFJPVEVDVAojZXJyb3IgdW5kZWZpbmVk
IFBUSFJFQURfUFJJT19QUk9URUNUCiNlbmRpZgojZW5kaWYKI2lmbmRlZiBQ
VEhSRUFEX1BST0NFU1NfU0hBUkVECiNlcnJvciB1bmRlZmluZWQgUFRIUkVB
RF9QUk9DRVNTX1NIQVJFRAojZW5kaWYKI2lmbmRlZiBQVEhSRUFEX1BST0NF
U1NfUFJJVkFURQojZXJyb3IgdW5kZWZpbmVkIFBUSFJFQURfUFJPQ0VTU19Q
UklWQVRFCiNlbmRpZgojaWYgMAojaWZuZGVmIFBUSFJFQURfUldMT0NLX0lO
SVRJQUxJWkVSCiNlcnJvciB1bmRlZmluZWQgUFRIUkVBRF9SV0xPQ0tfSU5J
VElBTElaRVIKI2VuZGlmCiNpZm5kZWYgUFRIUkVBRF9TQ09QRV9QUk9DRVNT
CiNlcnJvciB1bmRlZmluZWQgUFRIUkVBRF9TQ09QRV9QUk9DRVNTCiNlbmRp
ZgojaWZuZGVmIFBUSFJFQURfU0NPUEVfU1lTVEVNCiNlcnJvciB1bmRlZmlu
ZWQgUFRIUkVBRF9TQ09QRV9TWVNURU0KI2VuZGlmCgojZW5kaWYKCnR5cGVk
ZWYgc3RydWN0IGRhdGFzdHJ1Y3QgewogIHB0aHJlYWRfY29uZF90IGNvbmQ7
CiAgcHRocmVhZF9tdXRleF90IG11dGV4OwogIGludCB0ZXN0dmFsdWU7Cn0g
ZGF0YXN0cnVjdF90OwoKc3RhdGljIGludCB0cnY9MTsKCnZvaWQgKnRocmVh
ZGZ1bmModm9pZCAqYXJndW1lbnQpIHsKICBkYXRhc3RydWN0X3QgKm15ZGF0
YT1hcmd1bWVudDsKICAvKiBnZXQgdGhlIG11dGV4ICovCiAgaWYgKHB0aHJl
YWRfbXV0ZXhfbG9jaygmbXlkYXRhLT5tdXRleCkpCiAgICByZXR1cm4gJnRy
djsKICAvKiBsb29wIG9uIHRoZSB2YWx1ZSAqLwogIHdoaWxlIChteWRhdGEt
PnRlc3R2YWx1ZT4wKSB7CiAgICAvKiBzZXQgdGhlIHZhcmlhYmxlIHZhbHVl
ICovCiAgICBpZiAobXlkYXRhLT50ZXN0dmFsdWU+MCkKICAgICAgbXlkYXRh
LT50ZXN0dmFsdWUtLTsKICAgIC8qIHRlbGwgYW55IHdhaXRpbmcgdGhyZWFk
cyAqLwogICAgaWYgKHB0aHJlYWRfY29uZF9zaWduYWwoJm15ZGF0YS0+Y29u
ZCkpCiAgICAgIHJldHVybiAmdHJ2OwogICAgLyogcmVsZWFzZSB0aGUgbXV0
ZXggc28gdGhlIHdhaXRpbmcgKGFuZCBub3cgc2lnbmFsZWQgdGhyZWFkKSBj
YW4gZ2V0IHRoZSBsb2NrICovCiAgICBpZiAocHRocmVhZF9tdXRleF91bmxv
Y2soJm15ZGF0YS0+bXV0ZXgpKQogICAgICByZXR1cm4gJnRydjsKICAgIC8q
IGxldCBvdGhlciB0aHJlYWRzIGRvIHNvbWUgc3R1ZmYgKi8KICAgIHNjaGVk
X3lpZWxkKCk7CiAgICAvKiBnZXQgdGhlIG11dGV4IGFnYWluIHNvIHdlIGNh
biB1cGRhdGUgdGhlIHZhbHVlICovCiAgICBpZiAocHRocmVhZF9tdXRleF9s
b2NrKCZteWRhdGEtPm11dGV4KSkKICAgICAgcmV0dXJuICZ0cnY7CiAgfQog
IC8qIHdlIGhhdmUgdGhlIG11dGV4IGhlcmUgKi8KICBpZiAocHRocmVhZF9t
dXRleF91bmxvY2soJm15ZGF0YS0+bXV0ZXgpKQogICAgcmV0dXJuICZ0cnY7
CgogIHRydj0wOwogIHJldHVybiAmdHJ2Owp9CgptYWluKHZvaWQpIHsKZGF0
YXN0cnVjdF90IGRhdGE7CnB0aHJlYWRfY29uZGF0dHJfdCBjb25kYXR0cjsK
cHRocmVhZF90IHRocmVhZDsKaW50IHJ2LHBzaGFyZWQsIHBvbGljeSwgbWlu
X3ByaSwgbWF4X3ByaTsKc3RydWN0IHRpbWVzcGVjIHRpbWVfcXVhbnR1bTsK
c3RydWN0IHNjaGVkX3BhcmFtIHNjaGVkcGFyYW07CgpydiA9IHB0aHJlYWRf
Y29uZGF0dHJfaW5pdCgmY29uZGF0dHIpOwpwcmludGYoImNvbmRhdHRyIGlu
aXQgJWRcbiIscnYpOwpydiA9IHB0aHJlYWRfY29uZGF0dHJfZ2V0cHNoYXJl
ZCgmY29uZGF0dHIsICZwc2hhcmVkKTsKcHJpbnRmKCJjb25kYXR0ciBnZXRw
c2hhcmVkICVkLCBwc2hhcmVkICVkXG4iLHJ2LHBzaGFyZWQpOwpydiA9IHB0
aHJlYWRfY29uZGF0dHJfc2V0cHNoYXJlZCgmY29uZGF0dHIsIFBUSFJFQURf
UFJPQ0VTU19TSEFSRUQpOwpwcmludGYoImNvbmRhdHRyIHNldHBzaGFyZWQg
JWRcbiIpOwpydiA9IHB0aHJlYWRfY29uZGF0dHJfZ2V0cHNoYXJlZCgmY29u
ZGF0dHIsICZwc2hhcmVkKTsKcHJpbnRmKCJjb25kYXR0ciBnZXRwc2hhcmVk
ICVkLCBwc2hhcmVkICVkXG4iLHJ2LHBzaGFyZWQpOwoKcnYgPSBwdGhyZWFk
X2NvbmRfaW5pdCgmZGF0YS5jb25kLCAmY29uZGF0dHIpOwpwcmludGYoImNv
bmQgaW5pdCAlZFxuIixydik7CgpydiA9IHB0aHJlYWRfbXV0ZXhfaW5pdCgm
ZGF0YS5tdXRleCwgTlVMTCk7CnByaW50ZigibXV0ZXggaW5pdCAlZFxuIixy
dik7CgpkYXRhLnRlc3R2YWx1ZT0xNTA7CgpydiA9IHB0aHJlYWRfY3JlYXRl
KCZ0aHJlYWQsIE5VTEwsIHRocmVhZGZ1bmMsICZkYXRhKTsKcHJpbnRmKCJj
cmVhdGUgdGhyZWFkICVkXG4iLHJ2KTsKCgovKiBnZXQgdGhlIG11dGV4ICov
CnByaW50ZigibG9ja2luZyBtdXRleFxuIik7CnJ2ID0gcHRocmVhZF9tdXRl
eF9sb2NrKCZkYXRhLm11dGV4KTsKcHJpbnRmKCJsb2NrIG11dGV4ICVkXG4i
LHJ2KTsKCi8qIHdlIG5vdyBoYXZlIDEgcnVubmluZyB0aHJlYWQgYW5kIDEg
cGF1c2VkIHRocmVhZC4uLiBzbyBsZXRzIHRlc3Qgc2NoZWR1bGVyIHN0dWZm
IG5vdyAqLwojaWZuZGVmIFNDSEVEX0ZJRk8KI2Vycm9yIG5vIEZJRk8KI2Vu
ZGlmCiNpZm5kZWYgU0NIRURfUlIKI2Vycm9yIG5vIFJvdW5kUm9iaW4KI2Vu
ZGlmCiNpZm5kZWYgU0NIRURfT1RIRVIKI2Vycm9yIG5vIE90aGVyCiNlbmRp
ZgoKCiNpZiBub3RlcwppbnQgICAgc2NoZWRfZ2V0X3ByaW9yaXR5X21heChp
bnQgcG9saWN5KTsgICAgICAgICAgICAgICAvKiBtYXggcHJpb3JpdHkgZm9y
IHBvbGljeSAqLwppbnQgICAgc2NoZWRfZ2V0X3ByaW9yaXR5X21pbihpbnQg
cG9saWN5KTsgICAgICAgICAgICAgICAvKiBtaW4gcHJpb3JpdHkgZm9yIHBv
bGljeSAqLwppbnQgICAgc2NoZWRfZ2V0cGFyYW0ocGlkX3QgcGlkLCBzdHJ1
Y3Qgc2NoZWRfcGFyYW0gKnBhcmFtKTsgICAgICAvKiBnZXQgc2NoZWQgcGFy
YW1zIGZvciBwcm9jZXNzKi8KaW50ICAgIHNjaGVkX2dldHNjaGVkdWxlcihw
aWRfdCBwaWQpOyAgICAgICAgICAgICAgICAgICAvKiBnZXQgdGhlIHNjaGVk
dWxlciBmb3IgcGlkICovCmludCAgICBzY2hlZF9ycl9nZXRfaW50ZXJ2YWwo
cGlkX3QgcGlkLCBzdHJ1Y3QgdGltZXNwZWMgKmludGVydmFsKTsgLyogZ2V0
IHRoZSB0aW1lIHF1YW50dW0gZm9yIHBpZCAqLwppbnQgICAgc2NoZWRfc2V0
cGFyYW0ocGlkX3QsIGNvbnN0IHN0cnVjdCBzY2hlZF9wYXJhbSAqKTsgLyog
c2V0IHRoZSBzY2hlZHVsaW5nIHBhcmFtZXRlcnMgKi8KaW50ICAgIHNjaGVk
X3NldHNjaGVkdWxlcihwaWRfdCwgaW50LCBjb25zdCBzdHJ1Y3Qgc2NoZWRf
cGFyYW0gKik7IC8qIHNldCB0aGUgc2NoZWR1bGVyICovCmludCAgICBzY2hl
ZF95aWVsZCh2b2lkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAvKiB5aWVsZCB0aGUgY3B1ICovCiNlbmRpZgoKLyogY2xl
YXIgdGhlIGVycm9yIGNvZGUgKi8KZXJybm8gPTA7CnBvbGljeSA9IHNjaGVk
X2dldHNjaGVkdWxlcigwKTsKCmlmIChwb2xpY3kgPT0gLTEgJiYgZXJybm8p
CgogIHN3aXRjaCAoZXJybm8pIHsKICAgIGNhc2UgRU5PU1lTOnByaW50Zigi
Z2V0IHNjaGVkdWxlciBub3QgaW1wbGVtZW50ZWQgKCVkKVxuIixwb2xpY3kp
O2JyZWFrOwogICAgY2FzZSBFUEVSTTpwcmludGYoImdldCBzY2hlZHVsZXIg
bm8gYWNjZXNzICglZClcbiIscG9saWN5KTticmVhazsKICAgIGNhc2UgRVNS
Q0g6cHJpbnRmKCJnZXQgc2NoZWR1bGVyIG5vIHByb2Nlc3MgKCVkKVxuIixw
b2xpY3kpO2JyZWFrOwogICAgZGVmYXVsdDpwcmludGYoImdldCBzY2hlZHVs
ZXIgcmV0dXJuZWQgYW4gdW5leHBlY3RlZCBlcnJub1xuIixlcnJubyk7YnJl
YWs7CiAgfSAKZWxzZQpzd2l0Y2gocG9saWN5KSB7CmNhc2UgU0NIRURfRklG
TzpwcmludGYoImdldCBzY2hlZHVsZXIgcmV0dXJuZWQgRklGTyAoJWQpXG4i
LHBvbGljeSk7YnJlYWs7CmNhc2UgU0NIRURfUlI6cHJpbnRmKCJnZXQgc2No
ZWR1bGVyIHJldHVybmVkIFJSICglZClcbiIscG9saWN5KTticmVhazsKY2Fz
ZSBTQ0hFRF9PVEhFUjpwcmludGYoImdldCBzY2hlZHVsZXIgcmV0dXJuZWQg
T1RIRVIgKCVkKVxuIixwb2xpY3kpO2JyZWFrOwpkZWZhdWx0OnByaW50Zigi
Z2V0IHNjaGVkdWxlciByZXR1cm5lZCBhbiB1bmV4cGVjdGVkIHZhbHVlICgl
ZClcbiIscG9saWN5KTticmVhazsKfQoKLyogY2xlYXIgdGhlIGVycm9yIGNv
ZGUgKi8KZXJybm8gPTA7CnJ2ID0gc2NoZWRfZ2V0cGFyYW0oMCwgJnNjaGVk
cGFyYW0pOwppZiAocnY9PS0xKSAKICBwcmludGYgKCJnZXQgcGFyYW0gcmV0
dXJuZWQgZXJyb3IgJWRcbiIsZXJybm8pOwplbHNlCiAgcHJpbnRmICgiZ2V0
IHBhcmFtIHJldHVybmVkIHByaW9yaXR5ICVkXG4iLHNjaGVkcGFyYW0uc2No
ZWRfcHJpb3JpdHkpOwoKbWluX3ByaT1zY2hlZF9nZXRfcHJpb3JpdHlfbWlu
KHBvbGljeSk7Cm1heF9wcmk9c2NoZWRfZ2V0X3ByaW9yaXR5X21heChwb2xp
Y3kpOwpzd2l0Y2gobWluX3ByaSkgewpjYXNlIEVJTlZBTDpwcmludGYoIm1p
biBwcmlvcml0eSByZXR1cm5lZCBFSU5WQUwgKCVkKSAtIGludmFsaWQgcG9s
aWN5XG4iLG1pbl9wcmkpO21pbl9wcmk9MDticmVhazsKY2FzZSBFTk9TWVM6
cHJpbnRmKCJtaW4gcHJpb3JpdHkgcmV0dXJuZWQgRU5PU1lTICglZCkgLSBu
b3QgaW1wbGVtZW50ZWRcbiIsIG1pbl9wcmkpO21pbl9wcmk9MDticmVhazsK
ZGVmYXVsdDpwcmludGYoIm1pbiBwcmlvcml0eSByZXR1cm5lZCAlZFxuIiwg
bWluX3ByaSk7YnJlYWs7Cn0KCnN3aXRjaChtYXhfcHJpKSB7CmNhc2UgRUlO
VkFMOnByaW50ZigibWF4IHByaW9yaXR5IHJldHVybmVkIEVJTlZBTCAoJWQp
IC0gaW52YWxpZCBwb2xpY3lcbiIsbWF4X3ByaSk7bWF4X3ByaT0wO2JyZWFr
OwpjYXNlIEVOT1NZUzpwcmludGYoIm1heCBwcmlvcml0eSByZXR1cm5lZCBF
Tk9TWVMgKCVkKSAtIG5vdCBpbXBsZW1lbnRlZFxuIiwgbWF4X3ByaSk7bWF4
X3ByaT0wO2JyZWFrOwpkZWZhdWx0OnByaW50ZigibWF4IHByaW9yaXR5IHJl
dHVybmVkICVkXG4iLCBtYXhfcHJpKTticmVhazsKfQoKZXJybm8gPTA7CnJ2
ID0gc2NoZWRfcnJfZ2V0X2ludGVydmFsKDAsICZ0aW1lX3F1YW50dW0pOwpp
ZiAocnY9PS0xICYmIGVycm5vKQogIHByaW50ZigicnJfZ2V0X2ludGVydmFs
IHJldHVybmVkIGVycm9yICVkXG4iLGVycm5vKTsKZWxzZQogIHByaW50Zigi
cnJfZ2V0X2ludGVydmFsICVkXG4iLHJ2KTsKCi8qIHNldCBwcmlvcml0eSB0
byBoaWdoZXN0ICovCnNjaGVkcGFyYW0uc2NoZWRfcHJpb3JpdHk9bWF4X3By
aTsKcnYgPSBzY2hlZF9zZXRwYXJhbSgwLCAmc2NoZWRwYXJhbSk7CmlmIChy
dj09LTEpCiAgcHJpbnRmKCJzY2hlZCBzZXQgcGFyYW0gcmV0dXJuZWQgZXJy
b3IgJWRcbiIsZXJybm8pOwplbHNlCnsKICBwcmludGYoInNldCBwcmlvcml0
eSB0byBoaWdoZXN0KCVkKSwgcGxlYXNlIGNoZWNrIG5vdyBhbmQgcHJlc3Mg
UkVUVVJOXG4iLG1heF9wcmkpOwogIGdldGMoc3RkaW4pOwp9CgovKiBzZXQg
cHJpb3JpdHkgdG8gbG93ZXN0ICovCnNjaGVkcGFyYW0uc2NoZWRfcHJpb3Jp
dHk9bWluX3ByaTsKcnYgPSBzY2hlZF9zZXRwYXJhbSgwLCAmc2NoZWRwYXJh
bSk7CmlmIChydj09LTEpCiAgcHJpbnRmKCJzY2hlZCBzZXQgcGFyYW0gcmV0
dXJuZWQgZXJyb3IgJWRcbiIsZXJybm8pOwplbHNlCnsKICBwcmludGYoInNl
dCBwcmlvcml0eSB0byBsb3dlc3QoJWQpLCBwbGVhc2UgY2hlY2sgbm93IGFu
ZCBwcmVzcyBSRVRVUk5cbiIsbWluX3ByaSk7CiAgZ2V0YyhzdGRpbik7Cn0K
Ci8qIHRyeSBjaGFuZ2luZyBzY2hlZHVsaW5nIHByaW9yaXR5ICovCgoKd2hp
bGUgKGRhdGEudGVzdHZhbHVlID4gMCkgewovLyAgcHJpbnRmKCJ3YWl0aW5n
IG9uIHRoZSBjb25kaXRpb25cbiIpOwogIHJ2ID0gcHRocmVhZF9jb25kX3dh
aXQoJmRhdGEuY29uZCwgJmRhdGEubXV0ZXgpOwovLyAgcHJpbnRmKCJjb25k
IHdhaXQgJWRcbiIscnYpOwogIHByaW50ZigidGVzdHZhbHVlICVkLS0iLGRh
dGEudGVzdHZhbHVlLS0pOwp9CgpydiA9IHB0aHJlYWRfbXV0ZXhfdW5sb2Nr
KCZkYXRhLm11dGV4KTsKcHJpbnRmKCJcbm11dGV4IHVubG9jayAlZFxuIixy
dik7CgovL3J2ID0gMDsKLy93aGlsZSAoIXJ2KSB7Ci8vLyogdGhpcyBpcyBi
YWQgcHJvZ3JhbW1pbmchIGJ1c3kgbG9vcCB1bnRpbCB0aGUgdGhyZWFkIGNh
bm5vdCBiZSBmb3VuZCAqLwovL3J2ID0gcHRocmVhZF9jYW5jZWwoJnRocmVh
ZCk7Ci8vfQovL3ByaW50ZigidGhyZWFkIGhhcyBleGl0ZWRcbiIpOwoKcnYg
PSBwdGhyZWFkX211dGV4X2Rlc3Ryb3koJmRhdGEubXV0ZXgpOwpwcmludGYo
Im11dGV4IGRlc3Ryb3kgJWRcbiIscnYpOwoKcnYgPSBwdGhyZWFkX2NvbmRf
ZGVzdHJveSgmZGF0YS5jb25kKTsKcHJpbnRmKCJjb25kIGRlc3Ryb3kgJWRc
biIscnYpOwojaWYgSEFSRF9DT0RFCnJ2ID0gcHRocmVhZF9jb25kX2Rlc3Ry
b3koJmNvbmQyKTsKcHJpbnRmKCJjb25kMihkZWZhdWx0IGluaXQpIGRlc3Ry
b3kgJWRcbiIscnYpOwojZW5kaWYKCnJ2ID0gcHRocmVhZF9jb25kYXR0cl9k
ZXN0cm95KCZjb25kYXR0cik7CnByaW50ZigiY29uZGF0dHIgZGVzdHJveSAl
ZFxuIixydik7CgoKCnJldHVybiAwOwp9Cg==

------------=_1583532846-65438-22
Content-Type: text/x-c; charset=us-ascii; name="sched.cc"
Content-Disposition: inline; filename="sched.cc"
Content-Transfer-Encoding: base64
Content-Length: 1924

Lyogc2NoZWQuY2M6IHBvc2l4IHNjaGVkIGludGVyZmFjZSBmb3IgQ3lnd2lu
IAoKICAgQ2hyaXMgcGxlYXNlIHB1dCBhbiBhcHByb3ByaWF0ZSByZWRoYXQg
Y29weXJpZ2h0IGhlcmUuCgogICBXcml0dGVuIGJ5IFJvYmVydCBDb2xsaW5z
IChyYnRjb2xsaW5zQGhvdG1haWwuY29tPgoKICAgVGhpcyBmaWxlIGlzIHBh
cnQgb2YgQ3lnd2luLgoKICAgVGhpcyBzb2Z0d2FyZSBpcyBhIGNvcHlyaWdo
dGVkIHdvcmsgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZQogICBD
eWd3aW4gbGljZW5zZS4gIFBsZWFzZSBjb25zdWx0IHRoZSBmaWxlICJDWUdX
SU5fTElDRU5TRSIgZm9yCiAgIGRldGFpbHMuICovCgojaW5jbHVkZSAid2lu
c3VwLmgiCiNpbmNsdWRlICJzY2hlZHVsZS5oIgoKZXh0ZXJuICJDIiB7Cgov
KiBtYXggcHJpb3JpdHkgZm9yIHBvbGljeSAqLwppbnQKc2NoZWRfZ2V0X3By
aW9yaXR5X21heChpbnQgcG9saWN5KQp7CiAgcmV0dXJuIF9fc2NoZWRfZ2V0
X3ByaW9yaXR5X21heCAocG9saWN5KTsKfQoKLyogbWluIHByaW9yaXR5IGZv
ciBwb2xpY3kgKi8KaW50CnNjaGVkX2dldF9wcmlvcml0eV9taW4oaW50IHBv
bGljeSkKewogIHJldHVybiBfX3NjaGVkX2dldF9wcmlvcml0eV9taW4gKHBv
bGljeSk7Cn0KCi8qIGdldCBzY2hlZCBwYXJhbXMgZm9yIHByb2Nlc3MgKi8K
aW50CnNjaGVkX2dldHBhcmFtKHBpZF90IHBpZCwgc3RydWN0IHNjaGVkX3Bh
cmFtICpwYXJhbSkKewogIHJldHVybiBfX3NjaGVkX2dldHBhcmFtIChwaWQs
IHBhcmFtKTsKfQoKLyogZ2V0IHRoZSBzY2hlZHVsZXIgZm9yIHBpZCAqLwpp
bnQKc2NoZWRfZ2V0c2NoZWR1bGVyKHBpZF90IHBpZCkKewogIHJldHVybiBf
X3NjaGVkX2dldHNjaGVkdWxlciAocGlkKTsKfQoKLyogZ2V0IHRoZSB0aW1l
IHF1YW50dW0gZm9yIHBpZCAqLwppbnQKc2NoZWRfcnJfZ2V0X2ludGVydmFs
KHBpZF90IHBpZCwgc3RydWN0IHRpbWVzcGVjICppbnRlcnZhbCkKewogIHJl
dHVybiBfX3NjaGVkX3JyX2dldF9pbnRlcnZhbCAocGlkLCBpbnRlcnZhbCk7
Cn0KCi8qIHNldCB0aGUgc2NoZWR1bGluZyBwYXJhbWV0ZXJzICovCmludApz
Y2hlZF9zZXRwYXJhbShwaWRfdCBwaWQsIGNvbnN0IHN0cnVjdCBzY2hlZF9w
YXJhbSAqcGFyYW0pCnsKICByZXR1cm4gX19zY2hlZF9zZXRwYXJhbSAocGlk
LCBwYXJhbSk7Cn0KCi8qIHNldCB0aGUgc2NoZWR1bGVyICovCmludApzY2hl
ZF9zZXRzY2hlZHVsZXIocGlkX3QgcGlkLCBpbnQgcG9saWN5LCBjb25zdCBz
dHJ1Y3Qgc2NoZWRfcGFyYW0gKnBhcmFtKQp7CiAgcmV0dXJuIF9fc2NoZWRf
c2V0c2NoZWR1bGVyIChwaWQsIHBvbGljeSwgcGFyYW0pOwp9CgovKiB5aWVs
ZCB0aGUgY3B1ICovCmludApzY2hlZF95aWVsZCh2b2lkKQp7CiAgcmV0dXJu
IF9fc2NoZWRfeWllbGQgKCk7Cn0KCn0K

------------=_1583532846-65438-22
Content-Type: text/x-c; charset=us-ascii; name="sched.h"
Content-Disposition: inline; filename="sched.h"
Content-Transfer-Encoding: base64
Content-Length: 1379

LyogQ2hyaXMsIHBsZWFzZSBpbnNlcnQgdGhlIHN0YW5kYXJkIHJlZCBoYXQg
Y29weXJpZ2h0IHN0dWZmIGhlcmUuICovCgovKgogKiBXcml0dGVuIGJ5IFJv
YmVydCBDb2xsaW5zIDxyYnRjb2xsaW5zQGhvdG1haWwuY29tPgogKiBmcm9t
IHRoZSBvcGVuZ3JvdXAgc3BlY2lmaWNhdGlvbnMKICovCgojaWZuZGVmIF9T
Q0hFRF9ICiNkZWZpbmUgX1NDSEVEX0gKI2luY2x1ZGUgPHRpbWUuaD4KCi8q
IHdlIHJldHVybiAtMSBhbmQgc2V0IGVycm5vIG9uIGZhaWx1cmUgKi8KI2Rl
ZmluZSBTQ0hFRF9GSUZPICAxIAojZGVmaW5lIFNDSEVEX1JSICAgIDIKI2Rl
ZmluZSBTQ0hFRF9PVEhFUiAzCgpzdHJ1Y3Qgc2NoZWRfcGFyYW0gewogIGlu
dCBzY2hlZF9wcmlvcml0eTsKfTsKCgovKiBtYXggcHJpb3JpdHkgZm9yIHBv
bGljeSAqLwppbnQgICAgc2NoZWRfZ2V0X3ByaW9yaXR5X21heChpbnQpOyAK
LyogbWluIHByaW9yaXR5IGZvciBwb2xpY3kgKi8KaW50ICAgIHNjaGVkX2dl
dF9wcmlvcml0eV9taW4oaW50KTsgCi8qIGdldCBzY2hlZCBwYXJhbXMgZm9y
IHByb2Nlc3MgKi8KaW50ICAgIHNjaGVkX2dldHBhcmFtKHBpZF90LCBzdHJ1
Y3Qgc2NoZWRfcGFyYW0gKik7IAovKiBnZXQgdGhlIHNjaGVkdWxlciBmb3Ig
cGlkICovCmludCAgICBzY2hlZF9nZXRzY2hlZHVsZXIocGlkX3QpOwovKiBn
ZXQgdGhlIHRpbWUgcXVhbnR1bSBmb3IgcGlkICovCmludCAgICBzY2hlZF9y
cl9nZXRfaW50ZXJ2YWwocGlkX3QsIHN0cnVjdCB0aW1lc3BlYyAqKTsgCi8q
IHNldCB0aGUgc2NoZWR1bGluZyBwYXJhbWV0ZXJzICovCmludCAgICBzY2hl
ZF9zZXRwYXJhbShwaWRfdCwgY29uc3Qgc3RydWN0IHNjaGVkX3BhcmFtICop
OwovKiBzZXQgdGhlIHNjaGVkdWxlciAqLwppbnQgICAgc2NoZWRfc2V0c2No
ZWR1bGVyKHBpZF90LCBpbnQsIGNvbnN0IHN0cnVjdCBzY2hlZF9wYXJhbSAq
KTsKLyogeWllbGQgdGhlIGNwdSAqLwppbnQgICAgc2NoZWRfeWllbGQodm9p
ZCk7CgojZW5kaWYgLyogX1NDSEVEX0ggKi8K

------------=_1583532846-65438-22
Content-Type: text/x-diff; charset=us-ascii; name="sched.patch"
Content-Disposition: inline; filename="sched.patch"
Content-Transfer-Encoding: base64
Content-Length: 7312

SW5kZXg6IGN5Z3dpbi9NYWtlZmlsZS5pbgo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9NYWtl
ZmlsZS5pbix2CnJldHJpZXZpbmcgcmV2aXNpb24gMS41MQpkaWZmIC11IC1w
IC1yMS41MSBNYWtlZmlsZS5pbgotLS0gTWFrZWZpbGUuaW4JMjAwMS8wMi8y
MiAxMjo1NjozNgkxLjUxCisrKyBNYWtlZmlsZS5pbgkyMDAxLzAzLzE4IDAz
OjI3OjE2CkBAIC0xMjMsOCArMTIzLDggQEAgRExMX09GSUxFUzo9YXNzZXJ0
Lm8gYXV0b2xvYWQubyBjeWdoZWFwLgogCWZvcmsubyBnbG9iLm8gZ3JwLm8g
aGVhcC5vIGluaXQubyBpb2N0bC5vIGxvY2FsdGltZS5vIG1hbGxvYy5vIFwK
IAltaXNjZnVuY3MubyBtbWFwLm8gXAogCW5ldC5vIG50ZWEubyBwYXNzd2Qu
byBwYXRoLm8gcGluZm8ubyBwaXBlLm8gcG9sbC5vIHB0aHJlYWQubyByZWdl
eHAubyBcCi0JcmVnZXJyb3IubyByZWdzdWIubyByZWdpc3RyeS5vIHJlc291
cmNlLm8gc2NhbmRpci5vIHNlY3VyaXR5Lm8gc2VsZWN0Lm8gXAotCXNoYXJl
ZC5vIFwKKwlyZWdlcnJvci5vIHJlZ3N1Yi5vIHJlZ2lzdHJ5Lm8gcmVzb3Vy
Y2UubyBzY2FuZGlyLm8gc2NoZWQubyBzY2hlZHVsZS5vIFwKKyAgICAgICAg
c2VjdXJpdHkubyBzZWxlY3QubyBzaGFyZWQubyBcCiAJc2hvcnRjdXQubyBz
aWduYWwubyBzaWdwcm9jLm8gc21hbGxwcmludC5vIHNwYXduLm8gc3RyYWNl
Lm8gc3Ryc2VwLm8gXAogCXN5bmMubyBzeXNjYWxscy5vIHN5c2NvbmYubyBz
eXNsb2cubyB0ZXJtaW9zLm8gdGhyZWFkLm8gdGltZXMubyB0dHkubyBcCiAJ
dWluZm8ubyB1bmFtZS5vIHdhaXQubyB3aW5kb3cubyBcCkluZGV4OiBjeWd3
aW4vY3lnd2luLmRpbgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxl
OiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9jeWd3aW4uZGluLHYKcmV0
cmlldmluZyByZXZpc2lvbiAxLjIyCmRpZmYgLXUgLXAgLXIxLjIyIGN5Z3dp
bi5kaW4KLS0tIGN5Z3dpbi5kaW4JMjAwMS8wMy8xNyAwMToxNDo1NwkxLjIy
CisrKyBjeWd3aW4uZGluCTIwMDEvMDMvMTggMDM6Mjc6MjMKQEAgLTExMTQs
NiArMTExNCwxNCBAQCBjeWd3aW4zMl9pbnRlcm5hbCA9IGN5Z3dpbl9pbnRl
cm5hbAogQFBUSF9BTExPV0BzZW1fd2FpdAogQFBUSF9BTExPV0BzZW1fdHJ5
d2FpdAogQFBUSF9BTExPV0BzZW1fcG9zdAorc2NoZWRfZ2V0X3ByaW9yaXR5
X21heAorc2NoZWRfZ2V0X3ByaW9yaXR5X21pbgorc2NoZWRfZ2V0cGFyYW0K
K3NjaGVkX2dldHNjaGVkdWxlcgorc2NoZWRfcnJfZ2V0X2ludGVydmFsCitz
Y2hlZF9zZXRwYXJhbQorc2NoZWRfc2V0c2NoZWR1bGVyCitzY2hlZF95aWVs
ZAogYWNsCiBfYWNsID0gYWNsCiBmYWNsCkluZGV4OiBjeWd3aW4vZXh0ZXJu
YWwuY2MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2cy9z
cmMvc3JjL3dpbnN1cC9jeWd3aW4vZXh0ZXJuYWwuY2MsdgpyZXRyaWV2aW5n
IHJldmlzaW9uIDEuMjEKZGlmZiAtdSAtcCAtcjEuMjEgZXh0ZXJuYWwuY2MK
LS0tIGV4dGVybmFsLmNjCTIwMDEvMDEvMjggMDU6NTE6MTQJMS4yMQorKysg
ZXh0ZXJuYWwuY2MJMjAwMS8wMy8xOCAwMzoyNzoyNApAQCAtNjEsNiArNjEs
NyBAQCBmaWxsb3V0X3BpbmZvIChwaWRfdCBwaWQsIGludCB3aW5waWQpCiAJ
ICBlcC5wcGlkID0gcC0+cHBpZDsKIAkgIGVwLmhQcm9jZXNzID0gcC0+aFBy
b2Nlc3M7CiAJICBlcC5kd1Byb2Nlc3NJZCA9IHAtPmR3UHJvY2Vzc0lkOwor
CSAgZXAuZHdUaHJlYWRJZCA9IHAtPmR3VGhyZWFkSWQ7CiAJICBlcC51aWQg
PSBwLT51aWQ7CiAJICBlcC5naWQgPSBwLT5naWQ7CiAJICBlcC5wZ2lkID0g
cC0+cGdpZDsKSW5kZXg6IGN5Z3dpbi9mb3JrLmNjCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvY3lnd2lu
L2ZvcmsuY2MsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNDEKZGlmZiAtdSAt
cCAtcjEuNDEgZm9yay5jYwotLS0gZm9yay5jYwkyMDAxLzAyLzEwIDA0OjIw
OjUyCTEuNDEKKysrIGZvcmsuY2MJMjAwMS8wMy8xOCAwMzoyNzoyNgpAQCAt
NTE3LDYgKzUxNyw4IEBAIG91dDoKICAgLyogRmlsbCBpbiBmaWVsZHMgaW4g
dGhlIGNoaWxkJ3MgcHJvY2VzcyB0YWJsZSBlbnRyeS4gICovCiAgIGZvcmtl
ZC0+aFByb2Nlc3MgPSBwaS5oUHJvY2VzczsKICAgZm9ya2VkLT5kd1Byb2Nl
c3NJZCA9IHBpLmR3UHJvY2Vzc0lkOworICAvKiBuZWVkZWQgZm9yIHNjaGVk
dWxlciBmdW5jdGlvbnMgKi8KKyAgZm9ya2VkLT5kd1RocmVhZElkID0gcGku
ZHdUaHJlYWRJZDsgCiAgIGZvcmtlZC0+Y29weXNpZ3MobXlzZWxmKTsKIAog
ICAvKiBIb3BlZnVsbHksIHRoaXMgd2lsbCBzdWNjZWVkLiAgVGhlIGFsdGVy
bmF0aXZlIHRvIGRvaW5nIHRoaW5ncyB0aGlzCkluZGV4OiBjeWd3aW4vcGlu
Zm8uY2MKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2cy9z
cmMvc3JjL3dpbnN1cC9jeWd3aW4vcGluZm8uY2MsdgpyZXRyaWV2aW5nIHJl
dmlzaW9uIDEuNDEKZGlmZiAtdSAtcCAtcjEuNDEgcGluZm8uY2MKLS0tIHBp
bmZvLmNjCTIwMDEvMDEvMzAgMDg6MTA6MDQJMS40MQorKysgcGluZm8uY2MJ
MjAwMS8wMy8xOCAwMzoyNzoyNwpAQCAtNTgsNiArNTgsNyBAQCBzZXRfbXlz
ZWxmIChwaWRfdCBwaWQsIEhBTkRMRSBoKQogICAgIHBpZCA9IGN5Z3dpbl9w
aWQgKHdpbnBpZCk7CiAgIG15c2VsZi5pbml0IChwaWQsIDEsIGgpOwogICBt
eXNlbGYtPmR3UHJvY2Vzc0lkID0gd2lucGlkOworICBteXNlbGYtPmR3VGhy
ZWFkSWQgPSBHZXRDdXJyZW50VGhyZWFkSWQoKTsKICAgbXlzZWxmLT5wcm9j
ZXNzX3N0YXRlIHw9IFBJRF9JTl9VU0U7CiAgIG15c2VsZi0+c3RhcnRfdGlt
ZSA9IHRpbWUgKE5VTEwpOyAvKiBSZWdpc3RlciBvdXIgc3RhcnRpbmcgdGlt
ZS4gKi8KIApJbmRleDogY3lnd2luL3BpbmZvLmgKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQpSQ1MgZmlsZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jeWd3aW4v
cGluZm8uaCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4yNApkaWZmIC11IC1w
IC1yMS4yNCBwaW5mby5oCi0tLSBwaW5mby5oCTIwMDEvMDMvMTAgMjM6Mzc6
NTAJMS4yNAorKysgcGluZm8uaAkyMDAxLzAzLzE4IDAzOjI3OjI4CkBAIC01
Niw2ICs1NiwxMiBAQCBwdWJsaWM6CiAgICAqLwogICBEV09SRCBkd1Byb2Nl
c3NJZDsKIAorICAvKiBkd1RocmVhZElkIGNvbnRhaW5zIHRoZSBtYWluIHRo
cmVhZCBvZiB0aGUgcHJvY2Vzcy4gSXQgbXVzdCBub3QgCisgICAqIGJlIGNo
YW5nZWQgb3IgcmVzZXQuIEl0IGlzIHVzZWQgZm9yIHNjaGVkdWxlciBhY2Nl
c3MgZnJvbSByZW1vdGUKKyAgICogcHJvY2VzcydzLgorICAgKi8KKyAgRFdP
UkQgZHdUaHJlYWRJZDsKKwogICAvKiBVc2VkIHRvIHNwYXduIGEgY2hpbGQg
Zm9yIGZvcmsoKSwgYW1vbmcgb3RoZXIgdGhpbmdzLiAqLwogICBjaGFyIHBy
b2duYW1lW01BWF9QQVRIXTsKIApJbmRleDogY3lnd2luL2luY2x1ZGUvc3lz
L2N5Z3dpbi5oCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9j
dnMvc3JjL3NyYy93aW5zdXAvY3lnd2luL2luY2x1ZGUvc3lzL2N5Z3dpbi5o
LHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjI0CmRpZmYgLXUgLXAgLXIxLjI0
IGN5Z3dpbi5oCi0tLSBjeWd3aW4uaAkyMDAxLzAzLzA1IDIxOjI5OjIzCTEu
MjQKKysrIGN5Z3dpbi5oCTIwMDEvMDMvMTggMDM6Mjc6MjkKQEAgLTIzMSw2
ICsyMzEsOCBAQCBzdHJ1Y3QgZXh0ZXJuYWxfcGluZm8KICAgSEFORExFIHN0
cmFjZV9maWxlOwogCiAgIERXT1JEIHByb2Nlc3Nfc3RhdGU7CisgCisgIERX
T1JEIGR3VGhyZWFkSWQ7CiB9OwogCiBEV09SRCBjeWd3aW5faW50ZXJuYWwg
KGN5Z3dpbl9nZXRpbmZvX3R5cGVzLCAuLi4pOwpJbmRleDogdzMyYXBpL2lu
Y2x1ZGUvd2luYmFzZS5oCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZp
bGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvdzMyYXBpL2luY2x1ZGUvd2luYmFz
ZS5oLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjkKZGlmZiAtdSAtcCAtcjEu
OSB3aW5iYXNlLmgKLS0tIHdpbmJhc2UuaAkyMDAxLzAxLzI2IDIxOjA1OjIw
CTEuOQorKysgd2luYmFzZS5oCTIwMDEvMDMvMTggMDM6Mjc6MzUKQEAgLTE0
MTAsNiArMTQxMCw3IEBAIEJPT0wgV0lOQVBJIE9wZW5Qcm9jZXNzVG9rZW4o
SEFORExFLERXT1IKIEhBTkRMRSBXSU5BUEkgT3BlblNlbWFwaG9yZUEoRFdP
UkQsQk9PTCxMUENTVFIpOwogSEFORExFIFdJTkFQSSBPcGVuU2VtYXBob3Jl
VyhEV09SRCxCT09MLExQQ1dTVFIpOwogQk9PTCBXSU5BUEkgT3BlblRocmVh
ZFRva2VuKEhBTkRMRSxEV09SRCxCT09MLFBIQU5ETEUpOworSEFORExFIFdJ
TkFQSSBPcGVuVGhyZWFkKERXT1JELCBCT09MLCBEV09SRCk7CiBIQU5ETEUg
V0lOQVBJIE9wZW5XYWl0YWJsZVRpbWVyQShEV09SRCxCT09MLExQQ1NUUik7
CiBIQU5ETEUgV0lOQVBJIE9wZW5XYWl0YWJsZVRpbWVyVyhEV09SRCxCT09M
LExQQ1dTVFIpOwogdm9pZCBXSU5BUEkgT3V0cHV0RGVidWdTdHJpbmdBKExQ
Q1NUUik7CkluZGV4OiB3MzJhcGkvbGliL2tlcm5lbDMyLmRlZgo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3Vw
L3czMmFwaS9saWIva2VybmVsMzIuZGVmLHYKcmV0cmlldmluZyByZXZpc2lv
biAxLjEuMS4xCmRpZmYgLXUgLXAgLXIxLjEuMS4xIGtlcm5lbDMyLmRlZgot
LS0ga2VybmVsMzIuZGVmCTIwMDAvMDIvMTcgMTk6Mzg6MzIJMS4xLjEuMQor
Kysga2VybmVsMzIuZGVmCTIwMDEvMDMvMTggMDM6Mjc6MzYKQEAgLTQ5Miw2
ICs0OTIsNyBAQCBPcGVuUHJvY2Vzc0AxMgogT3BlblByb2ZpbGVVc2VyTWFw
cGluZ0AwCiBPcGVuU2VtYXBob3JlQUAxMgogT3BlblNlbWFwaG9yZVdAMTIK
K09wZW5UaHJlYWRAMTIKIE9wZW5XYWl0YWJsZVRpbWVyQUAxMgogT3Blbldh
aXRhYmxlVGltZXJXQDEyCiBPdXRwdXREZWJ1Z1N0cmluZ0FANAo=

------------=_1583532846-65438-22
Content-Type: text/x-c; charset=us-ascii; name="schedule.cc"
Content-Disposition: inline; filename="schedule.cc"
Content-Transfer-Encoding: base64
Content-Length: 12615

Lyogc2NoZWR1bGUuY2M6IHNjaGVkdWxlciBpbnRlcmZhY2UgZm9yIEN5Z3dp
bgoKICAgQ2hyaXMsIHRpcmVkIG9mICBjb3B5cnJpZ2h0IGxpbmVzIHlldD8K
CiAgIFdyaXR0ZW4gYnkgUm9iZXJ0IENvbGxpbnMgPHJidGNvbGxpbnNAaG90
bWFpbC5jb20+CgogICBUaGlzIGZpbGUgaXMgcGFydCBvZiBDeWd3aW4uCgog
ICBUaGlzIHNvZnR3YXJlIGlzIGEgY29weXJpZ2h0ZWQgd29yayBsaWNlbnNl
ZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlCiAgIEN5Z3dpbiBsaWNlbnNlLiAg
UGxlYXNlIGNvbnN1bHQgdGhlIGZpbGUgIkNZR1dJTl9MSUNFTlNFIiBmb3IK
ICAgZGV0YWlscy4gKi8KCiNpZmRlZiBIQVZFX0NPTkZJR19ICiMgaW5jbHVk
ZSAiY29uZmlnLmgiCiNlbmRpZgoKI2luY2x1ZGUgIndpbnN1cC5oIgojaW5j
bHVkZSA8bGltaXRzLmg+CiNpbmNsdWRlIDxlcnJuby5oPgojaW5jbHVkZSAi
Y3lnZXJybm8uaCIKI2luY2x1ZGUgPGFzc2VydC5oPgojaW5jbHVkZSA8c3Rk
bGliLmg+CiNpbmNsdWRlIDxzeXNsb2cuaD4KI2luY2x1ZGUgInNjaGVkdWxl
LmgiCiNpbmNsdWRlICJzY2hlZC5oIgojaW5jbHVkZSAic2lncHJvYy5oIgoj
aW5jbHVkZSAicGluZm8uaCIKLyogZm9yIGdldHBpZCAqLwojaW5jbHVkZSA8
dW5pc3RkLmg+CgoKLyogV2luMzIgcHJpb3JpdHkgdG8gVU5JWCBwcmlvcml0
eSBNYXBwaW5nLgogKiBGb3Igbm93LCBJJ20ganVzdCBmb2xsb3dpbmcgdGhl
IHNwZWM6IGFueSByYW5nZSBvZiBwcmlvcml0aWVzIGlzIG9rLgogKiBUaGVy
ZSBhcmUgcHJvYmFibHkgbWFueSBtYW55IGlzc3VlcyB3aXRoIHRoaXMuLi4K
ICoKICogV2UgZG9uJ3Qgd2FudCBwcm9jZXNzJ3MgZ29pbmcgcmVhbHRpbWUu
IFdlbGwsIHRoZXkgcHJvYmFibHkgY291bGQsIGJ1dCB0aGUgaXNzdWVzIAog
KiB3aXRoIGF2b2lkaW5nIHRoZSBwcmlvcml0eSB2YWx1ZXMgMTctMjIgYW5k
IDI3LTMwIChub3Qgc3VwcG9ydGVkIGJlZm9yZSB3aW4yaykKICogbWFrZSB0
aGF0IGluZWZmaWNpZW50LiAKICogSG93ZXZlciB0byBjb21wbGljYXRlIHRo
aW5ncyBtb3N0IHVuaXhlcyB1c2UgbG93ZXIgaXMgYmV0dGVyIHByaW9yaXRp
ZXMuCiAqCiAqIFNvIHdlIG1hcCAtMTQgdG8gMTUsIGFuZCAxNSB0byAxIHZp
YSAoMTYtICgobisxNikgPj4gMSkpIAogKiB3ZSB0aGVuIG1hcCAxIHRvIDE1
IHRvIHZhcmlvdXMgcHJvY2VzcyBjbGFzcyBhbmQgdGhyZWFkIHByaW9yaXR5
IGNvbWJpbmF0aW9ucwogKgogKiBUaGVuIHdlIG5lZWQgdG8gbG9vayBhdCB0
aGUgdGhyZWFkcyB2aSBwcm9jZXNzIHByaW9yaXR5LiBBcyB3aW45NSA5OCBh
bmQgTlQgNCAKICogRG9uJ3Qgc3VwcG9ydCBvcGVuaW5nIHRocmVhZHMgY3Jv
c3MtcHJvY2VzcyAodW5sZXNzIGEgdGhyZWFkIEhBTkRMRSBpcyBwYXNzZWQg
YXJvdW5kKQogKiBmb3Igbm93LCB3ZSdsbCBqdXN0IHVzZSB0aGUgcHJpb3Jp
dHkgY2xhc3MuIAogKgogKiBUaGUgY29kZSBhbmQgbG9naWMgYXJlIHByZXNl
bnQgdG8gY2FsY3VsYXRlIHRoZSBwcmlvcml0eSwgaWYgYSB0aHJlYWQgaGFu
ZGxlIGNhbiBiZQogKiBvYnRhaW5lZC4gQWx0ZXJuYXRpdmVseSwgaWYgdGhl
IHN5bWJvbHMgd291bGRuJ3QgYmUgcmVzb2x2ZWQgdW50aWwgdGhleSBhcmUg
dXNlZAogKiB3ZSBjb3VsZCBzdXBwb3J0IHRoaXMgb24gd2luZG93cyAyMDAw
IGFuZCBNRSBub3csIGFuZCBqdXN0IGZhbGwgYmFjayB0byB0aGUgCiAqIGNs
YXNzIG9ubHkgb24gcHJlIHdpbjIwMDAgbWFjaGluZXMuCiAqCiAqIExhc3Rs
eSwgYmVjYXVzZSB3ZSBjYW4ndCBhc3N1bWUgdGhhdCB0aGUgcGlkIHdlJ3Jl
IGdpdmVuIGFyZSBXaW5kb3dzIHBpZHMsIHdlIGNhbid0CiAqIGFsdGVyIG5v
bi1jeWd3aW4gc3RhcnRlZCBwcm9ncmFtcy4gCiAqLyAKCi8qIG1heCBwcmlv
cml0eSBmb3IgcG9saWN5ICovCmludApfX3NjaGVkX2dldF9wcmlvcml0eV9t
YXgoaW50IHBvbGljeSkKewogIGlmIChwb2xpY3k8MSB8fCBwb2xpY3k+MykK
ICB7CiAgICBzZXRfZXJybm8gKEVJTlZBTCk7CiAgICByZXR1cm4gLTE7CiAg
fQogIHJldHVybiAtMTQ7Cn0KCi8qIG1pbiBwcmlvcml0eSBmb3IgcG9saWN5
ICovCmludApfX3NjaGVkX2dldF9wcmlvcml0eV9taW4oaW50IHBvbGljeSkK
ewogIGlmIChwb2xpY3k8MSB8fCBwb2xpY3k+MykKICB7CiAgICBzZXRfZXJy
bm8gKEVJTlZBTCk7CiAgICByZXR1cm4gLTE7CiAgfQogIHJldHVybiAxNTsK
fQoKLyogZ2V0IHNjaGVkIHBhcmFtcyBmb3IgcHJvY2VzcyAqLwovKiBOb3Rl
LCBJJ20gbmV2ZXIgcmV0dXJuaW5nIEVQRVJNLCAKICogQWx3YXlzIEVTUkNI
LiBUaGlzIGlzIGJ5IGRlc2lnbiAoSWYgY3lnd2luIGV2ZXIgbG9va3MgYXQg
cGFyYW5vaWQgc2VjdXJpdHkKICogV2Fsa2luZyB0aGUgcGlkIHZhbHVlcyBp
cyBhIGtub3duIGhvbGUgaW4gc29tZSBvcydzKSAKICovCmludApfX3NjaGVk
X2dldHBhcmFtKHBpZF90IHBpZCwgc3RydWN0IHNjaGVkX3BhcmFtICpwYXJh
bSkKewogIHBpZF90IGxvY2FscGlkOwogIGludCB3aW5wcmk7CiAgaWYgKCFw
YXJhbSB8fCBwaWQ8MCkKICB7CiAgICBzZXRfZXJybm8gKEVJTlZBTCk7CiAg
ICByZXR1cm4gLTE7CiAgfQoKICBsb2NhbHBpZD0gcGlkID8gcGlkIDogZ2V0
cGlkKCk7ICAKCiAgRFdPUkQgQ2xhc3M7CiAgaW50IFRocmVhZFByaW9yaXR5
OwogIEhBTkRMRSBwcm9jZXNzOwojaWYgTUVPUjIwMDBvbmx5CiAgSEFORExF
IHRocmVhZDsKI2VuZGlmCiAgcGluZm8gcCAobG9jYWxwaWQpOwogCiAgLyog
Z2V0IHRoZSBjbGFzcyAqLwoKICBpZiAoIXApCiAgewogICAgc2V0X2Vycm5v
IChFU1JDSCk7CiAgICByZXR1cm4gLTE7CiAgfQogIHByb2Nlc3MgPSBPcGVu
UHJvY2VzcyAoUFJPQ0VTU19RVUVSWV9JTkZPUk1BVElPTiAsIEZBTFNFLCBw
LT5kd1Byb2Nlc3NJZCk7CiAgaWYgKCFwcm9jZXNzKQogIHsKICAgIHNldF9l
cnJubyAoRVNSQ0gpOwogICAgcmV0dXJuIC0xOwogIH0KICBDbGFzcyA9IEdl
dFByaW9yaXR5Q2xhc3MgKHByb2Nlc3MpOwogIENsb3NlSGFuZGxlKHByb2Nl
c3MpOwogIGlmICghQ2xhc3MpCiAgewogICAgc2V0X2Vycm5vIChFU1JDSCk7
CiAgICByZXR1cm4gLTE7CiAgfQojaWYgTUVPUjIwMDBvbmx5CiAgLyogZ2V0
IHRoZSB0aHJlYWQgcHJpb3JpdHkgKi8KICB0aHJlYWQgPSBPcGVuVGhyZWFk
IChUSFJFQURfUVVFUllfSU5GT1JNQVRJT04sIEZBTFNFLCBwLT5kd1RocmVh
ZElkKTsKICBpZiAoIXRocmVhZCkKICB7CiAgICBzZXRfZXJybm8gKEVTUkNI
KTsKICAgIHJldHVybiAtMTsKICB9CgogIFRocmVhZFByaW9yaXR5ID0gR2V0
VGhyZWFkUHJpb3JpdHkgKHRocmVhZCk7CiAgQ2xvc2VIYW5kbGUgKHRocmVh
ZCk7CiNlbHNlCiAgVGhyZWFkUHJpb3JpdHkgPSBUSFJFQURfUFJJT1JJVFlf
Tk9STUFMOwojZW5kaWYKCiAgLyogY2FsY3VsYXRlIHRoZSB1bml4IHByaW9y
aXR5LiAqLwogIC8qIEZJWE1FOiB3aW5kb3dzIDIwMDAgc3VwcG9ydHMgQUJP
VkVfTk9STUFMIGFuZCBCRUxPV19OT1JNQUwgY2xhc3MncwogICAqIFNvIHRo
aXMgbG9naWMganVzdCBkZWZhdWx0cyB0aG9zZSBjbGFzcyBmYWN0b3JzIHRv
IE5PUk1BTCBpbiB0aGUgY2FsY3VsYXRpb25zICovCgogIHN3aXRjaCAoQ2xh
c3MpIAogIHsKICAgIGNhc2UgSURMRV9QUklPUklUWV9DTEFTUzoKICAgICAg
c3dpdGNoIChUaHJlYWRQcmlvcml0eSkKICAgICAgewogICAgICAgIGNhc2Ug
VEhSRUFEX1BSSU9SSVRZX0lETEU6ICAgICAgICB3aW5wcmk9MTticmVhazsK
ICAgICAgICBjYXNlIFRIUkVBRF9QUklPUklUWV9MT1dFU1Q6ICAgICAgd2lu
cHJpPTI7YnJlYWs7CiAgICAgICAgY2FzZSBUSFJFQURfUFJJT1JJVFlfQkVM
T1dfTk9STUFMOndpbnByaT0zO2JyZWFrOwogICAgICAgIGNhc2UgVEhSRUFE
X1BSSU9SSVRZX05PUk1BTDogICAgICB3aW5wcmk9NDticmVhazsKICAgICAg
ICBjYXNlIFRIUkVBRF9QUklPUklUWV9BQk9WRV9OT1JNQUw6d2lucHJpPTU7
YnJlYWs7CiAgICAgICAgY2FzZSBUSFJFQURfUFJJT1JJVFlfSElHSEVTVDoK
ICAgICAgICBkZWZhdWx0OgkJCSAgICB3aW5wcmk9NjticmVhazsKICAgICAg
fQogICAgICBicmVhazsKICAgIGNhc2UgSElHSF9QUklPUklUWV9DTEFTUzoK
ICAgICAgc3dpdGNoIChUaHJlYWRQcmlvcml0eSkKICAgICAgewogICAgICAg
IGNhc2UgVEhSRUFEX1BSSU9SSVRZX0lETEU6ICAgICAgICB3aW5wcmk9MTti
cmVhazsKICAgICAgICBjYXNlIFRIUkVBRF9QUklPUklUWV9MT1dFU1Q6ICAg
ICAgd2lucHJpPTExO2JyZWFrOwogICAgICAgIGNhc2UgVEhSRUFEX1BSSU9S
SVRZX0JFTE9XX05PUk1BTDp3aW5wcmk9MTI7YnJlYWs7CiAgICAgICAgY2Fz
ZSBUSFJFQURfUFJJT1JJVFlfTk9STUFMOiAgICAgIHdpbnByaT0xMzticmVh
azsKICAgICAgICBjYXNlIFRIUkVBRF9QUklPUklUWV9BQk9WRV9OT1JNQUw6
d2lucHJpPTE0O2JyZWFrOwogICAgICAgIGNhc2UgVEhSRUFEX1BSSU9SSVRZ
X0hJR0hFU1Q6CiAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgICAgICAg
ICAgICAgIHdpbnByaT0xNTticmVhazsKICAgICAgfQogICAgICBicmVhazsK
ICAgIGNhc2UgTk9STUFMX1BSSU9SSVRZX0NMQVNTOgogICAgZGVmYXVsdDoK
ICAgICAgc3dpdGNoIChUaHJlYWRQcmlvcml0eSkKICAgICAgewogICAgICAg
IGNhc2UgVEhSRUFEX1BSSU9SSVRZX0lETEU6ICAgICAgICB3aW5wcmk9MTti
cmVhazsKICAgICAgICBjYXNlIFRIUkVBRF9QUklPUklUWV9MT1dFU1Q6ICAg
ICAgd2lucHJpPTc7YnJlYWs7CiAgICAgICAgY2FzZSBUSFJFQURfUFJJT1JJ
VFlfQkVMT1dfTk9STUFMOndpbnByaT04O2JyZWFrOwogICAgICAgIGNhc2Ug
VEhSRUFEX1BSSU9SSVRZX05PUk1BTDogICAgICB3aW5wcmk9OTticmVhazsK
ICAgICAgICBjYXNlIFRIUkVBRF9QUklPUklUWV9BQk9WRV9OT1JNQUw6d2lu
cHJpPTEwO2JyZWFrOwogICAgICAgIGNhc2UgVEhSRUFEX1BSSU9SSVRZX0hJ
R0hFU1Q6CiAgICAgICAgZGVmYXVsdDogICAgICAgICAgICAgICAgICAgICAg
ICAgIHdpbnByaT0xMTticmVhazsKICAgICAgfQogICAgICBicmVhazsKICB9
IAoKICAvKiByZXZlcnNlIG91dCB3aW5wcmkgPSAoMTYtICgodW5peHByaSsx
NikgPj4gMSkpICovICAgCiAgLyogIAogICAgIHdpbnByaS0xNiA9IC0gICh1
bml4cHJpICsxNiApID4+IDEKCiAgICAtKHdpbnByaS0xNikgPSB1bml4cHJp
ICsxNiA+PiAxCiAgICAoLSh3aW5wcmktMTYpKSA8PCAxID0gdW5peHByaSsx
NgogICAgKCgtKHdpbnByaSAtIDE2KSkgPDwgMSkgLSAxNiA9IHVuaXhwcmkK
ICAqLwoKICBwYXJhbS0+c2NoZWRfcHJpb3JpdHk9KCgtKHdpbnByaSAtMTYp
KSA8PCAxKSAtIDE2IDsgCgogIHJldHVybiAwOwp9CgovKiBnZXQgdGhlIHNj
aGVkdWxlciBmb3IgcGlkICovCi8qIEFsbCBwcm9jZXNzJ3Mgb24gV0lOMzIg
cnVuIHdpdGggU0NIRURfRklGTy4KICogU28gd2UganVzdCBnaXZlIGFuIGFu
c3dlci4gCiAqIChXSU4zMiB1c2VzIGEgbXVsdGkgcXVldWUgRklGTykuCiAq
LwppbnQKX19zY2hlZF9nZXRzY2hlZHVsZXIocGlkX3QgcGlkKQp7CiAgaWYg
KHBpZDwwKQogICAgcmV0dXJuIEVTUkNIOwogIGVsc2UKICAgIHJldHVybiBT
Q0hFRF9GSUZPOwp9CgovKiBnZXQgdGhlIHRpbWUgcXVhbnR1bSBmb3IgcGlk
ICovCi8qIFdlIGNhbid0IHJldHVybiAtMTEsIGVycm5vIEVOT1NZUywgYmVj
YXVzZSB0aGF0IGltcGxpZXMgdGhhdAogKiBzY2hlZF9nZXRfcHJpb3JpdHlf
bWF4ICYgbWluIGFyZSBhbHNvIG5vdCBzdXBwb3J0ZWQgKGFjY29yZGluZyB0
byB0aGUgc3BlYykKICogc28gc29tZSBzcGVjLWRyaXZlbiBhdXRvY29uZiB0
ZXN0cyB3aWxsIGxpa2VseSBhc3N1bWUgdGhleSBhcmVuJ3QgcHJlc2VudCBl
aXRoZXIKICoKICogcmV0dXJuaW5nIEVTUkNIIG1pZ2h0IGNvbmZ1c2Ugc29t
ZSBhcHBsaWNhdGlvbnMgKGlmIHRoZXkgYXNzdW1lZCB0aGF0IHdoZW4gCiAq
IHJyX2dldF9pbnRlcnZhbCBpcyBjYWxsZWQgb24gcGlkIDAgaXQgYWx3YXlz
IHdvcmtzKS4gCiAqCiAqIElmIHNvbWVvbmUga25vd3MgdGhlIHRpbWUgcXVh
bnRhIGZvciB0aGUgdmFyaW91cyB3aW4zMiBwbGF0Zm9ybXMsIHRoZW4gYSAK
ICogc2ltcGxlIGNoZWNrIGZvciB0aGUgb3Mgd2UncmUgcnVubmluZyBvbiB3
aWxsIGZpbmlzaCB0aGlzIGZ1bmN0aW9uCiAqLwppbnQKX19zY2hlZF9ycl9n
ZXRfaW50ZXJ2YWwocGlkX3QgcGlkLCBzdHJ1Y3QgdGltZXNwZWMgKmludGVy
dmFsKQp7CiAgc2V0X2Vycm5vIChFU1JDSCk7CiAgcmV0dXJuIC0xOwp9Cgov
KiBzZXQgdGhlIHNjaGVkdWxpbmcgcGFyYW1ldGVycyAqLwppbnQKX19zY2hl
ZF9zZXRwYXJhbShwaWRfdCBwaWQsIGNvbnN0IHN0cnVjdCBzY2hlZF9wYXJh
bSAqcGFyYW0pCnsKICBwaWRfdCBsb2NhbHBpZDsKICBpbnQgd2lucHJpOwog
IERXT1JEIENsYXNzOwogIGludCBUaHJlYWRQcmlvcml0eTsKICBIQU5ETEUg
cHJvY2VzczsKI2lmIE1FT1IyMDAwb25seQogIEhBTkRMRSB0aHJlYWQ7CiNl
bmRpZgoKICBpZiAoIXBhcmFtIHx8IHBpZDwwKQogIHsKICAgIHNldF9lcnJu
byAoRUlOVkFMKTsKICAgIHJldHVybiAtMTsKICB9CgogIGlmIChwYXJhbS0+
c2NoZWRfcHJpb3JpdHkgPCAtMTQgfHwgcGFyYW0tPnNjaGVkX3ByaW9yaXR5
ID4gMTUgKQogIHsKICAgIHNldF9lcnJubyAoRUlOVkFMKTsKICAgIHJldHVy
biAtMTsKICB9CgogIC8qICB3aW5wcmkgPSAoMTYtICgodW5peHByaSsxNikg
Pj4gMSkpICovCiAgd2lucHJpID0gMTYgLSAoKHBhcmFtLT5zY2hlZF9wcmlv
cml0eSArIDE2KSA+PiAxKTsKCiAgLyogY2FsY3VsYXRlIG91ciBkZXNpcmVk
IHByaW9yaXR5IGNsYXNzIGFuZCB0aHJlYWQgcHJpb3JpdHkgKi8KCiAgaWYg
KHdpbnByaSA8IDcpCiAgICBDbGFzcz1JRExFX1BSSU9SSVRZX0NMQVNTOwog
IGVsc2UgaWYgKHdpbnByaSA+IDEwKQogICAgQ2xhc3M9SElHSF9QUklPUklU
WV9DTEFTUzsKICBlbHNlCiAgICBDbGFzcz1OT1JNQUxfUFJJT1JJVFlfQ0xB
U1M7CgogIHN3aXRjaCAoQ2xhc3MpCiAgewogICAgY2FzZSBJRExFX1BSSU9S
SVRZX0NMQVNTOgogICAgICBzd2l0Y2ggKHdpbnByaSkKICAgICAgewogICAg
ICAgIGNhc2UgMTpUaHJlYWRQcmlvcml0eT1USFJFQURfUFJJT1JJVFlfSURM
RTticmVhazsKICAgICAgICBjYXNlIDI6VGhyZWFkUHJpb3JpdHk9VEhSRUFE
X1BSSU9SSVRZX0xPV0VTVDticmVhazsKICAgICAgICBjYXNlIDM6VGhyZWFk
UHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZX0JFTE9XX05PUk1BTDticmVhazsK
ICAgICAgICBjYXNlIDQ6VGhyZWFkUHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZ
X05PUk1BTDticmVhazsKICAgICAgICBjYXNlIDU6VGhyZWFkUHJpb3JpdHk9
VEhSRUFEX1BSSU9SSVRZX0FCT1ZFX05PUk1BTDticmVhazsKICAgICAgICBj
YXNlIDY6VGhyZWFkUHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZX0hJR0hFU1Q7
YnJlYWs7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICBjYXNlIE5PUk1BTF9Q
UklPUklUWV9DTEFTUzoKICAgICAgc3dpdGNoICh3aW5wcmkpCiAgICAgIHsK
ICAgICAgICBjYXNlIDc6VGhyZWFkUHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZ
X0xPV0VTVDticmVhazsKICAgICAgICBjYXNlIDg6VGhyZWFkUHJpb3JpdHk9
VEhSRUFEX1BSSU9SSVRZX0JFTE9XX05PUk1BTDticmVhazsKICAgICAgICBj
YXNlIDk6VGhyZWFkUHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZX05PUk1BTDti
cmVhazsKICAgICAgICBjYXNlIDEwOlRocmVhZFByaW9yaXR5PVRIUkVBRF9Q
UklPUklUWV9BQk9WRV9OT1JNQUw7YnJlYWs7CiAgICAgICAgY2FzZSAxMTpU
aHJlYWRQcmlvcml0eT1USFJFQURfUFJJT1JJVFlfSElHSEVTVDticmVhazsK
ICAgICAgfQogICAgICBicmVhazsKICAgIGNhc2UgSElHSF9QUklPUklUWV9D
TEFTUzoKICAgICAgc3dpdGNoICh3aW5wcmkpCiAgICAgIHsKICAgICAgICBj
YXNlIDEyOlRocmVhZFByaW9yaXR5PVRIUkVBRF9QUklPUklUWV9CRUxPV19O
T1JNQUw7YnJlYWs7CiAgICAgICAgY2FzZSAxMzpUaHJlYWRQcmlvcml0eT1U
SFJFQURfUFJJT1JJVFlfTk9STUFMO2JyZWFrOwogICAgICAgIGNhc2UgMTQ6
VGhyZWFkUHJpb3JpdHk9VEhSRUFEX1BSSU9SSVRZX0FCT1ZFX05PUk1BTDti
cmVhazsKICAgICAgICBjYXNlIDE1OlRocmVhZFByaW9yaXR5PVRIUkVBRF9Q
UklPUklUWV9ISUdIRVNUO2JyZWFrOwogICAgICB9CiAgICAgIGJyZWFrOwog
IH0KCiAgbG9jYWxwaWQ9IHBpZCA/IHBpZCA6IGdldHBpZCgpOwoKICBwaW5m
byBwIChsb2NhbHBpZCk7CgogIC8qIHNldCB0aGUgY2xhc3MgKi8KCiAgaWYg
KCFwKQogIHsKICAgIHNldF9lcnJubyAoMSApOy8vRVNSQ0gpOwogICAgcmV0
dXJuIC0xOwogIH0KICBwcm9jZXNzID0gT3BlblByb2Nlc3MgKFBST0NFU1Nf
U0VUX0lORk9STUFUSU9OICwgRkFMU0UsIChEV09SRCkgcC0+ZHdQcm9jZXNz
SWQpOwogIGlmICghcHJvY2VzcykKICB7CiAgICBzZXRfZXJybm8gKDIgKTsg
Ly9FU1JDSCk7CiAgICByZXR1cm4gLTE7CiAgfQogIGlmICghU2V0UHJpb3Jp
dHlDbGFzcyAocHJvY2VzcywgQ2xhc3MpKQogIHsKICAgIENsb3NlSGFuZGxl
KHByb2Nlc3MpOwogICAgc2V0X2Vycm5vIChFUEVSTSk7CiAgICByZXR1cm4g
LTE7CiAgfQogIENsb3NlSGFuZGxlKHByb2Nlc3MpOwoKI2lmIE1FT1IyMDAw
b25seQogIC8qIHNldCB0aGUgdGhyZWFkIHByaW9yaXR5ICovCiAgdGhyZWFk
ID0gT3BlblRocmVhZCAoVEhSRUFEX1NFVF9JTkZPUk1BVElPTiwgRkFMU0Us
IHAtPmR3VGhyZWFkSWQpOwogIGlmICghdGhyZWFkKQogIHsKICAgIHNldF9l
cnJubyAoNCApOyAvL0VTUkNIKTsKICAgIHJldHVybiAtMTsKICB9CgogIGlm
ICghU2V0VGhyZWFkUHJpb3JpdHkgKHRocmVhZCwgVGhyZWFkUHJpb3JpdHkp
KQogIHsKICAgIC8qIEZJWE1FOiByZXN0b3JlIHRoZSBwcmlvcml0eSBjbGFz
cyAqLwogICAgQ2xvc2VIYW5kbGUgKHRocmVhZCk7CiAgICBzZXRfZXJybm8g
KEVQRVJNKTsKICAgIHJldHVybiAtMTsKICB9CiAgQ2xvc2VIYW5kbGUgKHRo
cmVhZCk7CiNlbmRpZgoKICByZXR1cm4gMDsKfQoKLyogc2V0IHRoZSBzY2hl
ZHVsZXIgKi8KaW50Cl9fc2NoZWRfc2V0c2NoZWR1bGVyKHBpZF90IHBpZCwg
aW50IHBvbGljeSwgY29uc3Qgc3RydWN0IHNjaGVkX3BhcmFtICpwYXJhbSkK
ewogIC8qIG9uIHdpbjMyLCB5b3UgY2FuJ3QgY2hhbmdlIHRoZSBzY2hlZHVs
ZXIuIERvaCEgKi8KICBzZXRfZXJybm8gKEVOT1NZUyk7CiAgcmV0dXJuIC0x
Owp9CgovKiB5aWVsZCB0aGUgY3B1ICovCmludApfX3NjaGVkX3lpZWxkKHZv
aWQpCnsKICBTbGVlcCgwKTsKICByZXR1cm4gMDsgCn0KCg==

------------=_1583532846-65438-22
Content-Type: text/x-c; charset=us-ascii; name="schedule.h"
Content-Disposition: inline; filename="schedule.h"
Content-Transfer-Encoding: base64
Content-Length: 1460

Lyogc2NoZWR1bGUuaDogU2NoZWR1bGVyIGRlZmluaXRpb25zCgogICBDaHJp
czogY29weXJpZ2h0IHRpbWUgcGxlYXNlCgogICBXcml0dGVuIGJ5IFJvYmVy
dCBDb2xsaW5zIDxyYnRjb2xsaW5zQGhvdG1haWwuY29tPgoKICAgVGhpcyBm
aWxlIGlzIHBhcnQgb2YgQ3lnd2luLgoKICAgVGhpcyBzb2Z0d2FyZSBpcyBh
IGNvcHlyaWdodGVkIHdvcmsgbGljZW5zZWQgdW5kZXIgdGhlIHRlcm1zIG9m
IHRoZQogICBDeWd3aW4gbGljZW5zZS4gIFBsZWFzZSBjb25zdWx0IHRoZSBm
aWxlICJDWUdXSU5fTElDRU5TRSIgZm9yCiAgIGRldGFpbHMuICovCgojaWZu
ZGVmIF9DWUdXSU5fU0NIRURVTEVfCiNkZWZpbmUgX0NZR1dJTl9TQ0hFRFVM
RV8KCmV4dGVybiAiQyIgewoKLyogbWF4IHByaW9yaXR5IGZvciBwb2xpY3kg
Ki8KaW50IF9fc2NoZWRfZ2V0X3ByaW9yaXR5X21heChpbnQgcG9saWN5KTsK
LyogbWluIHByaW9yaXR5IGZvciBwb2xpY3kgKi8KaW50IF9fc2NoZWRfZ2V0
X3ByaW9yaXR5X21pbihpbnQgcG9saWN5KTsKLyogZ2V0IHNjaGVkIHBhcmFt
cyBmb3IgcHJvY2VzcyAqLwppbnQgX19zY2hlZF9nZXRwYXJhbShwaWRfdCBw
aWQsIHN0cnVjdCBzY2hlZF9wYXJhbSAqcGFyYW0pOwovKiBnZXQgdGhlIHNj
aGVkdWxlciBmb3IgcGlkICovCmludCBfX3NjaGVkX2dldHNjaGVkdWxlcihw
aWRfdCBwaWQpOwovKiBnZXQgdGhlIHRpbWUgcXVhbnR1bSBmb3IgcGlkICov
CmludCBfX3NjaGVkX3JyX2dldF9pbnRlcnZhbChwaWRfdCBwaWQsIHN0cnVj
dCB0aW1lc3BlYyAqaW50ZXJ2YWwpOwovKiBzZXQgdGhlIHNjaGVkdWxpbmcg
cGFyYW1ldGVycyAqLwppbnQgX19zY2hlZF9zZXRwYXJhbShwaWRfdCBwaWQs
IGNvbnN0IHN0cnVjdCBzY2hlZF9wYXJhbSAqcGFyYW0pOwovKiBzZXQgdGhl
IHNjaGVkdWxlciAqLwppbnQgX19zY2hlZF9zZXRzY2hlZHVsZXIocGlkX3Qg
cGlkLCBpbnQgcG9saWN5LCBjb25zdCBzdHJ1Y3Qgc2NoZWRfcGFyYW0gKnBh
cmFtKTsKLyogeWllbGQgdGhlIGNwdSAqLwppbnQgX19zY2hlZF95aWVsZCh2
b2lkKTsKCn07CgojZW5kaWYgLyogX0NZR1dJTl9TQ0hFRFVMRV8gKi8K

------------=_1583532846-65438-22--
