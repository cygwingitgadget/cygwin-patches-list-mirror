Return-Path: <cygwin-patches-return-2686-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 32176 invoked by alias); 23 Jul 2002 14:18:48 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 32147 invoked from network); 23 Jul 2002 14:18:47 -0000
Date: Tue, 23 Jul 2002 07:18:00 -0000
From: Corinna Vinschen <cygwin-patches@cygwin.com>
To: cygpatch <cygwin-patches@cygwin.com>
Subject: Re: Corinna or Pierre please comment? [jason@tishler.net: Re: setuid
Message-ID: <20020723161843.D13588@cygbert.vinschen.de>
Mail-Followup-To: cygpatch <cygwin-patches@cygwin.com>
References: <3.0.5.32.20020718211250.0080a5e0@mail.attbi.com> <20020719102328.E6932@cygbert.vinschen.de> <3D382572.5BEF1C2C@ieee.org> <20020719170639.R6932@cygbert.vinschen.de> <20020723145510.C13588@cygbert.vinschen.de> <3D3D5FBE.EE322E22@ieee.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <3D3D5FBE.EE322E22@ieee.org>
User-Agent: Mutt/1.3.22.1i
X-SW-Source: 2002-q3/txt/msg00134.txt.bz2

On Tue, Jul 23, 2002 at 09:53:02AM -0400, Pierre A. Humblet wrote:
> Corinna Vinschen wrote:
> > So we still have a problem, even if the DC is accessible.  We could
> > solve that by not failing silently if the get_user_groups() function
>                 *** <= you don't mean that!

Did I mess up the sentence?  Currently the code has this new comment
"/* Fail silently if DC is not reachable */".  This must not happen.

> What I don't understand is how mkpasswd/group work in that case (do they work?). 
> See NetUserEnum
> http://msdn.microsoft.com/library/default.asp?url=/library/en-us/netmgmt/ntlmapi2_10xf.asp
> 
> If they don't, how does one enter the relevant sids in /etc/passwd 
> and group? That's really where I got stuck at work. I never got to
> the point where I could setuid, because I can't get the sids.  

It's not that problem, AFAICS.  It's pretty clear in that environment
that the passwd and group entries have to be generated by either a
privileged user or by the sysadmin directly on the DC.  So there is
a way to generate these files, it's just not possible for everyone
on each machine.

Corinna

-- 
Corinna Vinschen                  Please, send mails regarding Cygwin to
Cygwin Developer                                mailto:cygwin@cygwin.com
Red Hat, Inc.
