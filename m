Return-Path: <cygwin-patches-return-2209-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 8344 invoked by alias); 23 May 2002 03:50:12 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 8329 invoked from network); 23 May 2002 03:50:11 -0000
Date: Wed, 22 May 2002 20:50:00 -0000
From: Joshua Daniel Franklin <joshuadfranklin@yahoo.com>
X-X-Sender: joshua@iocc.com
To: cygwin-patches@cygwin.com
Subject: mount --version pathc 
Message-ID: <Pine.CYG.4.44.0205222248400.600-200000@iocc.com>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-1073122922-1022125751=:600"
X-SW-Source: 2002-q2/txt/msg00193.txt.bz2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-1073122922-1022125751=:600
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-length: 394

Here is a --version patch for mount.  I also alphabetized longopts,
opts, and the getopt case statement.

ChangeLog:

2002-05-22  Joshua Daniel Franklin <joshuadfranklin@yahoo.com>
	* mount.cc (version) New global variable.
	(usage) Standardize usage output. Accomodate new version option.
	(print_version) New function.
	(longopts) Accomodate new version option.
	(opts) Ditto.
	(main) Ditto.

---559023410-1073122922-1022125751=:600
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="mount.cc-patch"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.CYG.4.44.0205222249110.600@iocc.com>
Content-Description: 
Content-Disposition: attachment; filename="mount.cc-patch"
Content-length: 7011

LS0tIG1vdW50LmNjLW9yaWcJV2VkIE1heSAyMiAyMjoxNzowMiAyMDAyDQor
KysgbW91bnQuY2MJV2VkIE1heSAyMiAyMjo0NToxNiAyMDAyDQpAQCAtMSw2
ICsxLDYgQEANCiAvKiBtb3VudC5jYw0KIA0KLSAgIENvcHlyaWdodCAxOTk2
LCAxOTk3LCAxOTk4LCAxOTk5LCAyMDAwLCAyMDAxIFJlZCBIYXQsIEluYy4N
CisgICBDb3B5cmlnaHQgMTk5NiwgMTk5NywgMTk5OCwgMTk5OSwgMjAwMCwg
MjAwMSwgMjAwMiBSZWQgSGF0LCBJbmMuDQogDQogVGhpcyBmaWxlIGlzIHBh
cnQgb2YgQ3lnd2luLg0KIA0KQEAgLTMzLDYgKzMzLDcgQEAgc3RhdGljIGlu
dCBtb3VudF9hbHJlYWR5X2V4aXN0cyAoY29uc3QgYw0KIC8vIHN0YXRpYyBz
aG9ydCBjcmVhdGVfbWlzc2luZ19kaXJzID0gRkFMU0U7DQogc3RhdGljIHNo
b3J0IGZvcmNlID0gRkFMU0U7DQogDQorc3RhdGljIGNvbnN0IGNoYXIgdmVy
c2lvbltdID0gIiRSZXZpc2lvbjogMS4xNCAkIjsNCiBzdGF0aWMgY29uc3Qg
Y2hhciAqcHJvZ25hbWU7DQogDQogc3RhdGljIHZvaWQNCkBAIC0xMTEsNDYg
KzExMiw3MyBAQCBkb19tb3VudCAoY29uc3QgY2hhciAqZGV2LCBjb25zdCBj
aGFyICp3DQogDQogc3RhdGljIHN0cnVjdCBvcHRpb24gbG9uZ29wdHNbXSA9
DQogew0KLSAgeyJoZWxwIiwgbm9fYXJndW1lbnQsIE5VTEwsICdoJyB9LA0K
ICAgeyJiaW5hcnkiLCBub19hcmd1bWVudCwgTlVMTCwgJ2InfSwNCi0gIHsi
Zm9yY2UiLCBub19hcmd1bWVudCwgTlVMTCwgJ2YnfSwNCi0gIHsic3lzdGVt
Iiwgbm9fYXJndW1lbnQsIE5VTEwsICdzJ30sDQotICB7InRleHQiLCBub19h
cmd1bWVudCwgTlVMTCwgJ3QnfSwNCi0gIHsidXNlciIsIG5vX2FyZ3VtZW50
LCBOVUxMLCAndSd9LA0KLSAgeyJleGVjdXRhYmxlIiwgbm9fYXJndW1lbnQs
IE5VTEwsICd4J30sDQotICB7Im5vLWV4ZWN1dGFibGUiLCBub19hcmd1bWVu
dCwgTlVMTCwgJ0UnfSwNCiAgIHsiY2hhbmdlLWN5Z2RyaXZlLXByZWZpeCIs
IG5vX2FyZ3VtZW50LCBOVUxMLCAnYyd9LA0KICAgeyJjeWd3aW4tZXhlY3V0
YWJsZSIsIG5vX2FyZ3VtZW50LCBOVUxMLCAnWCd9LA0KLSAgeyJzaG93LWN5
Z2RyaXZlLXByZWZpeCIsIG5vX2FyZ3VtZW50LCBOVUxMLCAncCd9LA0KKyAg
eyJleGVjdXRhYmxlIiwgbm9fYXJndW1lbnQsIE5VTEwsICd4J30sDQorICB7
ImZvcmNlIiwgbm9fYXJndW1lbnQsIE5VTEwsICdmJ30sDQorICB7ImhlbHAi
LCBub19hcmd1bWVudCwgTlVMTCwgJ2gnIH0sDQogICB7ImltcG9ydC1vbGQt
bW91bnRzIiwgbm9fYXJndW1lbnQsIE5VTEwsICdpJ30sDQogICB7Im1vdW50
LWNvbW1hbmRzIiwgbm9fYXJndW1lbnQsIE5VTEwsICdtJ30sDQorICB7Im5v
LWV4ZWN1dGFibGUiLCBub19hcmd1bWVudCwgTlVMTCwgJ0UnfSwNCisgIHsi
c2hvdy1jeWdkcml2ZS1wcmVmaXgiLCBub19hcmd1bWVudCwgTlVMTCwgJ3An
fSwNCisgIHsic3lzdGVtIiwgbm9fYXJndW1lbnQsIE5VTEwsICdzJ30sDQor
ICB7InRleHQiLCBub19hcmd1bWVudCwgTlVMTCwgJ3QnfSwNCisgIHsidXNl
ciIsIG5vX2FyZ3VtZW50LCBOVUxMLCAndSd9LA0KKyAgeyJ2ZXJzaW9uIiwg
bm9fYXJndW1lbnQsIE5VTEwsICd2J30sDQogICB7TlVMTCwgMCwgTlVMTCwg
MH0NCiB9Ow0KIA0KLXN0YXRpYyBjaGFyIG9wdHNbXSA9ICJoYmZzdHV4WEVw
aWNtIjsNCitzdGF0aWMgY2hhciBvcHRzW10gPSAiYmNmaGltcHN0dXZ4RVgi
Ow0KIA0KIHN0YXRpYyB2b2lkDQotdXNhZ2UgKHZvaWQpDQordXNhZ2UgKEZJ
TEUgKndoZXJlID0gc3RkZXJyKQ0KIHsNCi0gIGZwcmludGYgKHN0ZGVyciwg
IlVzYWdlOiAlcyBbT1BUSU9OXSBbPHdpbjMycGF0aD4gPHBvc2l4cGF0aD5d
XG5cDQorICBmcHJpbnRmICh3aGVyZSwgIlVzYWdlOiAlcyBbT1BUSU9OXSBb
PHdpbjMycGF0aD4gPHBvc2l4cGF0aD5dXG5cDQogICAtYiwgLS1iaW5hcnkg
ICAgICAgICAgICAgICAgICB0ZXh0IGZpbGVzIGFyZSBlcXVpdmFsZW50IHRv
IGJpbmFyeSBmaWxlc1xuXA0KIAkJCQkobmV3bGluZSA9IFxcbilcblwNCiAg
IC1jLCAtLWNoYW5nZS1jeWdkcml2ZS1wcmVmaXggIGNoYW5nZSB0aGUgY3ln
ZHJpdmUgcGF0aCBwcmVmaXggdG8gPHBvc2l4cGF0aD5cblwNCiAgIC1mLCAt
LWZvcmNlICAgICAgICAgICAgICAgICAgIGZvcmNlIG1vdW50LCBkb24ndCB3
YXJuIGFib3V0IG1pc3NpbmcgbW91bnRcblwNCiAJCQkJcG9pbnQgZGlyZWN0
b3JpZXNcblwNCisgIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgIG91
dHB1dCB1c2FnZSBpbmZvcm1hdGlvbiBhbmQgZXhpdFxuXA0KICAgLWksIC0t
aW1wb3J0LW9sZC1tb3VudHMgICAgICAgY29weSBvbGQgcmVnaXN0cnkgbW91
bnQgdGFibGUgbW91bnRzIGludG8gdGhlXG5cDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjdXJyZW50IG1vdW50IGFyZWFzXG5cDQorICAt
bSwgLS1tb3VudC1jb21tYW5kcyAgICAgICAgICB3cml0ZSBtb3VudCBjb21t
YW5kcyB0byByZXBsYWNlIHVzZXIgYW5kXG5cDQorCQkJCXN5c3RlbSBtb3Vu
dCBwb2ludHMgYW5kIGN5Z2RyaXZlIHByZWZpeGVzXG5cDQogICAtcCwgLS1z
aG93LWN5Z2RyaXZlLXByZWZpeCAgICBzaG93IHVzZXIgYW5kL29yIHN5c3Rl
bSBjeWdkcml2ZSBwYXRoIHByZWZpeFxuXA0KICAgLXMsIC0tc3lzdGVtICAg
ICAoZGVmYXVsdCkgICAgYWRkIHN5c3RlbS13aWRlIG1vdW50IHBvaW50XG5c
DQogICAtdCwgLS10ZXh0ICAgICAgIChkZWZhdWx0KSAgICB0ZXh0IGZpbGVz
IGdldCBcXHJcXG4gbGluZSBlbmRpbmdzXG5cDQogICAtdSwgLS11c2VyICAg
ICAgICAgICAgICAgICAgICBhZGQgdXNlci1vbmx5IG1vdW50IHBvaW50XG5c
DQorICAtdiwgLS12ZXJzaW9uICAgICAgICAgICAgICAgICBvdXRwdXQgdmVy
c2lvbiBpbmZvcm1hdGlvbiBhbmQgZXhpdFxuXA0KICAgLXgsIC0tZXhlY3V0
YWJsZSAgICAgICAgICAgICAgdHJlYXQgYWxsIGZpbGVzIHVuZGVyIG1vdW50
IHBvaW50IGFzIGV4ZWN1dGFibGVzXG5cDQorICAtRSwgLS1uby1leGVjdXRh
YmxlICAgICAgICAgICB0cmVhdCBhbGwgZmlsZXMgdW5kZXIgbW91bnQgcG9p
bnQgYXMgXG5cDQorCQkJCW5vbi1leGVjdXRhYmxlc1xuXA0KICAgLVgsIC0t
Y3lnd2luLWV4ZWN1dGFibGUgICAgICAgdHJlYXQgYWxsIGZpbGVzIHVuZGVy
IG1vdW50IHBvaW50IGFzIGN5Z3dpblxuXA0KIAkJCQlleGVjdXRhYmxlc1xu
XA0KLSAgLW0sIC0tbW91bnQtY29tbWFuZHMgICAgICAgICAgd3JpdGUgbW91
bnQgY29tbWFuZHMgdG8gcmVwbGFjZSB1c2VyIGFuZFxuXA0KLQkJCQlzeXN0
ZW0gbW91bnQgcG9pbnRzIGFuZCBjeWdkcml2ZSBwcmVmaXhlc1xuXA0KICIs
IHByb2duYW1lKTsNCi0gIGV4aXQgKDEpOw0KKyAgZXhpdCAod2hlcmUgPT0g
c3RkZXJyID8gMSA6IDApOw0KK30NCisNCitzdGF0aWMgdm9pZA0KK3ByaW50
X3ZlcnNpb24gKCkNCit7DQorICBjb25zdCBjaGFyICp2ID0gc3RyY2hyICh2
ZXJzaW9uLCAnOicpOw0KKyAgaW50IGxlbjsNCisgIGlmICghdikNCisgICAg
ew0KKyAgICAgIHYgPSAiPyI7DQorICAgICAgbGVuID0gMTsNCisgICAgfQ0K
KyAgZWxzZQ0KKyAgICB7DQorICAgICAgdiArPSAyOw0KKyAgICAgIGxlbiA9
IHN0cmNociAodiwgJyAnKSAtIHY7DQorICAgIH0NCisgIHByaW50ZiAoIlwN
CislcyAoY3lnd2luKSAlLipzXG5cDQorRmlsZXN5c3RlbSBVdGlsaXR5XG5c
DQorQ29weXJpZ2h0IDE5OTYsIDE5OTcsIDE5OTgsIDE5OTksIDIwMDAsIDIw
MDEsIDIwMDIgUmVkIEhhdCwgSW5jLlxuXA0KK0NvbXBpbGVkIG9uICVzIiwg
cHJvZ25hbWUsIGxlbiwgdiwgX19EQVRFX18pOw0KIH0NCiANCiBpbnQNCkBA
IC0xNjgsNyArMTk2LDEzIEBAIG1haW4gKGludCBhcmdjLCBjaGFyICoqYXJn
dikNCiAgICAgc2F3X21vdW50X2NvbW1hbmRzDQogICB9IGRvX3doYXQgPSBu
YWRhOw0KIA0KLSAgcHJvZ25hbWUgPSBhcmd2WzBdOw0KKyAgcHJvZ25hbWUg
PSBzdHJyY2hyIChhcmd2WzBdLCAnLycpOw0KKyAgaWYgKHByb2duYW1lID09
IE5VTEwpDQorICAgIHByb2duYW1lID0gc3RycmNociAoYXJndlswXSwgJ1xc
Jyk7DQorICBpZiAocHJvZ25hbWUgPT0gTlVMTCkNCisgICAgcHJvZ25hbWUg
PSBhcmd2WzBdOw0KKyAgZWxzZQ0KKyAgICBwcm9nbmFtZSsrOw0KIA0KICAg
aWYgKGFyZ2MgPT0gMSkNCiAgICAgew0KQEAgLTE5MSwxMiArMjI1LDIxIEBA
IG1haW4gKGludCBhcmdjLCBjaGFyICoqYXJndikNCiAgICAgICBjYXNlICdm
JzoNCiAJZm9yY2UgPSBUUlVFOw0KIAlicmVhazsNCisgICAgICBjYXNlICdo
JzoNCisJdXNhZ2UgKHN0ZG91dCk7DQorCWJyZWFrOw0KICAgICAgIGNhc2Ug
J2knOg0KIAlpZiAoZG9fd2hhdCA9PSBuYWRhKQ0KIAkgIGRvX3doYXQgPSBz
YXdfaW1wb3J0X29sZF9tb3VudHM7DQogCWVsc2UNCiAJICB1c2FnZSAoKTsN
CiAJYnJlYWs7DQorICAgICAgY2FzZSAnbSc6DQorCWlmIChkb193aGF0ID09
IG5hZGEpDQorCSAgZG9fd2hhdCA9IHNhd19tb3VudF9jb21tYW5kczsNCisJ
ZWxzZQ0KKwkgIHVzYWdlICgpOw0KKwlicmVhazsNCiAgICAgICBjYXNlICdw
JzoNCiAJaWYgKGRvX3doYXQgPT0gbmFkYSkNCiAJICBkb193aGF0ID0gc2F3
X3Nob3dfY3lnZHJpdmVfcHJlZml4Ow0KQEAgLTIxMyw4ICsyNTYsOSBAQCBt
YWluIChpbnQgYXJnYywgY2hhciAqKmFyZ3YpDQogCWZsYWdzICY9IH5NT1VO
VF9TWVNURU07DQogCWRlZmF1bHRfZmxhZyA9IDA7DQogCWJyZWFrOw0KLSAg
ICAgIGNhc2UgJ1gnOg0KLQlmbGFncyB8PSBNT1VOVF9DWUdXSU5fRVhFQzsN
CisgICAgICBjYXNlICd2JzoNCisJcHJpbnRfdmVyc2lvbiAoKTsNCisJcmV0
dXJuIDA7DQogCWJyZWFrOw0KICAgICAgIGNhc2UgJ3gnOg0KIAlmbGFncyB8
PSBNT1VOVF9FWEVDOw0KQEAgLTIyMiwxMSArMjY2LDggQEAgbWFpbiAoaW50
IGFyZ2MsIGNoYXIgKiphcmd2KQ0KICAgICAgIGNhc2UgJ0UnOg0KIAlmbGFn
cyB8PSBNT1VOVF9OT1RFWEVDOw0KIAlicmVhazsNCi0gICAgICBjYXNlICdt
JzoNCi0JaWYgKGRvX3doYXQgPT0gbmFkYSkNCi0JICBkb193aGF0ID0gc2F3
X21vdW50X2NvbW1hbmRzOw0KLQllbHNlDQotCSAgdXNhZ2UgKCk7DQorICAg
ICAgY2FzZSAnWCc6DQorCWZsYWdzIHw9IE1PVU5UX0NZR1dJTl9FWEVDOw0K
IAlicmVhazsNCiAgICAgICBkZWZhdWx0Og0KIAl1c2FnZSAoKTsNCg==

---559023410-1073122922-1022125751=:600--
