Return-Path: <cygwin-patches-return-3719-listarch-cygwin-patches=sources.redhat.com@cygwin.com>
Received: (qmail 19744 invoked by alias); 19 Mar 2003 13:54:52 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 19691 invoked from network); 19 Mar 2003 13:54:52 -0000
X-Authentication-Warning: atacama.four-d.de: mail set sender to <tpfaff@gmx.net> using -f
Date: Wed, 19 Mar 2003 13:54:00 -0000
From: Thomas Pfaff <tpfaff@gmx.net>
To: cygwin-patches@cygwin.com
Subject: [PATCH] pthread_equal
Message-ID: <Pine.WNT.4.44.0303191449530.257-200000@algeria.intern.net>
X-X-Sender: pfaff@antarctica.intern.net
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="812673-15708-1048082072=:257"
X-SW-Source: 2003-q1/txt/msg00368.txt.bz2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--812673-15708-1048082072=:257
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-length: 262


2003-03-19  Thomas Pfaff  <tpfaff@gmx.net>

	* pthread.cc (pthread_equal): Replacement for pthread_equal in
	thread.cc.
	* thread.cc: Rename pthread_equal to pthread::equal throughout.
	(pthread_equal): Remove.
	* thread.h (pthread::equal): New static method.


--812673-15708-1048082072=:257
Content-Type: TEXT/plain; name="pthread_equal.patch"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.WNT.4.44.0303191454320.257@algeria.intern.net>
Content-Description: 
Content-Disposition: attachment; filename="pthread_equal.patch"
Content-length: 4661

ZGlmZiAtdXJwIHNyYy5vbGQvd2luc3VwL2N5Z3dpbi9wdGhyZWFkLmNjIHNy
Yy93aW5zdXAvY3lnd2luL3B0aHJlYWQuY2MKLS0tIHNyYy5vbGQvd2luc3Vw
L2N5Z3dpbi9wdGhyZWFkLmNjCTIwMDMtMDMtMTkgMTQ6MjE6NDQuMDAwMDAw
MDAwICswMTAwCisrKyBzcmMvd2luc3VwL2N5Z3dpbi9wdGhyZWFkLmNjCTIw
MDMtMDMtMTkgMTQ6MzA6MjcuMDAwMDAwMDAwICswMTAwCkBAIC01NSw2ICs1
NSwxMSBAQCBwdGhyZWFkX2RldGFjaCAocHRocmVhZF90IHRocmVhZCkKICAg
cmV0dXJuIHB0aHJlYWQ6OmRldGFjaCAoJnRocmVhZCk7CiB9CiAKK2ludAor
cHRocmVhZF9lcXVhbCAocHRocmVhZF90IHQxLCBwdGhyZWFkX3QgdDIpCit7
CisgIHJldHVybiBwdGhyZWFkOjplcXVhbCAodDEsIHQyKTsKK30KIAogLyog
VGhpcyBpc24ndCBhIHBvc2l4IGNhbGwuLi4gc2hvdWxkIHdlIGtlZXAgaXQ/
ICovCiBpbnQKZGlmZiAtdXJwIHNyYy5vbGQvd2luc3VwL2N5Z3dpbi90aHJl
YWQuY2Mgc3JjL3dpbnN1cC9jeWd3aW4vdGhyZWFkLmNjCi0tLSBzcmMub2xk
L3dpbnN1cC9jeWd3aW4vdGhyZWFkLmNjCTIwMDMtMDMtMTkgMTQ6Mjk6NTMu
MDAwMDAwMDAwICswMTAwCisrKyBzcmMvd2luc3VwL2N5Z3dpbi90aHJlYWQu
Y2MJMjAwMy0wMy0xOSAxNDozMDoyNy4wMDAwMDAwMDAgKzAxMDAKQEAgLTM5
Nyw3ICszOTcsNyBAQCBwdGhyZWFkOjpleGl0ICh2b2lkICp2YWx1ZV9wdHIp
CiAKICAgbXV0ZXguTG9jayAoKTsKICAgLy8gY2xlYW51cCBpZiB0aHJlYWQg
aXMgaW4gZGV0YWNoZWQgc3RhdGUgYW5kIG5vdCBqb2luZWQKLSAgaWYgKHB0
aHJlYWRfZXF1YWwgKGpvaW5lciwgdGhyZWFkKSkKKyAgaWYgKGVxdWFsIChq
b2luZXIsIHRocmVhZCkpCiAgICAgZGVsZXRlIHRoaXM7CiAgIGVsc2UKICAg
ICB7CkBAIC00MjgsNyArNDI4LDcgQEAgcHRocmVhZDo6Y2FuY2VsICh2b2lk
KQogICAgICAgcmV0dXJuIDA7CiAgICAgfQogCi0gIGVsc2UgaWYgKHB0aHJl
YWRfZXF1YWwgKHRocmVhZCwgc2VsZikpCisgIGVsc2UgaWYgKGVxdWFsICh0
aHJlYWQsIHNlbGYpKQogICAgIHsKICAgICAgIG11dGV4LlVuTG9jayAoKTsK
ICAgICAgIGNhbmNlbF9zZWxmICgpOwpAQCAtMTUyNSw3ICsxNTI1LDcgQEAg
cHRocmVhZF9tdXRleDo6Y2FuQmVVbmxvY2tlZCAocHRocmVhZF9tdQogICAv
KgogICAgKiBDaGVjayBpZiB0aGUgbXV0ZXggaXMgb3duZWQgYnkgdGhlIGN1
cnJlbnQgdGhyZWFkIGFuZCBjYW4gYmUgdW5sb2NrZWQKICAgICovCi0gIHJl
dHVybiAocHRocmVhZF9lcXVhbCAoKCptdXRleCktPm93bmVyLCBzZWxmKSkg
JiYgMSA9PSAoKm11dGV4KS0+cmVjdXJzaW9uX2NvdW50ZXI7CisgIHJldHVy
biAocHRocmVhZDo6ZXF1YWwgKCgqbXV0ZXgpLT5vd25lciwgc2VsZikpICYm
IDEgPT0gKCptdXRleCktPnJlY3Vyc2lvbl9jb3VudGVyOwogfQogCiAvKiBU
aGlzIGlzIHVzZWQgZm9yIG11dGV4IGNyZWF0aW9uIHByb3RlY3Rpb24gd2l0
aGluIGEgc2luZ2xlIHByb2Nlc3Mgb25seSAqLwpAQCAtMTU5OCw3ICsxNTk4
LDcgQEAgcHRocmVhZF9tdXRleDo6X0xvY2sgKHB0aHJlYWRfdCBzZWxmKQog
CiAgIGlmICgxID09IEludGVybG9ja2VkSW5jcmVtZW50VUwgKCZsb2NrX2Nv
dW50ZXIpKQogICAgIFNldE93bmVyIChzZWxmKTsKLSAgZWxzZSBpZiAoUFRI
UkVBRF9NVVRFWF9OT1JNQUwgIT0gdHlwZSAmJiBwdGhyZWFkX2VxdWFsIChv
d25lciwgc2VsZikpCisgIGVsc2UgaWYgKFBUSFJFQURfTVVURVhfTk9STUFM
ICE9IHR5cGUgJiYgcHRocmVhZDo6ZXF1YWwgKG93bmVyLCBzZWxmKSkKICAg
ICB7CiAgICAgICBJbnRlcmxvY2tlZERlY3JlbWVudFVMICgmbG9ja19jb3Vu
dGVyKTsKICAgICAgIGlmIChQVEhSRUFEX01VVEVYX1JFQ1VSU0lWRSA9PSB0
eXBlKQpAQCAtMTYyMiw3ICsxNjIyLDcgQEAgcHRocmVhZF9tdXRleDo6X1Ry
eUxvY2sgKHB0aHJlYWRfdCBzZWxmKQogCiAgIGlmICgwID09IEludGVybG9j
a2VkQ29tcGFyZUV4Y2hhbmdlVUwgKCZsb2NrX2NvdW50ZXIsIDEsIDAgKSkK
ICAgICBTZXRPd25lciAoc2VsZik7Ci0gIGVsc2UgaWYgKFBUSFJFQURfTVVU
RVhfUkVDVVJTSVZFID09IHR5cGUgJiYgcHRocmVhZF9lcXVhbCAob3duZXIs
IHNlbGYpKQorICBlbHNlIGlmIChQVEhSRUFEX01VVEVYX1JFQ1VSU0lWRSA9
PSB0eXBlICYmIHB0aHJlYWQ6OmVxdWFsIChvd25lciwgc2VsZikpCiAgICAg
cmVzdWx0ID0gTG9ja1JlY3Vyc2l2ZSAoKTsKICAgZWxzZQogICAgIHJlc3Vs
dCA9IEVCVVNZOwpAQCAtMTYzMyw3ICsxNjMzLDcgQEAgcHRocmVhZF9tdXRl
eDo6X1RyeUxvY2sgKHB0aHJlYWRfdCBzZWxmKQogaW50CiBwdGhyZWFkX211
dGV4OjpfVW5Mb2NrIChwdGhyZWFkX3Qgc2VsZikKIHsKLSAgaWYgKCFwdGhy
ZWFkX2VxdWFsIChvd25lciwgc2VsZikpCisgIGlmICghcHRocmVhZDo6ZXF1
YWwgKG93bmVyLCBzZWxmKSkKICAgICByZXR1cm4gRVBFUk07CiAKICAgaWYg
KDAgPT0gLS1yZWN1cnNpb25fY291bnRlcikKQEAgLTIyMzYsNyArMjIzNiw3
IEBAIHB0aHJlYWQ6OmpvaW4gKHB0aHJlYWRfdCAqdGhyZWFkLCB2b2lkICoK
ICAgaWYgKCFpc0dvb2RPYmplY3QgKHRocmVhZCkpCiAgICAgcmV0dXJuIEVT
UkNIOwogCi0gIGlmIChwdGhyZWFkX2VxdWFsICgqdGhyZWFkLGpvaW5lcikp
CisgIGlmIChlcXVhbCAoKnRocmVhZCxqb2luZXIpKQogICAgIHJldHVybiBF
REVBRExLOwogCiAgICgqdGhyZWFkKS0+bXV0ZXguTG9jayAoKTsKQEAgLTI4
NTcsMTQgKzI4NTcsNiBAQCBwdGhyZWFkX3NpZ21hc2sgKGludCBvcGVyYXRp
b24sIGNvbnN0IHNpCiAgIHJldHVybiBydmFsOwogfQogCi0vKiBJRCAqLwot
Ci1pbnQKLXB0aHJlYWRfZXF1YWwgKHB0aHJlYWRfdCB0MSwgcHRocmVhZF90
IHQyKQotewotICByZXR1cm4gdDEgPT0gdDI7Ci19Ci0KIC8qIE11dGV4ZXMg
ICovCiAKIC8qIEZJWE1FOiB0aGVyZSdzIGEgcG90ZW50aWFsIHJhY2Ugd2l0
aCBQVEhSRUFEX01VVEVYX0lOSVRBTElaRVI6CmRpZmYgLXVycCBzcmMub2xk
L3dpbnN1cC9jeWd3aW4vdGhyZWFkLmggc3JjL3dpbnN1cC9jeWd3aW4vdGhy
ZWFkLmgKLS0tIHNyYy5vbGQvd2luc3VwL2N5Z3dpbi90aHJlYWQuaAkyMDAz
LTAzLTE5IDE0OjIxOjM1LjAwMDAwMDAwMCArMDEwMAorKysgc3JjL3dpbnN1
cC9jeWd3aW4vdGhyZWFkLmgJMjAwMy0wMy0xOSAxNDozMDoyNy4wMDAwMDAw
MDAgKzAxMDAKQEAgLTQzNSw2ICs0MzUsMTEgQEAgcHVibGljOgogCiAgIHZp
cnR1YWwgdW5zaWduZWQgbG9uZyBnZXRzZXF1ZW5jZV9ucCgpOwogCisgIHN0
YXRpYyBpbnQgZXF1YWwgKHB0aHJlYWRfdCB0MSwgcHRocmVhZF90IHQyKQor
ICB7CisgICAgcmV0dXJuIHQxID09IHQyOworICB9CisKIHByaXZhdGU6CiAg
IERXT1JEIHRocmVhZF9pZDsKICAgX19wdGhyZWFkX2NsZWFudXBfaGFuZGxl
ciAqY2xlYW51cF9zdGFjazsK

--812673-15708-1048082072=:257--
