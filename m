From: "Robert Collins" <robert.collins@itdomain.com.au>
To: <cygwin-patches@cygwin.com>
Subject: Categories for setup
Date: Tue, 12 Jun 2001 19:57:00 -0000
Message-id: <EA18B9FA0FE4194AA2B4CDB91F73C0EF08F05E@itdomain002.itdomain.net.au>
X-SW-Source: 2001-q2/msg00286.html
Content-type: multipart/mixed; boundary="----------=_1583532848-65438-65"

This is a multi-part message in MIME format...

------------=_1583532848-65438-65
Content-length: 496

I hope my mailer hasn't broken the changelog formatting... let me know
if it has and I'll resend it


2001-06-13  Robert Collins <rbtcollins@hotmail.com

	* choose.cc: Add "Category" header.
	(paint): Render the category.
	(best_trust): Don't trust non required packages. No category is
considered required.
	(create_listview): Calculate "Category" column.
	(do_choose): Log package category.
	* ini.h (Package): Add category field.
	* inilex.l: Grab category.
	* iniparse.y: Grab category.

Rob

------------=_1583532848-65438-65
Content-Type: text/x-diff; charset=us-ascii; name="category.patch"
Content-Disposition: inline; filename="category.patch"
Content-Transfer-Encoding: base64
Content-Length: 7020

PyBjYXRlZ29yeS5wYXRjaApJbmRleDogY2hvb3NlLmNjCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvY2lu
c3RhbGwvY2hvb3NlLmNjLHYKcmV0cmlldmluZyByZXZpc2lvbiAyLjIzCmRp
ZmYgLXUgLXAgLXIyLjIzIGNob29zZS5jYwotLS0gY2hvb3NlLmNjCTIwMDEv
MDUvMjcgMTk6NDM6NTIJMi4yMworKysgY2hvb3NlLmNjCTIwMDEvMDYvMTMg
MDI6NTA6MzQKQEAgLTg3LDggKzg3LDEwIEBAIGhlYWRlcnNbXSA9IHsKICNk
ZWZpbmUgTkVXX0NPTCAxCiAgIHsgIlNyYz8iLCA0LCAwLCAwIH0sCiAjZGVm
aW5lIFNSQ19DT0wgMgorICB7ICJDYXRlZ29yeSIsIDgsIDAsIDAgfSwKKyNk
ZWZpbmUgQ0FURUdPUllfQ09MIDMKICAgeyAiUGFja2FnZSIsIDcsIDAsIDAg
fSwKLSNkZWZpbmUgUEFDS0FHRV9DT0wgMworI2RlZmluZSBQQUNLQUdFX0NP
TCA0CiAgIHsgMCwgMCwgMCwgMCB9CiB9OwogI2RlZmluZSBOVU1fQ09MVU1O
UyAoc2l6ZW9mIChoZWFkZXJzKSAvIChzaXplb2YgKGhlYWRlcnNbMF0pKSAt
IDEpCkBAIC0xODgsNiArMTkwLDkgQEAgcGFpbnQgKEhXTkQgaHduZCkKICAg
ICAgIEJpdEJsdCAoaGRjLCB4ICsgaGVhZGVyc1tTUkNfQ09MXS54LCBieSwg
MTEsIDExLAogCSAgICAgIGJpdG1hcF9kYywgMCwgMCwgU1JDQ09QWSk7CiAK
KyAgICAgIGlmIChwYWNrYWdlW2ldLmNhdGVnb3J5KQorCVRleHRPdXQgKGhk
YywgeCArIGhlYWRlcnNbQ0FURUdPUllfQ09MXS54LCByLCBwYWNrYWdlW2ld
LmNhdGVnb3J5LCBzdHJsZW4gKHBhY2thZ2VbaV0uY2F0ZWdvcnkpKTsKKwog
ICAgICAgaWYgKHBhY2thZ2VbaV0ubmFtZSkKIAlUZXh0T3V0IChoZGMsIHgg
KyBoZWFkZXJzW1BBQ0tBR0VfQ09MXS54LCByLCBwYWNrYWdlW2ldLm5hbWUs
IHN0cmxlbiAocGFja2FnZVtpXS5uYW1lKSk7CiAgICAgfQpAQCAtNDQwLDcg
KzQ0NSwxMiBAQCBiZXN0X3RydXN0IChpbnQgcCwgaW50IHRydXN0KQogICAg
ICAgKChwYWNrYWdlW3BdLmluZm9bdF0uaW5zdGFsbF9leGlzdHMgJiYgc291
cmNlID09IElEQ19TT1VSQ0VfQ1dEKSB8fAogICAgICAgIChwYWNrYWdlW3Bd
LmluZm9bdF0uaW5zdGFsbF9leGlzdHMgPT0gMCAmJgogCXNvdXJjZSA9PSBJ
RENfU09VUkNFX0RPV05MT0FEKSB8fCBzb3VyY2UgPT0gSURDX1NPVVJDRV9O
RVRJTlNUKSkKLSAgICByZXR1cm4gdDsKKyAgICB7CisgICAgICBpZiAocGFj
a2FnZVtwXS5jYXRlZ29yeSAmJiBzdHJjYXNlY21wKHBhY2thZ2VbcF0uY2F0
ZWdvcnksICJSZXF1aXJlZCIpKQorICAgICAgICByZXR1cm4gVFJVU1RfTk9O
RTsKKyAgICAgIGVsc2UKKwlyZXR1cm4gdDsKKyAgICB9CiAgIGlmIChleHRy
YVtwXS5pbnN0YWxsZWRfZmlsZSAmJiBleHRyYVtwXS5pbnN0YWxsZWRfdmVy
ID09IHBhY2thZ2VbcF0uaW5mb1t0XS52ZXJzaW9uKQogICAgIHJldHVybiBU
UlVTVF9LRUVQOwogICByZXR1cm4gVFJVU1RfTk9ORTsKQEAgLTY0MCw2ICs2
NTAsNyBAQCBjcmVhdGVfbGlzdHZpZXcgKEhXTkQgZGxnLCBSRUNUICpyKQog
ICAgICAgZm9yICh0ID0gMDsgdCA8IE5UUlVTVDsgdCsrKQogCW5vdGVfd2lk
dGggKGRjLCBwYWNrYWdlW2ldLmluZm9bdF0udmVyc2lvbiwgTkVXX0NPTF9T
SVpFX1NMT1AsIE5FV19DT0wpOwogICAgICAgbm90ZV93aWR0aCAoZGMsIHBh
Y2thZ2VbaV0ubmFtZSwgMCwgUEFDS0FHRV9DT0wpOworICAgICAgbm90ZV93
aWR0aCAoZGMsIHBhY2thZ2VbaV0uY2F0ZWdvcnksIDAsIENBVEVHT1JZX0NP
TCk7CiAgICAgICBub3RlX3dpZHRoIChkYywgcGFja2FnZVtpXS5zZGVzYywg
MCwgUEFDS0FHRV9DT0wpOwogICAgIH0KICAgbm90ZV93aWR0aCAoZGMsICJr
ZWVwIiwgTkVXX0NPTF9TSVpFX1NMT1AsIE5FV19DT0wpOwpAQCAtNjQ4LDcg
KzY1OSw4IEBAIGNyZWF0ZV9saXN0dmlldyAoSFdORCBkbGcsIFJFQ1QgKnIp
CiAgIGhlYWRlcnNbQ1VSUkVOVF9DT0xdLnggPSBITUFSR0lOLzI7CiAgIGhl
YWRlcnNbTkVXX0NPTF0ueCA9IGhlYWRlcnNbQ1VSUkVOVF9DT0xdLnggKyBo
ZWFkZXJzW0NVUlJFTlRfQ09MXS53aWR0aCArIE5FV19DT0xfU0laRV9TTE9Q
ICsgSE1BUkdJTjsKICAgaGVhZGVyc1tTUkNfQ09MXS54ID0gaGVhZGVyc1tO
RVdfQ09MXS54ICsgaGVhZGVyc1tORVdfQ09MXS53aWR0aCArIEhNQVJHSU47
Ci0gIGhlYWRlcnNbUEFDS0FHRV9DT0xdLnggPSBoZWFkZXJzW1NSQ19DT0xd
LnggKyBoZWFkZXJzW1NSQ19DT0xdLndpZHRoICsgSE1BUkdJTjsKKyAgaGVh
ZGVyc1tDQVRFR09SWV9DT0xdLnggPSBoZWFkZXJzW1NSQ19DT0xdLnggKyBo
ZWFkZXJzW1NSQ19DT0xdLndpZHRoICsgSE1BUkdJTjsKKyAgaGVhZGVyc1tQ
QUNLQUdFX0NPTF0ueCA9IGhlYWRlcnNbQ0FURUdPUllfQ09MXS54ICsgaGVh
ZGVyc1tDQVRFR09SWV9DT0xdLndpZHRoICsgSE1BUkdJTjsKIAogICBkZWZh
dWx0X3RydXN0IChsdiwgVFJVU1RfQ1VSUik7CiAgIHNldF9mdWxsX2xpc3Qg
KGx2LCBmdWxsX2xpc3QpOwpAQCAtMTA5Niw5ICsxMTA4LDExIEBAIGRvX2No
b29zZSAoSElOU1RBTkNFIGgpCiAJCQkgICAgICAgOiAidW5rbm93biIpOwog
ICAgICAgY29uc3QgY2hhciAqcGFydGlhbF9saXN0ID0gKChleHRyYVtpXS5p
bl9wYXJ0aWFsX2xpc3QgPT0gMSkgPyAieWVzIiA6ICJubyIpOwogCi0gICAg
ICBsb2cgKExPR19CQUJCTEUsICJbJXNdIGFjdGlvbj0lcyB0cnVzdD0lcyBp
bnN0YWxsZWQ9JXMgcGFydGlhbF9saXN0PSVzIHNyYz89JXMiLAorICAgICAg
bG9nIChMT0dfQkFCQkxFLCAiWyVzXSBhY3Rpb249JXMgdHJ1c3Q9JXMgaW5z
dGFsbGVkPSVzIHBhcnRpYWxfbGlzdD0lcyBzcmM/PSVzIgorCSAgICIgY2F0
ZWdvcnk9JXMiLAogCSAgIHBhY2thZ2VbaV0ubmFtZSwgYWN0aW9uLCB0cnVz
dCwgaW5zdGFsbGVkLAotCSAgIHBhcnRpYWxfbGlzdCwgcGFja2FnZVtpXS5z
cmNhY3Rpb24gPT0gU1JDQUNUSU9OX05PID8gIm5vIiA6ICJ5ZXMiKTsKKwkg
ICBwYXJ0aWFsX2xpc3QsIHBhY2thZ2VbaV0uc3JjYWN0aW9uID09IFNSQ0FD
VElPTl9OTyA/ICJubyIgOiAieWVzIiwgCisJICAgcGFja2FnZVtpXS5jYXRl
Z29yeSk7CiAgICAgICBmb3IgKGludCB0ID0gMDsgdCA8IE5UUlVTVDsgdCsr
KQogCXsKIAkgIGlmIChwYWNrYWdlW2ldLmluZm9bdF0uaW5zdGFsbCkKSW5k
ZXg6IGluaS5oCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9j
dnMvc3JjL3NyYy93aW5zdXAvY2luc3RhbGwvaW5pLmgsdgpyZXRyaWV2aW5n
IHJldmlzaW9uIDIuNwpkaWZmIC11IC1wIC1yMi43IGluaS5oCi0tLSBpbmku
aAkyMDAxLzA1LzI3IDA3OjA1OjA5CTIuNworKysgaW5pLmgJMjAwMS8wNi8x
MyAwMjo1MDozNApAQCAtNTcsNiArNTcsNyBAQCB0eXBlZGVmIHN0cnVjdAog
ICBjaGFyICpuYW1lOwkvKiBwYWNrYWdlIG5hbWUsIGxpa2UgImN5Z3dpbiIg
Ki8KICAgY2hhciAqc2Rlc2M7CS8qIHNob3J0IGRlc2NyaXB0aW9uIChyZXBs
YWNlcyAibmFtZSIgaWYgcHJvdmlkZWQpICovCiAgIGNoYXIgKmxkZXNjOwkv
KiBsb25nIGRlc2NyaXB0aW9uIChtdWx0aS1saW5lKSAqLworICBjaGFyICpj
YXRlZ29yeTsgLyogdGhlIGNhdGVnb3J5IHRoZSBwYWNrYWdlIGJlbG9uZ3Mg
dG8sIGxpa2UgInJlcXVpcmVkIiBvciAiWEZyZWU4NiIgKi8KICAgaW50IGFj
dGlvbjsJLyogQUNUSU9OXyogLSBvbmx5IE5FVyBhbmQgVVBHUkFERSBnZXQg
aW5zdGFsbGVkICovCiAgIGludCBzcmNhY3Rpb247LyogU1JDQUNUSU9OXyAq
LwogICBpbnQgdHJ1c3Q7CS8qIFRSVVNUXyogKHNlbGVjdHMgYW1vbmcgaW5m
b1tdIGJlbG93KSAqLwpJbmRleDogaW5pbGV4LmwKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQpSQ1MgZmlsZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jaW5zdGFs
bC9pbmlsZXgubCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMi4yCmRpZmYgLXUg
LXAgLXIyLjIgaW5pbGV4LmwKLS0tIGluaWxleC5sCTIwMDEvMDUvMzAgMDE6
Mzg6NDEJMi4yCisrKyBpbmlsZXgubAkyMDAxLzA2LzEzIDAyOjUwOjM0CkBA
IC00Nyw2ICs0Nyw3IEBAIFNUUglbYS16QS1aMC05Xy4vKy1dKwogInNldHVw
LXRpbWVzdGFtcDoiCXJldHVybiBTRVRVUF9USU1FU1RBTVA7CiAic2V0dXAt
dmVyc2lvbjoiCXJldHVybiBTRVRVUF9WRVJTSU9OOwogInZlcnNpb246IgkJ
cmV0dXJuIFZFUlNJT047CisiY2F0ZWdvcnk6IgkJcmV0dXJuIENBVEVHT1JZ
OwogImluc3RhbGw6IgkJcmV0dXJuIElOU1RBTEw7CiAic291cmNlOiIJCXJl
dHVybiBTT1VSQ0U7CiAic2Rlc2M6IgkJcmV0dXJuIFNERVNDOwpJbmRleDog
aW5pcGFyc2UueQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAv
Y3ZzL3NyYy9zcmMvd2luc3VwL2NpbnN0YWxsL2luaXBhcnNlLnksdgpyZXRy
aWV2aW5nIHJldmlzaW9uIDIuNgpkaWZmIC11IC1wIC1yMi42IGluaXBhcnNl
LnkKLS0tIGluaXBhcnNlLnkJMjAwMS8wNS8yNyAxOTo0Mzo1MgkyLjYKKysr
IGluaXBhcnNlLnkJMjAwMS8wNi8xMyAwMjo1MDozNApAQCAtNDMsNyArNDMs
NyBAQCBleHRlcm4gaW50IHl5bGluZW5vOwogJX0KIAogJXRva2VuIFNUUklO
RwotJXRva2VuIFNFVFVQX1RJTUVTVEFNUCBTRVRVUF9WRVJTSU9OIFZFUlNJ
T04gSU5TVEFMTCBTT1VSQ0UgU0RFU0MgTERFU0MKKyV0b2tlbiBTRVRVUF9U
SU1FU1RBTVAgU0VUVVBfVkVSU0lPTiBWRVJTSU9OIElOU1RBTEwgU09VUkNF
IFNERVNDIExERVNDIENBVEVHT1JZCiAldG9rZW4gVF9QUkVWIFRfQ1VSUiBU
X1RFU1QgVF9VTktOT1dOCiAKICUlCkBAIC04MSw2ICs4MSw3IEBAIGxpbmVz
CiAKIHNpbXBsZV9saW5lCiAgOiBWRVJTSU9OIFNUUklORwkJeyBjcHQtPnZl
cnNpb24gPSAkMjsgfQorIHwgQ0FURUdPUlkgU1RSSU5HCQl7IGNwLT5jYXRl
Z29yeSA9ICQyOyB9CiAgfCBTREVTQyBTVFJJTkcJCQl7IGNwLT5zZGVzYyA9
ICQyOyB9CiAgfCBMREVTQyBTVFJJTkcJCQl7IGNwLT5sZGVzYyA9ICQyOyB9
CiAgfCBJTlNUQUxMIFNUUklORyBTVFJJTkcJeyBjcHQtPmluc3RhbGwgPSAk
MjsK

------------=_1583532848-65438-65--
