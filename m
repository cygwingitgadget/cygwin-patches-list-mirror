Return-Path: <cygwin-patches-return-2688-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 16749 invoked by alias); 23 Jul 2002 14:53:58 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 16735 invoked from network); 23 Jul 2002 14:53:58 -0000
Message-ID: <3D3D6DFB.AA7F472E@ieee.org>
Date: Tue, 23 Jul 2002 07:53:00 -0000
From: "Pierre A. Humblet" <Pierre.Humblet@ieee.org>
X-Accept-Language: en,pdf
MIME-Version: 1.0
To: Corinna Vinschen <cygwin-patches@cygwin.com>
Subject: Re: Corinna or Pierre please comment? [jason@tishler.net: Re: setuid
References: <3.0.5.32.20020718211250.0080a5e0@mail.attbi.com> <20020719102328.E6932@cygbert.vinschen.de> <3D382572.5BEF1C2C@ieee.org> <20020719170639.R6932@cygbert.vinschen.de> <20020723145510.C13588@cygbert.vinschen.de> <3D3D5FBE.EE322E22@ieee.org> <20020723161843.D13588@cygbert.vinschen.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-SW-Source: 2002-q3/txt/msg00136.txt.bz2

Corinna Vinschen wrote:

> Did I mess up the sentence?  Currently the code has this new comment
> "/* Fail silently if DC is not reachable */".  This must not happen.

I would now say "Fail silently if DC is not reachable or groups can't be obtained",
or perhaps, "Ignore failures reaching the DC or obtaining the global groups".
At any rate, we agree on the substance.

 
> It's not that problem, AFAICS.  It's pretty clear in that environment
> that the passwd and group entries have to be generated by either a
> privileged user or by the sysadmin directly on the DC.  So there is
> a way to generate these files, it's just not possible for everyone
> on each machine.

True, there is a way...
I found the mail thread. It's weird that apparently he can get
mkpasswd to work. NetUserEnum in mkpasswd SHOULD fail for the same reason
that NetUserGetGroups is failing in get_user_groups.
Ah, but with -d -u mkpasswd uses NetUserGetInfo, not NetUserEnum. 
Still, it SHOULD fail too.
But then he gets that huge RID. There is something strange going on.

Pierre
