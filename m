Return-Path: <cygwin-patches-return-3148-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 19995 invoked by alias); 10 Nov 2002 12:41:01 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 19981 invoked from network); 10 Nov 2002 12:41:00 -0000
Date: Sun, 10 Nov 2002 04:41:00 -0000
From: Alexander Gottwald <Alexander.Gottwald@s1999.tu-chemnitz.de>
To: Corinna Vinschen <cygwin-patches@cygwin.com>
Subject: Re: SIOCGIFCONF patch
In-Reply-To: <20021110092533.D10395@cygbert.vinschen.de>
Message-ID: <Pine.LNX.4.44.0211101338550.1572-200000@lupus.ago.vpn>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-1463760102-414708246-1036932052=:1572"
X-Spam-Score: -0.4 (/)
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *18ArOd-0003zI-00*ISxYTLG8bA2*
X-SW-Source: 2002-q4/txt/msg00099.txt.bz2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---1463760102-414708246-1036932052=:1572
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-length: 495

Corinna Vinschen wrote:

> So, I actually would like
> to ask you to take this part out.  As soon as you send the tweaked patch,
> I'll check it in.

Done

2002-11-10  Alexander Gottwald <Alexander.Gottwald@s1999.tu-chemnitz.de>

    * net.cc (get_2k_ifconf): Get the interface entries with the GetIfEntry 
    call intead of the GetIfTable call. Clean-up multiple IP address naming.

bye
    ago
-- 
 Alexander.Gottwald@informatik.tu-chemnitz.de 
 http://www.gotti.org           ICQ: 126018723

---1463760102-414708246-1036932052=:1572
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="cygwin-net2-1.3.15.diff"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.LNX.4.44.0211101340520.1572@lupus.ago.vpn>
Content-Description: 
Content-Disposition: attachment; filename="cygwin-net2-1.3.15.diff"
Content-length: 13075

LS0tIHdpbnN1cC9jeWd3aW4vbmV0LmNjLm9yaWcJU3VuIE9jdCAgNiAwMzow
MDoyMyAyMDAyDQorKysgd2luc3VwL2N5Z3dpbi9uZXQuY2MJU3VuIE5vdiAx
MCAxMzozNzozMSAyMDAyDQpAQCAtMTIxNiwxMjUgKzEyMTYsMTcwIEBAIHN0
YXRpYyB2b2lkDQogZ2V0XzJrX2lmY29uZiAoc3RydWN0IGlmY29uZiAqaWZj
LCBpbnQgd2hhdCkNCiB7DQogICBpbnQgY250ID0gMDsNCi0gIGNoYXIgZXRo
WzJdID0gIi8iLCBwcHBbMl0gPSAiLyIsIHNscFsyXSA9ICIvIiwgc3ViWzJd
ID0gIjAiLCB0b2tbMl0gPSAiLyI7DQorICBpbnQgZXRoSWQgPSAwLCBwcHBJ
ZCA9IDAsIHNscElkID0gMCwgdG9rSWQgPSAwOyANCiANCiAgIC8qIFVuaW9u
IG1hcHMgYnVmZmVyIHRvIGNvcnJlY3Qgc3RydWN0ICovDQogICBzdHJ1Y3Qg
aWZyZXEgKmlmciA9IGlmYy0+aWZjX3JlcTsNCiANCi0gIERXT1JEIGlmX2Nu
dCwgaXBfY250LCBsaXAsIGxucDsNCi0gIERXT1JEIHNpel9pZl90YWJsZSA9
IDA7DQorICBEV09SRCBpcF9jbnQsIGxpcCwgbG5wOw0KICAgRFdPUkQgc2l6
X2lwX3RhYmxlID0gMDsNCi0gIFBNSUJfSUZUQUJMRSBpZnQ7DQogICBQTUlC
X0lQQUREUlRBQkxFIGlwdDsNCisgIFBNSUJfSUZST1cgaWZyb3c7DQogICBz
dHJ1Y3Qgc29ja2FkZHJfaW4gKnNhID0gTlVMTDsNCiAgIHN0cnVjdCBzb2Nr
YWRkciAqc28gPSBOVUxMOw0KIA0KLSAgaWYgKEdldElmVGFibGUgKE5VTEws
ICZzaXpfaWZfdGFibGUsIFRSVUUpID09IEVSUk9SX0lOU1VGRklDSUVOVF9C
VUZGRVIgJiYNCi0gICAgICBHZXRJcEFkZHJUYWJsZSAoTlVMTCwgJnNpel9p
cF90YWJsZSwgVFJVRSkgPT0gRVJST1JfSU5TVUZGSUNJRU5UX0JVRkZFUiAm
Jg0KLSAgICAgIChpZnQgPSAoUE1JQl9JRlRBQkxFKSBhbGxvY2EgKHNpel9p
Zl90YWJsZSkpICYmDQotICAgICAgKGlwdCA9IChQTUlCX0lQQUREUlRBQkxF
KSBhbGxvY2EgKHNpel9pcF90YWJsZSkpICYmDQotICAgICAgIUdldElmVGFi
bGUgKGlmdCwgJnNpel9pZl90YWJsZSwgVFJVRSkgJiYNCi0gICAgICAhR2V0
SXBBZGRyVGFibGUgKGlwdCwgJnNpel9pcF90YWJsZSwgVFJVRSkpDQorICB0
eXBlZGVmIHN0cnVjdCBpZmNvdW50X3Qgew0KKyAgICAgIERXT1JEIGlmSW5k
ZXg7DQorICAgICAgc2l6ZV90IGNvdW50Ow0KKyAgICAgIHVuc2lnbmVkIGlu
dCBlbnVtZXJhdGVkOyAgLy8gZm9yIGV0aDA6MQ0KKyAgICAgIHVuc2lnbmVk
IGludCBjbGFzc0lkOyAgICAgLy8gZm9yIGV0aDAsIHRvazAgLi4uDQorICAg
ICAgDQorICB9Ow0KKyAgaWZjb3VudF90ICppZmxpc3QsICppZkVudHJ5Ow0K
Kw0KKyAgaWYgKEdldElwQWRkclRhYmxlIChOVUxMLCAmc2l6X2lwX3RhYmxl
LCBUUlVFKSA9PSBFUlJPUl9JTlNVRkZJQ0lFTlRfQlVGRkVSDQorICAgICAg
JiYgKGlmcm93ID0gKFBNSUJfSUZST1cpIGFsbG9jYSAoc2l6ZW9mIChNSUJf
SUZST1cpKSkNCisgICAgICAmJiAoaXB0ID0gKFBNSUJfSVBBRERSVEFCTEUp
IGFsbG9jYSAoc2l6X2lwX3RhYmxlKSkNCisgICAgICAmJiAhR2V0SXBBZGRy
VGFibGUgKGlwdCwgJnNpel9pcF90YWJsZSwgVFJVRSkpDQogICAgIHsNCi0g
ICAgICAvKiBJdGVyYXRlIG92ZXIgYWxsIGtub3duIGludGVyZmFjZXMgKi8N
Ci0gICAgICBmb3IgKGlmX2NudCA9IDA7IGlmX2NudCA8IGlmdC0+ZHdOdW1F
bnRyaWVzOyArK2lmX2NudCkNCisgICAgICBpZmxpc3QgPSAoaWZjb3VudF90
ICopYWxsb2NhKHNpemVvZihpZmNvdW50X3QpICogKGlwdC0+ZHdOdW1FbnRy
aWVzICsgMSkpOw0KKyAgICAgIG1lbXNldChpZmxpc3QsIDAsICBzaXplb2Yo
aWZjb3VudF90KSAqIChpcHQtPmR3TnVtRW50cmllcyArIDEpKTsNCisgICAg
ICBmb3IgKGlwX2NudCA9IDA7IGlwX2NudCA8IGlwdC0+ZHdOdW1FbnRyaWVz
OyArK2lwX2NudCkNCisgICAgICAgIHsNCisgICAgICAgICAgaWZFbnRyeSA9
IGlmbGlzdDsgDQorICAgICAgICAgIC8qIHNlYXJjaCBmb3IgbWF0Y2hpbmcg
ZW50cnkgKGFuZCBzdG9wIGF0IGZpcnN0IGZyZWUgZW50cnkpICovDQorICAg
ICAgICAgIHdoaWxlIChpZkVudHJ5LT5jb3VudCAhPSAwKSB7DQorICAgICAg
ICAgICAgaWYgKGlmRW50cnktPmlmSW5kZXggPT0gaXB0LT50YWJsZVtpcF9j
bnRdLmR3SW5kZXgpIA0KKyAgICAgICAgICAgICAgYnJlYWs7ICANCisgICAg
ICAgICAgICBpZkVudHJ5Kys7DQorICAgICAgICAgIH0NCisgICAgICAgICAg
aWYgKGlmRW50cnktPmNvdW50ID09IDApIHsNCisgICAgICAgICAgICAgIGlm
RW50cnktPmNvdW50ID0gMTsNCisgICAgICAgICAgICAgIGlmRW50cnktPmlm
SW5kZXggPSBpcHQtPnRhYmxlW2lwX2NudF0uZHdJbmRleDsgDQorICAgICAg
ICAgIH0gZWxzZSB7DQorICAgICAgICAgICAgICBpZkVudHJ5LT5jb3VudCsr
Ow0KKyAgICAgICAgICB9ICAgIA0KKyAgICAgICAgfQ0KKyAgICAgIC8vIHJl
c2V0IHRoZSBsYXN0IGVsZW1lbnQuIFRoaXMgaXMganVzdCB0aGUgc3RvcHBl
ciBmb3IgdGhlIGxvb3AuDQorICAgICAgaWZsaXN0W2lwdC0+ZHdOdW1FbnRy
aWVzXS5jb3VudCA9IDA7DQorICAgICAgDQorICAgICAgLyogSXRlcmF0ZSBv
dmVyIGFsbCBjb25maWd1cmVkIElQLWFkZHJlc3NlcyAqLw0KKyAgICAgIGZv
ciAoaXBfY250ID0gMDsgaXBfY250IDwgaXB0LT5kd051bUVudHJpZXM7ICsr
aXBfY250KQ0KIAl7DQotCSAgKnN1YiA9ICcwJzsNCi0JICAvKiBJdGVyYXRl
IG92ZXIgYWxsIGNvbmZpZ3VyZWQgSVAtYWRkcmVzc2VzICovDQotCSAgZm9y
IChpcF9jbnQgPSAwOyBpcF9jbnQgPCBpcHQtPmR3TnVtRW50cmllczsgKytp
cF9jbnQpDQorCSAgbWVtc2V0IChpZnJvdywgMCwgc2l6ZW9mIChNSUJfSUZS
T1cpKTsNCisJICBpZnJvdy0+ZHdJbmRleCA9IGlwdC0+dGFibGVbaXBfY250
XS5kd0luZGV4Ow0KKwkgIGlmIChHZXRJZkVudHJ5IChpZnJvdykgIT0gTk9f
RVJST1IpDQorCSAgICBjb250aW51ZTsNCisgICAgICAgICAgDQorICAgICAg
ICAgIGlmY291bnRfdCAqaWZFbnRyeSA9IGlmbGlzdDsgDQorICAgICAgICAg
IC8qIHNlYXJjaCBmb3IgbWF0Y2hpbmcgZW50cnkgKGFuZCBzdG9wIGF0IGZp
cnN0IGZyZWUgZW50cnkpICovDQorICAgICAgICAgIHdoaWxlIChpZkVudHJ5
LT5jb3VudCAhPSAwKSB7DQorICAgICAgICAgICAgaWYgKGlmRW50cnktPmlm
SW5kZXggPT0gaXB0LT50YWJsZVtpcF9jbnRdLmR3SW5kZXgpIA0KKyAgICAg
ICAgICAgICAgYnJlYWs7ICANCisgICAgICAgICAgICBpZkVudHJ5Kys7DQor
ICAgICAgICAgIH0NCisNCisJICAvKiBTZXR1cCB0aGUgaW50ZXJmYWNlIG5h
bWUgKi8NCisJICBzd2l0Y2ggKGlmcm93LT5kd1R5cGUpDQogCSAgICB7DQot
CSAgICAgIC8qIERvZXMgdGhlIElQIGFkZHJlc3MgYmVsb25nIHRvIHRoZSBp
bnRlcmZhY2U/ICovDQotCSAgICAgIGlmIChpcHQtPnRhYmxlW2lwX2NudF0u
ZHdJbmRleCA9PSBpZnQtPnRhYmxlW2lmX2NudF0uZHdJbmRleCkNCi0JCXsN
Ci0JCSAgLyogU2V0dXAgdGhlIGludGVyZmFjZSBuYW1lICovDQotCQkgIHN3
aXRjaCAoaWZ0LT50YWJsZVtpZl9jbnRdLmR3VHlwZSkNCi0JCSAgICB7DQot
CQkgICAgICBjYXNlIE1JQl9JRl9UWVBFX1RPS0VOUklORzoNCi0JCQkrKyp0
b2s7DQotCQkJc3RyY3B5IChpZnItPmlmcl9uYW1lLCAidG9rIik7DQotCQkJ
c3RyY2F0IChpZnItPmlmcl9uYW1lLCB0b2spOw0KLQkJCWJyZWFrOw0KLQkJ
ICAgICAgY2FzZSBNSUJfSUZfVFlQRV9FVEhFUk5FVDoNCi0JCQlpZiAoKnN1
YiA9PSAnMCcpDQotCQkJICArKypldGg7DQotCQkJc3RyY3B5IChpZnItPmlm
cl9uYW1lLCAiZXRoIik7DQotCQkJc3RyY2F0IChpZnItPmlmcl9uYW1lLCBl
dGgpOw0KLQkJCWJyZWFrOw0KLQkJICAgICAgY2FzZSBNSUJfSUZfVFlQRV9Q
UFA6DQotCQkJKysqcHBwOw0KLQkJCXN0cmNweSAoaWZyLT5pZnJfbmFtZSwg
InBwcCIpOw0KLQkJCXN0cmNhdCAoaWZyLT5pZnJfbmFtZSwgcHBwKTsNCi0J
CQlicmVhazsNCi0JCSAgICAgIGNhc2UgTUlCX0lGX1RZUEVfU0xJUDoNCi0J
CQkrKypzbHA7DQotCQkJc3RyY3B5IChpZnItPmlmcl9uYW1lLCAic2xwIik7
DQotCQkJc3RyY2F0IChpZnItPmlmcl9uYW1lLCBzbHApOw0KLQkJCWJyZWFr
Ow0KLQkJICAgICAgY2FzZSBNSUJfSUZfVFlQRV9MT09QQkFDSzoNCi0JCQlz
dHJjcHkgKGlmci0+aWZyX25hbWUsICJsbyIpOw0KLQkJCWJyZWFrOw0KLQkJ
ICAgICAgZGVmYXVsdDoNCi0JCQljb250aW51ZTsNCi0JCSAgICB9DQotCQkg
IGlmICgqc3ViID4gJzAnKQ0KLQkJICAgIHsNCi0JCSAgICAgIHN0cmNhdCAo
aWZyLT5pZnJfbmFtZSwgIjoiKTsNCi0JCSAgICAgIHN0cmNhdCAoaWZyLT5p
ZnJfbmFtZSwgc3ViKTsNCi0JCSAgICB9DQotCQkgICsrKnN1YjsNCi0JCSAg
Lyogc2V0dXAgc29ja2FkZHIgc3RydWN0ICovDQotCQkgIHN3aXRjaCAod2hh
dCkNCi0JCSAgICB7DQotCQkgICAgICBjYXNlIFNJT0NHSUZDT05GOg0KLQkJ
ICAgICAgY2FzZSBTSU9DR0lGQUREUjoNCi0JCQlzYSA9IChzdHJ1Y3Qgc29j
a2FkZHJfaW4gKikgJmlmci0+aWZyX2FkZHI7DQotCQkJc2EtPnNpbl9hZGRy
LnNfYWRkciA9IGlwdC0+dGFibGVbaXBfY250XS5kd0FkZHI7DQotCQkJc2Et
PnNpbl9mYW1pbHkgPSBBRl9JTkVUOw0KLQkJCXNhLT5zaW5fcG9ydCA9IDA7
DQotCQkJYnJlYWs7DQotCQkgICAgICBjYXNlIFNJT0NHSUZCUkRBRERSOg0K
LQkJCXNhID0gKHN0cnVjdCBzb2NrYWRkcl9pbiAqKSAmaWZyLT5pZnJfYnJv
YWRhZGRyOw0KKwkgICAgY2FzZSBNSUJfSUZfVFlQRV9UT0tFTlJJTkc6DQor
ICAgICAgICAgICAgICBpZiAoaWZFbnRyeS0+ZW51bWVyYXRlZCA9PSAwKSB7
DQorICAgICAgICAgICAgICAgIGlmRW50cnktPmNsYXNzSWQgPSB0b2tJZCsr
Ow0KKwkgICAgICAgIF9fc21hbGxfc3ByaW50ZihpZnItPmlmcl9uYW1lLCAi
dG9rJXUiLCBpZkVudHJ5LT5jbGFzc0lkKTsNCisgICAgICAgICAgICAgIH0g
ZWxzZSB7DQorCSAgICAgICAgX19zbWFsbF9zcHJpbnRmKGlmci0+aWZyX25h
bWUsICJ0b2sldToldSIsIGlmRW50cnktPmNsYXNzSWQsIA0KKyAgICAgICAg
ICAgICAgICAgIGlmRW50cnktPmVudW1lcmF0ZWQtMSk7DQorICAgICAgICAg
ICAgICB9DQorICAgICAgICAgICAgICBpZkVudHJ5LT5lbnVtZXJhdGVkKys7
DQorCSAgICAgIGJyZWFrOw0KKwkgICAgY2FzZSBNSUJfSUZfVFlQRV9FVEhF
Uk5FVDoNCisgICAgICAgICAgICAgIGlmIChpZkVudHJ5LT5lbnVtZXJhdGVk
ID09IDApIHsNCisgICAgICAgICAgICAgICAgaWZFbnRyeS0+Y2xhc3NJZCA9
IGV0aElkKys7DQorCSAgICAgICAgX19zbWFsbF9zcHJpbnRmKGlmci0+aWZy
X25hbWUsICJldGgldSIsIGlmRW50cnktPmNsYXNzSWQpOw0KKyAgICAgICAg
ICAgICAgfSBlbHNlIHsNCisJICAgICAgICBfX3NtYWxsX3NwcmludGYoaWZy
LT5pZnJfbmFtZSwgImV0aCV1OiV1IiwgaWZFbnRyeS0+Y2xhc3NJZCwgDQor
ICAgICAgICAgICAgICAgICAgaWZFbnRyeS0+ZW51bWVyYXRlZC0xKTsNCisg
ICAgICAgICAgICAgIH0NCisgICAgICAgICAgICAgIGlmRW50cnktPmVudW1l
cmF0ZWQrKzsNCisJICAgICAgYnJlYWs7DQorCSAgICBjYXNlIE1JQl9JRl9U
WVBFX1BQUDoNCisgICAgICAgICAgICAgIGlmIChpZkVudHJ5LT5lbnVtZXJh
dGVkID09IDApIHsNCisgICAgICAgICAgICAgICAgaWZFbnRyeS0+Y2xhc3NJ
ZCA9IHBwcElkKys7DQorCSAgICAgICAgX19zbWFsbF9zcHJpbnRmKGlmci0+
aWZyX25hbWUsICJwcHAldSIsIGlmRW50cnktPmNsYXNzSWQpOw0KKyAgICAg
ICAgICAgICAgfSBlbHNlIHsNCisJICAgICAgICBfX3NtYWxsX3NwcmludGYo
aWZyLT5pZnJfbmFtZSwgInBwcCV1OiV1IiwgaWZFbnRyeS0+Y2xhc3NJZCwg
DQorICAgICAgICAgICAgICAgICAgaWZFbnRyeS0+ZW51bWVyYXRlZC0xKTsN
CisgICAgICAgICAgICAgIH0NCisgICAgICAgICAgICAgIGlmRW50cnktPmVu
dW1lcmF0ZWQrKzsNCisJICAgICAgYnJlYWs7DQorCSAgICBjYXNlIE1JQl9J
Rl9UWVBFX1NMSVA6DQorICAgICAgICAgICAgICBpZiAoaWZFbnRyeS0+ZW51
bWVyYXRlZCA9PSAwKSB7DQorICAgICAgICAgICAgICAgIGlmRW50cnktPmNs
YXNzSWQgPSBzbHBJZCsrOw0KKwkgICAgICAgIF9fc21hbGxfc3ByaW50Zihp
ZnItPmlmcl9uYW1lLCAic2xwJXUiLCBpZkVudHJ5LT5jbGFzc0lkKTsNCisg
ICAgICAgICAgICAgIH0gZWxzZSB7DQorCSAgICAgICAgX19zbWFsbF9zcHJp
bnRmKGlmci0+aWZyX25hbWUsICJzbHAldToldSIsIGlmRW50cnktPmNsYXNz
SWQsIA0KKyAgICAgICAgICAgICAgICAgIGlmRW50cnktPmVudW1lcmF0ZWQt
MSk7DQorICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICBpZkVudHJ5
LT5lbnVtZXJhdGVkKys7DQorCSAgICAgIGJyZWFrOw0KKwkgICAgY2FzZSBN
SUJfSUZfVFlQRV9MT09QQkFDSzoNCisJICAgICAgc3RyY3B5IChpZnItPmlm
cl9uYW1lLCAibG8iKTsNCisJICAgICAgYnJlYWs7DQorCSAgICBkZWZhdWx0
Og0KKwkgICAgICBjb250aW51ZTsNCisJICAgIH0NCisJICAvKiBzZXR1cCBz
b2NrYWRkciBzdHJ1Y3QgKi8NCisJICBzd2l0Y2ggKHdoYXQpDQorCSAgICB7
DQorCSAgICBjYXNlIFNJT0NHSUZDT05GOg0KKwkgICAgY2FzZSBTSU9DR0lG
QUREUjoNCisJICAgICAgc2EgPSAoc3RydWN0IHNvY2thZGRyX2luICopICZp
ZnItPmlmcl9hZGRyOw0KKwkgICAgICBzYS0+c2luX2FkZHIuc19hZGRyID0g
aXB0LT50YWJsZVtpcF9jbnRdLmR3QWRkcjsNCisJICAgICAgc2EtPnNpbl9m
YW1pbHkgPSBBRl9JTkVUOw0KKwkgICAgICBzYS0+c2luX3BvcnQgPSAwOw0K
KwkgICAgICBicmVhazsNCisJICAgIGNhc2UgU0lPQ0dJRkJSREFERFI6DQor
CSAgICAgIHNhID0gKHN0cnVjdCBzb2NrYWRkcl9pbiAqKSAmaWZyLT5pZnJf
YnJvYWRhZGRyOw0KICNpZiAwDQotCQkJLyogVW5mb3J0dW5hdGVseSwgdGhl
IGZpZWxkIHJldHVybnMgb25seSBjcmFwLiAqLw0KLQkJCXNhLT5zaW5fYWRk
ci5zX2FkZHIgPSBpcHQtPnRhYmxlW2lwX2NudF0uZHdCQ2FzdEFkZHI7DQor
CSAgICAgIC8qIFVuZm9ydHVuYXRlbHksIHRoZSBmaWVsZCByZXR1cm5zIG9u
bHkgY3JhcC4gKi8NCisJICAgICAgc2EtPnNpbl9hZGRyLnNfYWRkciA9IGlw
dC0+dGFibGVbaXBfY250XS5kd0JDYXN0QWRkcjsNCiAjZWxzZQ0KLQkJCWxp
cCA9IGlwdC0+dGFibGVbaXBfY250XS5kd0FkZHI7DQotCQkJbG5wID0gaXB0
LT50YWJsZVtpcF9jbnRdLmR3TWFzazsNCi0JCQlzYS0+c2luX2FkZHIuc19h
ZGRyID0gbGlwICYgbG5wIHwgfmxucDsNCi0JCQlzYS0+c2luX2ZhbWlseSA9
IEFGX0lORVQ7DQotCQkJc2EtPnNpbl9wb3J0ID0gMDsNCisJICAgICAgbGlw
ID0gaXB0LT50YWJsZVtpcF9jbnRdLmR3QWRkcjsNCisJICAgICAgbG5wID0g
aXB0LT50YWJsZVtpcF9jbnRdLmR3TWFzazsNCisJICAgICAgc2EtPnNpbl9h
ZGRyLnNfYWRkciA9IGxpcCAmIGxucCB8IH5sbnA7DQorCSAgICAgIHNhLT5z
aW5fZmFtaWx5ID0gQUZfSU5FVDsNCisJICAgICAgc2EtPnNpbl9wb3J0ID0g
MDsNCiAjZW5kaWYNCi0JCQlicmVhazsNCi0JCSAgICAgIGNhc2UgU0lPQ0dJ
Rk5FVE1BU0s6DQotCQkJc2EgPSAoc3RydWN0IHNvY2thZGRyX2luICopICZp
ZnItPmlmcl9uZXRtYXNrOw0KLQkJCXNhLT5zaW5fYWRkci5zX2FkZHIgPSBp
cHQtPnRhYmxlW2lwX2NudF0uZHdNYXNrOw0KLQkJCXNhLT5zaW5fZmFtaWx5
ID0gQUZfSU5FVDsNCi0JCQlzYS0+c2luX3BvcnQgPSAwOw0KLQkJCWJyZWFr
Ow0KLQkJICAgICAgY2FzZSBTSU9DR0lGSFdBRERSOg0KLQkJCXNvID0gJmlm
ci0+aWZyX2h3YWRkcjsNCi0JCQlmb3IgKFVJTlQgaSA9IDA7IGkgPCBJRkhX
QUREUkxFTjsgKytpKQ0KLQkJCSAgaWYgKGkgPj0gaWZ0LT50YWJsZVtpZl9j
bnRdLmR3UGh5c0FkZHJMZW4pDQotCQkJICAgIHNvLT5zYV9kYXRhW2ldID0g
J1wwJzsNCi0JCQkgIGVsc2UNCi0JCQkgICAgc28tPnNhX2RhdGFbaV0gPSBp
ZnQtPnRhYmxlW2lmX2NudF0uYlBoeXNBZGRyW2ldOw0KLQkJCXNvLT5zYV9m
YW1pbHkgPSBBRl9JTkVUOw0KLQkJCWJyZWFrOw0KLQkJICAgICAgY2FzZSBT
SU9DR0lGTUVUUklDOg0KLQkJCWlmci0+aWZyX21ldHJpYyA9IDE7DQotCQkJ
YnJlYWs7DQotCQkgICAgICBjYXNlIFNJT0NHSUZNVFU6DQotCQkJaWZyLT5p
ZnJfbXR1ID0gaWZ0LT50YWJsZVtpZl9jbnRdLmR3TXR1Ow0KLQkJCWJyZWFr
Ow0KLQkJICAgIH0NCi0JCSAgKytjbnQ7DQotCQkgIGlmICgoY2FkZHJfdCkg
KytpZnIgPg0KLQkJICAgICAgaWZjLT5pZmNfYnVmICsgaWZjLT5pZmNfbGVu
IC0gc2l6ZW9mIChzdHJ1Y3QgaWZyZXEpKQ0KLQkJICAgIGdvdG8gZG9uZTsN
Ci0JCX0NCisJICAgICAgYnJlYWs7DQorCSAgICBjYXNlIFNJT0NHSUZORVRN
QVNLOg0KKwkgICAgICBzYSA9IChzdHJ1Y3Qgc29ja2FkZHJfaW4gKikgJmlm
ci0+aWZyX25ldG1hc2s7DQorCSAgICAgIHNhLT5zaW5fYWRkci5zX2FkZHIg
PSBpcHQtPnRhYmxlW2lwX2NudF0uZHdNYXNrOw0KKwkgICAgICBzYS0+c2lu
X2ZhbWlseSA9IEFGX0lORVQ7DQorCSAgICAgIHNhLT5zaW5fcG9ydCA9IDA7
DQorCSAgICAgIGJyZWFrOw0KKwkgICAgY2FzZSBTSU9DR0lGSFdBRERSOg0K
KwkgICAgICBzbyA9ICZpZnItPmlmcl9od2FkZHI7DQorCSAgICAgIGZvciAo
VUlOVCBpID0gMDsgaSA8IElGSFdBRERSTEVOOyArK2kpDQorCQlpZiAoaSA+
PSBpZnJvdy0+ZHdQaHlzQWRkckxlbikNCisJCSAgc28tPnNhX2RhdGFbaV0g
PSAnXDAnOw0KKwkJZWxzZQ0KKwkJICBzby0+c2FfZGF0YVtpXSA9IGlmcm93
LT5iUGh5c0FkZHJbaV07DQorCSAgICAgIHNvLT5zYV9mYW1pbHkgPSBBRl9J
TkVUOw0KKwkgICAgICBicmVhazsNCisJICAgIGNhc2UgU0lPQ0dJRk1FVFJJ
QzoNCisJICAgICAgaWZyLT5pZnJfbWV0cmljID0gMTsNCisJICAgICAgYnJl
YWs7DQorCSAgICBjYXNlIFNJT0NHSUZNVFU6DQorCSAgICAgIGlmci0+aWZy
X210dSA9IGlmcm93LT5kd010dTsNCisJICAgICAgYnJlYWs7DQogCSAgICB9
DQorCSAgKytjbnQ7DQorCSAgaWYgKChjYWRkcl90KSsrIGlmciA+DQorCSAg
ICAgIGlmYy0+aWZjX2J1ZiArIGlmYy0+aWZjX2xlbiAtIHNpemVvZiAoc3Ry
dWN0IGlmcmVxKSkNCisJICAgIGdvdG8gZG9uZTsNCiAJfQ0KICAgICB9DQor
DQogZG9uZToNCiAgIC8qIFNldCB0aGUgY29ycmVjdCBsZW5ndGggKi8NCiAg
IGlmYy0+aWZjX2xlbiA9IGNudCAqIHNpemVvZiAoc3RydWN0IGlmcmVxKTsN
Ci0tLSB3aW5zdXAvY3lnd2luL2F1dG9sb2FkLmNjLm9yaWcJVHVlIFNlcCAy
NCAwNTo1Nzo0MCAyMDAyDQorKysgd2luc3VwL2N5Z3dpbi9hdXRvbG9hZC5j
YwlTdW4gTm92IDEwIDEzOjMzOjI0IDIwMDINCkBAIC00ODUsNiArNDg1LDcg
QEAgTG9hZERMTGZ1bmNFeCAoV1NBRXZlbnRTZWxlY3QsIDEyLCB3czJfMw0K
IExvYWRETExmdW5jRXggKFdTQUVudW1OZXR3b3JrRXZlbnRzLCAxMiwgd3My
XzMyLCAxKQ0KIA0KIExvYWRETExmdW5jRXggKEdldElmVGFibGUsIDEyLCBp
cGhscGFwaSwgMSkNCitMb2FkRExMZnVuY0V4IChHZXRJZkVudHJ5LCA0LCBp
cGhscGFwaSwgMSkNCiBMb2FkRExMZnVuY0V4IChHZXRJcEFkZHJUYWJsZSwg
MTIsIGlwaGxwYXBpLCAxKQ0KIA0KIExvYWRETExmdW5jIChDb0luaXRpYWxp
emUsIDQsIG9sZTMyKQ0K

---1463760102-414708246-1036932052=:1572--
