Return-Path: <cygwin-patches-return-4576-listarch-cygwin-patches=sources.redhat.com@cygwin.com>
Received: (qmail 28806 invoked by alias); 20 Feb 2004 07:48:13 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 28795 invoked from network); 20 Feb 2004 07:48:11 -0000
X-Authentication-Warning: atacama.four-d.de: mail set sender to <tpfaff@gmx.net> using -f
Date: Fri, 20 Feb 2004 07:48:00 -0000
From: Thomas Pfaff <tpfaff@gmx.net>
To: cygwin-patches@cygwin.com
Subject: [PATCH] Add support for non portable mutex initializers
Message-ID: <Pine.WNT.4.44.0402200811300.940-500000@algeria.intern.net>
X-X-Sender: pfaff@antarctica.intern.net
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="2183302-14392-1077263263=:940"
X-SW-Source: 2004-q1/txt/msg00066.txt.bz2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--2183302-14392-1077263263=:940
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-length: 2235

This patch will add support for PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP,
PTHREAD_NORMAL_MUTEX_INITIALIZER_NP and
PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP (+ some small bugfixes).
Attached are also testcases for these initializers.
The initializer names are borrowed from linux nptl.

These initializers can be used for example to enable thread safe stdio
in newlib without moving __sinit. I really want to get this fixed.

Thomas

P.S.: I will be on winter vacation next week, no reply during that
time.


2004-02-20  Thomas Pfaff  <tpfaff@gmx.net>

	* winsup.api/pthread/mutex8e.c: New testcase.
	* winsup.api/pthread/mutex8n.c: Ditto.
	* winsup.api/pthread/mutex8r.c: Ditto.

and

2004-02-20  Thomas Pfaff  <tpfaff@gmx.net>

	* include/pthread.h (PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP):
	New define.
	(PTHREAD_NORMAL_MUTEX_INITIALIZER_NP): Ditto.
	(PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP): Ditto.
	* thread.cc (pthread_mutex::is_good_initializer):
	Check for all posssible initializers
	(pthread_mutex::is_good_initializer_or_object): Ditto.
	(pthread_mutex::is_good_initializer_or_bad_object): Ditto.
	(verifyable_object_isvalid): Support up to three static
	initializers.
	(verifyable_object_isvalid (void const *,long)): Remove.
	(pthread_cond::is_good_initializer_or_bad_object): Remove
	unneeded objectState var.
	(pthread_cond::init): Condition remains unchanged when creation
	has failed.
	(pthread_rwlock::is_good_initializer_or_bad_object): Remove
	unneeded objectState var.
	(pthread_rwlock::init): Rwlock remains unchanged when creation
	has failed.
	(pthread_mutex::init): Remove obsolete comment.
	Mutex remains unchanged when creation has failed. Add support
	for new initializers.
	(pthread_mutex_getprioceiling): Do not create mutex,
	just return ENOSYS.
	(pthread_mutex_lock): Simplify.
	(pthread_mutex_trylock): Remove unneeded local themutex.
	(pthread_mutex_unlock): Just return EPERM if mutex is not
	initialized.
	(pthread_mutex_setprioceiling): Do not create mutex,
	just return ENOSYS.
	* thread.h (verifyable_object_isvalid): Support up to three
	static initializers.
	(verifyable_object_isvalid (void const *,long)): Remove
	prototype.
	(pthread_mutex::init): Add optional initializer to parameter
	list.



--2183302-14392-1077263263=:940
Content-Type: TEXT/plain; name="mutex8r.c"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.WNT.4.44.0402200847430.940@algeria.intern.net>
Content-Description: 
Content-Disposition: attachment; filename="mutex8r.c"
Content-length: 907

LyogCiAqIG11dGV4OHIuYwogKgogKiBUZXN0cyBQVEhSRUFEX1JFQ1VSU0lW
RV9NVVRFWF9JTklUSUFMSVpFUl9OUC4KICoKICogRGVwZW5kcyBvbiBBUEkg
ZnVuY3Rpb25zOiAKICoJcHRocmVhZF9tdXRleF9sb2NrKCkKICoJcHRocmVh
ZF9tdXRleF91bmxvY2soKQogKi8KCiNpbmNsdWRlICJ0ZXN0LmgiCiAKcHRo
cmVhZF9tdXRleF90IG11dGV4ID0gUFRIUkVBRF9SRUNVUlNJVkVfTVVURVhf
SU5JVElBTElaRVJfTlA7CgppbnQKbWFpbigpCnsKICBhc3NlcnQobXV0ZXgg
PT0gUFRIUkVBRF9SRUNVUlNJVkVfTVVURVhfSU5JVElBTElaRVJfTlApOwoK
ICBhc3NlcnQocHRocmVhZF9tdXRleF9sb2NrKCZtdXRleCkgPT0gMCk7Cgog
IGFzc2VydChtdXRleCAhPSBQVEhSRUFEX1JFQ1VSU0lWRV9NVVRFWF9JTklU
SUFMSVpFUl9OUCk7CgogIGFzc2VydChtdXRleCAhPSBOVUxMKTsKCiAgYXNz
ZXJ0KHB0aHJlYWRfbXV0ZXhfbG9jaygmbXV0ZXgpID09IDApOwoKICBhc3Nl
cnQocHRocmVhZF9tdXRleF91bmxvY2soJm11dGV4KSA9PSAwKTsKCiAgYXNz
ZXJ0KHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZtdXRleCkgPT0gMCk7CgogIGFz
c2VydChwdGhyZWFkX211dGV4X2Rlc3Ryb3koJm11dGV4KSA9PSAwKTsKCiAg
YXNzZXJ0KG11dGV4ID09IE5VTEwpOwoKICByZXR1cm4gMDsKfQo=

--2183302-14392-1077263263=:940
Content-Type: TEXT/plain; name="mutex8n.c"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.WNT.4.44.0402200847431.940@algeria.intern.net>
Content-Description: 
Content-Disposition: attachment; filename="mutex8n.c"
Content-length: 1399

LyogCiAqIG11dGV4OG4uYwogKgogKiBUZXN0cyBQVEhSRUFEX05PUk1BTF9N
VVRFWF9JTklUSUFMSVpFUl9OUC4KICogVGhyZWFkIGxvY2tzIG11dGV4IHR3
aWNlIChyZWN1cnNpdmUgbG9jaykuCiAqIFRoZSB0aHJlYWQgc2hvdWxkIGRl
YWRsb2NrLgogKgogKiBEZXBlbmRzIG9uIEFQSSBmdW5jdGlvbnM6IAogKiAg
ICAgIHB0aHJlYWRfY3JlYXRlKCkKICogICAgICBwdGhyZWFkX211dGV4X2lu
aXQoKQogKglwdGhyZWFkX211dGV4X2xvY2soKQogKglwdGhyZWFkX211dGV4
X3VubG9jaygpCiAqLwoKI2luY2x1ZGUgInRlc3QuaCIKCnN0YXRpYyBpbnQg
bG9ja0NvdW50ID0gMDsKCnB0aHJlYWRfbXV0ZXhfdCBtdXRleCA9IFBUSFJF
QURfTk9STUFMX01VVEVYX0lOSVRJQUxJWkVSX05QOwoKdm9pZCAqIGxvY2tl
cih2b2lkICogYXJnKQp7CiAgYXNzZXJ0KHB0aHJlYWRfbXV0ZXhfbG9jaygm
bXV0ZXgpID09IDApOwogIGxvY2tDb3VudCsrOwoKICAvKiBTaG91bGQgd2Fp
dCBoZXJlIChkZWFkbG9ja2VkKSAqLwogIGFzc2VydChwdGhyZWFkX211dGV4
X2xvY2soJm11dGV4KSA9PSAwKTsKICBsb2NrQ291bnQrKzsKICBhc3NlcnQo
cHRocmVhZF9tdXRleF91bmxvY2soJm11dGV4KSA9PSAwKTsKCiAgcmV0dXJu
ICh2b2lkICopIDU1NTsKfQogCmludAptYWluKCkKewogIHB0aHJlYWRfdCB0
OwoKICBhc3NlcnQocHRocmVhZF9jcmVhdGUoJnQsIE5VTEwsIGxvY2tlciwg
TlVMTCkgPT0gMCk7CgogIFNsZWVwKDEwMDApOwoKICBhc3NlcnQobG9ja0Nv
dW50ID09IDEpOwoKICAvKgogICAqIFNob3VsZCBzdWNjZWVkIGV2ZW4gdGhv
dWdoIHdlIGRvbid0IG93biB0aGUgbG9jawogICAqIGJlY2F1c2UgRkFTVCBt
dXRleGVzIGRvbid0IGNoZWNrIG93bmVyc2hpcC4KICAgKi8KICBhc3NlcnQo
cHRocmVhZF9tdXRleF91bmxvY2soJm11dGV4KSA9PSAwKTsKCiAgU2xlZXAg
KDEwMDApOwoKICBhc3NlcnQobG9ja0NvdW50ID09IDIpOwoKICBleGl0KDAp
OwoKICAvKiBOZXZlciByZWFjaGVkICovCiAgcmV0dXJuIDA7Cn0KCg==

--2183302-14392-1077263263=:940
Content-Type: TEXT/plain; name="mutex8e.c"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.WNT.4.44.0402200847432.940@algeria.intern.net>
Content-Description: 
Content-Disposition: attachment; filename="mutex8e.c"
Content-length: 859

LyogCiAqIG11dGV4OGUuYwogKgogKiBUZXN0cyBQVEhSRUFEX0VSUk9SQ0hF
Q0tfTVVURVhfSU5JVElBTElaRVJfTlAuCiAqCiAqIERlcGVuZHMgb24gQVBJ
IGZ1bmN0aW9uczogCiAqCXB0aHJlYWRfbXV0ZXhfbG9jaygpCiAqCXB0aHJl
YWRfbXV0ZXhfdW5sb2NrKCkKICovCgojaW5jbHVkZSAidGVzdC5oIgogCnB0
aHJlYWRfbXV0ZXhfdCBtdXRleCA9IFBUSFJFQURfRVJST1JDSEVDS19NVVRF
WF9JTklUSUFMSVpFUl9OUDsKCmludAptYWluKCkKewogIGFzc2VydChtdXRl
eCA9PSBQVEhSRUFEX0VSUk9SQ0hFQ0tfTVVURVhfSU5JVElBTElaRVJfTlAp
OwoKICBhc3NlcnQocHRocmVhZF9tdXRleF9sb2NrKCZtdXRleCkgPT0gMCk7
CgogIGFzc2VydChtdXRleCAhPSBQVEhSRUFEX0VSUk9SQ0hFQ0tfTVVURVhf
SU5JVElBTElaRVJfTlApOwoKICBhc3NlcnQobXV0ZXggIT0gTlVMTCk7Cgog
IGFzc2VydChwdGhyZWFkX211dGV4X2xvY2soJm11dGV4KSA9PSBFREVBRExL
KTsKCiAgYXNzZXJ0KHB0aHJlYWRfbXV0ZXhfdW5sb2NrKCZtdXRleCkgPT0g
MCk7CgogIGFzc2VydChwdGhyZWFkX211dGV4X2Rlc3Ryb3koJm11dGV4KSA9
PSAwKTsKCiAgYXNzZXJ0KG11dGV4ID09IE5VTEwpOwoKICByZXR1cm4gMDsK
fQo=

--2183302-14392-1077263263=:940
Content-Type: TEXT/plain; name="mutex.patch"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.WNT.4.44.0402200847433.940@algeria.intern.net>
Content-Description: 
Content-Disposition: attachment; filename="mutex.patch"
Content-length: 16385

ZGlmZiAtdXJwIGN5Z3dpbi5vcmcvaW5jbHVkZS9wdGhyZWFkLmggY3lnd2lu
L2luY2x1ZGUvcHRocmVhZC5oCi0tLSBjeWd3aW4ub3JnL2luY2x1ZGUvcHRo
cmVhZC5oCTIwMDQtMDItMTkgMDg6Mzk6MTcuNDM4MDE3NjAwICswMTAwCisr
KyBjeWd3aW4vaW5jbHVkZS9wdGhyZWFkLmgJMjAwNC0wMi0xOSAwODo0NDoz
OC44OTAyNDMyMDAgKzAxMDAKQEAgLTU1LDcgKzU1LDEwIEBAIGV4dGVybiAi
QyIKICNkZWZpbmUgUFRIUkVBRF9NVVRFWF9OT1JNQUwgMgogI2RlZmluZSBQ
VEhSRUFEX01VVEVYX0RFRkFVTFQgUFRIUkVBRF9NVVRFWF9FUlJPUkNIRUNL
CiAvKiB0aGlzIHNob3VsZCBiZSB0b28gbG93IHRvIGV2ZXIgYmUgYSB2YWxp
ZCBhZGRyZXNzICovCi0jZGVmaW5lIFBUSFJFQURfTVVURVhfSU5JVElBTEla
RVIgKHB0aHJlYWRfbXV0ZXhfdCkyMAorI2RlZmluZSBQVEhSRUFEX1JFQ1VS
U0lWRV9NVVRFWF9JTklUSUFMSVpFUl9OUCAocHRocmVhZF9tdXRleF90KTE4
CisjZGVmaW5lIFBUSFJFQURfTk9STUFMX01VVEVYX0lOSVRJQUxJWkVSX05Q
IChwdGhyZWFkX211dGV4X3QpMTkKKyNkZWZpbmUgUFRIUkVBRF9FUlJPUkNI
RUNLX01VVEVYX0lOSVRJQUxJWkVSX05QIChwdGhyZWFkX211dGV4X3QpMjAK
KyNkZWZpbmUgUFRIUkVBRF9NVVRFWF9JTklUSUFMSVpFUiBQVEhSRUFEX0VS
Uk9SQ0hFQ0tfTVVURVhfSU5JVElBTElaRVJfTlAKICNkZWZpbmUgUFRIUkVB
RF9PTkNFX0lOSVQgeyBQVEhSRUFEX01VVEVYX0lOSVRJQUxJWkVSLCAwIH0K
ICNkZWZpbmUgUFRIUkVBRF9QUklPX0lOSEVSSVQKICNkZWZpbmUgUFRIUkVB
RF9QUklPX05PTkUKZGlmZiAtdXJwIGN5Z3dpbi5vcmcvdGhyZWFkLmNjIGN5
Z3dpbi90aHJlYWQuY2MKLS0tIGN5Z3dpbi5vcmcvdGhyZWFkLmNjCTIwMDQt
MDItMTkgMDg6Mzg6NTguNDkwNzcyODAwICswMTAwCisrKyBjeWd3aW4vdGhy
ZWFkLmNjCTIwMDQtMDItMTkgMDg6NDQ6MzguOTcwMzU4NDAwICswMTAwCkBA
IC0xMzU0LDcgKzEzNTQsMTAgQEAgcHRocmVhZF9tdXRleDo6aXNfZ29vZF9v
YmplY3QgKHB0aHJlYWRfbQogYm9vbAogcHRocmVhZF9tdXRleDo6aXNfZ29v
ZF9pbml0aWFsaXplciAocHRocmVhZF9tdXRleF90IGNvbnN0ICptdXRleCkK
IHsKLSAgaWYgKHZlcmlmeWFibGVfb2JqZWN0X2lzdmFsaWQgKG11dGV4LCBQ
VEhSRUFEX01VVEVYX01BR0lDLCBQVEhSRUFEX01VVEVYX0lOSVRJQUxJWkVS
KSAhPSBWQUxJRF9TVEFUSUNfT0JKRUNUKQorICBpZiAodmVyaWZ5YWJsZV9v
YmplY3RfaXN2YWxpZCAobXV0ZXgsIFBUSFJFQURfTVVURVhfTUFHSUMsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQVEhSRUFEX1JFQ1VS
U0lWRV9NVVRFWF9JTklUSUFMSVpFUl9OUCwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFBUSFJFQURfTk9STUFMX01VVEVYX0lOSVRJQUxJ
WkVSX05QLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFRI
UkVBRF9FUlJPUkNIRUNLX01VVEVYX0lOSVRJQUxJWkVSX05QKSAhPSBWQUxJ
RF9TVEFUSUNfT0JKRUNUKQogICAgIHJldHVybiBmYWxzZTsKICAgcmV0dXJu
IHRydWU7CiB9CkBAIC0xMzYyLDcgKzEzNjUsMTAgQEAgcHRocmVhZF9tdXRl
eDo6aXNfZ29vZF9pbml0aWFsaXplciAocHRocgogYm9vbAogcHRocmVhZF9t
dXRleDo6aXNfZ29vZF9pbml0aWFsaXplcl9vcl9vYmplY3QgKHB0aHJlYWRf
bXV0ZXhfdCBjb25zdCAqbXV0ZXgpCiB7Ci0gIGlmICh2ZXJpZnlhYmxlX29i
amVjdF9pc3ZhbGlkIChtdXRleCwgUFRIUkVBRF9NVVRFWF9NQUdJQywgUFRI
UkVBRF9NVVRFWF9JTklUSUFMSVpFUikgPT0gSU5WQUxJRF9PQkpFQ1QpCisg
IGlmICh2ZXJpZnlhYmxlX29iamVjdF9pc3ZhbGlkIChtdXRleCwgUFRIUkVB
RF9NVVRFWF9NQUdJQywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFBUSFJFQURfUkVDVVJTSVZFX01VVEVYX0lOSVRJQUxJWkVSX05QLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFRIUkVBRF9OT1JN
QUxfTVVURVhfSU5JVElBTElaRVJfTlAsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBQVEhSRUFEX0VSUk9SQ0hFQ0tfTVVURVhfSU5JVElB
TElaRVJfTlApID09IElOVkFMSURfT0JKRUNUKQogICAgIHJldHVybiBmYWxz
ZTsKICAgcmV0dXJuIHRydWU7CiB9CkBAIC0xMzcwLDkgKzEzNzYsMTEgQEAg
cHRocmVhZF9tdXRleDo6aXNfZ29vZF9pbml0aWFsaXplcl9vcl9vYgogYm9v
bAogcHRocmVhZF9tdXRleDo6aXNfZ29vZF9pbml0aWFsaXplcl9vcl9iYWRf
b2JqZWN0IChwdGhyZWFkX211dGV4X3QgY29uc3QgKm11dGV4KQogewotICB2
ZXJpZnlhYmxlX29iamVjdF9zdGF0ZSBvYmplY3RTdGF0ZSA9IHZlcmlmeWFi
bGVfb2JqZWN0X2lzdmFsaWQgKG11dGV4LCBQVEhSRUFEX01VVEVYX01BR0lD
LCBQVEhSRUFEX01VVEVYX0lOSVRJQUxJWkVSKTsKLSAgaWYgKG9iamVjdFN0
YXRlID09IFZBTElEX09CSkVDVCkKLQlyZXR1cm4gZmFsc2U7CisgIGlmICh2
ZXJpZnlhYmxlX29iamVjdF9pc3ZhbGlkIChtdXRleCwgUFRIUkVBRF9NVVRF
WF9NQUdJQywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBU
SFJFQURfUkVDVVJTSVZFX01VVEVYX0lOSVRJQUxJWkVSX05QLAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgUFRIUkVBRF9OT1JNQUxfTVVU
RVhfSU5JVElBTElaRVJfTlAsCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBQVEhSRUFEX0VSUk9SQ0hFQ0tfTVVURVhfSU5JVElBTElaRVJf
TlApID09IFZBTElEX09CSkVDVCkKKyAgICByZXR1cm4gZmFsc2U7CiAgIHJl
dHVybiB0cnVlOwogfQogCkBAIC0xNzU2LDEyICsxNzY0LDE1IEBAIGNoZWNr
X3ZhbGlkX3BvaW50ZXIgKHZvaWQgY29uc3QgKnBvaW50ZXIKIH0KIAogdmVy
aWZ5YWJsZV9vYmplY3Rfc3RhdGUKLXZlcmlmeWFibGVfb2JqZWN0X2lzdmFs
aWQgKHZvaWQgY29uc3QgKiBvYmplY3RwdHIsIGxvbmcgbWFnaWMsIHZvaWQg
KnN0YXRpY19wdHIpCit2ZXJpZnlhYmxlX29iamVjdF9pc3ZhbGlkICh2b2lk
IGNvbnN0ICogb2JqZWN0cHRyLCBsb25nIG1hZ2ljLCB2b2lkICpzdGF0aWNf
cHRyMSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKnN0YXRp
Y19wdHIyLCB2b2lkICpzdGF0aWNfcHRyMykKIHsKICAgdmVyaWZ5YWJsZV9v
YmplY3QgKipvYmplY3QgPSAodmVyaWZ5YWJsZV9vYmplY3QgKiopb2JqZWN0
cHRyOwogICBpZiAoY2hlY2tfdmFsaWRfcG9pbnRlciAob2JqZWN0KSkKICAg
ICByZXR1cm4gSU5WQUxJRF9PQkpFQ1Q7Ci0gIGlmIChzdGF0aWNfcHRyICYm
ICpvYmplY3QgPT0gc3RhdGljX3B0cikKKyAgaWYgKChzdGF0aWNfcHRyMSAm
JiAqb2JqZWN0ID09IHN0YXRpY19wdHIxKSB8fAorICAgICAgKHN0YXRpY19w
dHIyICYmICpvYmplY3QgPT0gc3RhdGljX3B0cjIpIHx8CisgICAgICAoc3Rh
dGljX3B0cjMgJiYgKm9iamVjdCA9PSBzdGF0aWNfcHRyMykpCiAgICAgcmV0
dXJuIFZBTElEX1NUQVRJQ19PQkpFQ1Q7CiAgIGlmICghKm9iamVjdCkKICAg
ICByZXR1cm4gSU5WQUxJRF9PQkpFQ1Q7CkBAIC0xNzcyLDEyICsxNzgzLDYg
QEAgdmVyaWZ5YWJsZV9vYmplY3RfaXN2YWxpZCAodm9pZCBjb25zdCAqIAog
ICByZXR1cm4gVkFMSURfT0JKRUNUOwogfQogCi12ZXJpZnlhYmxlX29iamVj
dF9zdGF0ZQotdmVyaWZ5YWJsZV9vYmplY3RfaXN2YWxpZCAodm9pZCBjb25z
dCAqIG9iamVjdHB0ciwgbG9uZyBtYWdpYykKLXsKLSAgcmV0dXJuIHZlcmlm
eWFibGVfb2JqZWN0X2lzdmFsaWQgKG9iamVjdHB0ciwgbWFnaWMsIE5VTEwp
OwotfQotCiBEV09SRCBXSU5BUEkKIHB0aHJlYWQ6OnRocmVhZF9pbml0X3dy
YXBwZXIgKHZvaWQgKmFyZykKIHsKQEAgLTIzNzEsOSArMjM3Niw4IEBAIHB0
aHJlYWRfY29uZDo6aXNfZ29vZF9pbml0aWFsaXplcl9vcl9vYmoKIGJvb2wK
IHB0aHJlYWRfY29uZDo6aXNfZ29vZF9pbml0aWFsaXplcl9vcl9iYWRfb2Jq
ZWN0IChwdGhyZWFkX2NvbmRfdCBjb25zdCAqY29uZCkKIHsKLSAgdmVyaWZ5
YWJsZV9vYmplY3Rfc3RhdGUgb2JqZWN0U3RhdGUgPSB2ZXJpZnlhYmxlX29i
amVjdF9pc3ZhbGlkIChjb25kLCBQVEhSRUFEX0NPTkRfTUFHSUMsIFBUSFJF
QURfQ09ORF9JTklUSUFMSVpFUik7Ci0gIGlmIChvYmplY3RTdGF0ZSA9PSBW
QUxJRF9PQkpFQ1QpCi0JcmV0dXJuIGZhbHNlOworICBpZiAodmVyaWZ5YWJs
ZV9vYmplY3RfaXN2YWxpZCAoY29uZCwgUFRIUkVBRF9DT05EX01BR0lDLCBQ
VEhSRUFEX0NPTkRfSU5JVElBTElaRVIpID09IFZBTElEX09CSkVDVCkKKyAg
ICByZXR1cm4gZmFsc2U7CiAgIHJldHVybiB0cnVlOwogfQogCkBAIC0yMzk4
LDYgKzI0MDIsOSBAQCBwdGhyZWFkX2NvbmRfZGVzdHJveSAocHRocmVhZF9j
b25kX3QgKmNvCiBpbnQKIHB0aHJlYWRfY29uZDo6aW5pdCAocHRocmVhZF9j
b25kX3QgKmNvbmQsIGNvbnN0IHB0aHJlYWRfY29uZGF0dHJfdCAqYXR0cikK
IHsKKworICBwdGhyZWFkX2NvbmRfdCBuZXdfY29uZDsKKwogICBpZiAoYXR0
ciAmJiAhcHRocmVhZF9jb25kYXR0cjo6aXNfZ29vZF9vYmplY3QgKGF0dHIp
KQogICAgIHJldHVybiBFSU5WQUw7CiAKQEAgLTI0MDksMTUgKzI0MTYsMTcg
QEAgcHRocmVhZF9jb25kOjppbml0IChwdGhyZWFkX2NvbmRfdCAqY29uZAog
ICAgICAgcmV0dXJuIEVCVVNZOwogICAgIH0KIAotICAqY29uZCA9IG5ldyBw
dGhyZWFkX2NvbmQgKGF0dHIgPyAoKmF0dHIpIDogTlVMTCk7Ci0gIGlmICgh
aXNfZ29vZF9vYmplY3QgKGNvbmQpKQorICBuZXdfY29uZCA9IG5ldyBwdGhy
ZWFkX2NvbmQgKGF0dHIgPyAoKmF0dHIpIDogTlVMTCk7CisgIGlmICghaXNf
Z29vZF9vYmplY3QgKCZuZXdfY29uZCkpCiAgICAgewotICAgICAgZGVsZXRl
ICgqY29uZCk7Ci0gICAgICAqY29uZCA9IE5VTEw7CisgICAgICBkZWxldGUg
bmV3X2NvbmQ7CiAgICAgICBjb25kX2luaXRpYWxpemF0aW9uX2xvY2sudW5s
b2NrICgpOwogICAgICAgcmV0dXJuIEVBR0FJTjsKICAgICB9CisKKyAgKmNv
bmQgPSBuZXdfY29uZDsKICAgY29uZF9pbml0aWFsaXphdGlvbl9sb2NrLnVu
bG9jayAoKTsKKwogICByZXR1cm4gMDsKIH0KIApAQCAtMjU2OSw5ICsyNTc4
LDggQEAgcHRocmVhZF9yd2xvY2s6OmlzX2dvb2RfaW5pdGlhbGl6ZXJfb3Jf
bwogYm9vbAogcHRocmVhZF9yd2xvY2s6OmlzX2dvb2RfaW5pdGlhbGl6ZXJf
b3JfYmFkX29iamVjdCAocHRocmVhZF9yd2xvY2tfdCBjb25zdCAqcndsb2Nr
KQogewotICB2ZXJpZnlhYmxlX29iamVjdF9zdGF0ZSBvYmplY3RTdGF0ZSA9
IHZlcmlmeWFibGVfb2JqZWN0X2lzdmFsaWQgKHJ3bG9jaywgUFRIUkVBRF9S
V0xPQ0tfTUFHSUMsIFBUSFJFQURfUldMT0NLX0lOSVRJQUxJWkVSKTsKLSAg
aWYgKG9iamVjdFN0YXRlID09IFZBTElEX09CSkVDVCkKLQlyZXR1cm4gZmFs
c2U7CisgIGlmICh2ZXJpZnlhYmxlX29iamVjdF9pc3ZhbGlkIChyd2xvY2ss
IFBUSFJFQURfUldMT0NLX01BR0lDLCBQVEhSRUFEX1JXTE9DS19JTklUSUFM
SVpFUikgPT0gVkFMSURfT0JKRUNUKQorICAgIHJldHVybiBmYWxzZTsKICAg
cmV0dXJuIHRydWU7CiB9CiAKQEAgLTI1OTYsNiArMjYwNCw4IEBAIHB0aHJl
YWRfcndsb2NrX2Rlc3Ryb3kgKHB0aHJlYWRfcndsb2NrX3QKIGludAogcHRo
cmVhZF9yd2xvY2s6OmluaXQgKHB0aHJlYWRfcndsb2NrX3QgKnJ3bG9jaywg
Y29uc3QgcHRocmVhZF9yd2xvY2thdHRyX3QgKmF0dHIpCiB7CisgIHB0aHJl
YWRfcndsb2NrX3QgbmV3X3J3bG9jazsKKwogICBpZiAoYXR0ciAmJiAhcHRo
cmVhZF9yd2xvY2thdHRyOjppc19nb29kX29iamVjdCAoYXR0cikpCiAgICAg
cmV0dXJuIEVJTlZBTDsKIApAQCAtMjYwNywxNSArMjYxNywxNyBAQCBwdGhy
ZWFkX3J3bG9jazo6aW5pdCAocHRocmVhZF9yd2xvY2tfdCAqCiAgICAgICBy
ZXR1cm4gRUJVU1k7CiAgICAgfQogCi0gICpyd2xvY2sgPSBuZXcgcHRocmVh
ZF9yd2xvY2sgKGF0dHIgPyAoKmF0dHIpIDogTlVMTCk7Ci0gIGlmICghaXNf
Z29vZF9vYmplY3QgKHJ3bG9jaykpCisgIG5ld19yd2xvY2sgPSBuZXcgcHRo
cmVhZF9yd2xvY2sgKGF0dHIgPyAoKmF0dHIpIDogTlVMTCk7CisgIGlmICgh
aXNfZ29vZF9vYmplY3QgKCZuZXdfcndsb2NrKSkKICAgICB7Ci0gICAgICBk
ZWxldGUgKCpyd2xvY2spOwotICAgICAgKnJ3bG9jayA9IE5VTEw7CisgICAg
ICBkZWxldGUgbmV3X3J3bG9jazsKICAgICAgIHJ3bG9ja19pbml0aWFsaXph
dGlvbl9sb2NrLnVubG9jayAoKTsKICAgICAgIHJldHVybiBFQUdBSU47CiAg
ICAgfQorCisgICpyd2xvY2sgPSBuZXdfcndsb2NrOwogICByd2xvY2tfaW5p
dGlhbGl6YXRpb25fbG9jay51bmxvY2sgKCk7CisKICAgcmV0dXJuIDA7CiB9
CiAKQEAgLTI3NjQsMTggKzI3NzYsMTMgQEAgcHRocmVhZF9lcXVhbCAocHRo
cmVhZF90IHQxLCBwdGhyZWFkX3QgdAogCiAvKiBNdXRleGVzICAqLwogCi0v
KiBGSVhNRTogdGhlcmUncyBhIHBvdGVudGlhbCByYWNlIHdpdGggUFRIUkVB
RF9NVVRFWF9JTklUQUxJWkVSOgotICAgdGhlIG11dGV4IGlzIG5vdCBhY3R1
YWxseSBpbml0ZWQgdW50aWwgdGhlIGZpcnN0IHVzZS4KLSAgIFNvIHR3byB0
aHJlYWRzIHRyeWluZyB0byBsb2NrL3RyeWxvY2sgbWF5IGNvbGxpZGUuCi0g
ICBTb2x1dGlvbjogd2UgbmVlZCBhIGdsb2JhbCBtdXRleCBvbiBtdXRleCBj
cmVhdGlvbiwgb3IgcG9zc2libHkgc2ltcGx5Ci0gICBvbiBhbGwgY29uc3Ry
dWN0b3JzIHRoYXQgYWxsb3cgSU5JVElBTElaRVIgbWFjcm9zLgotICAgdGhl
IGxvY2sgc2hvdWxkIGJlIHZlcnkgc21hbGw6IG9ubHkgYXJvdW5kIHRoZSBp
bml0IHJvdXRpbmUsIG5vdAotICAgZXZlcnkgdGVzdCwgb3IgYWxsIG11dGV4
IGFjY2VzcyB3aWxsIGJlIHN5bmNocm9uaXNlZC4gICovCi0KIGludAogcHRo
cmVhZF9tdXRleDo6aW5pdCAocHRocmVhZF9tdXRleF90ICptdXRleCwKLQkJ
ICAgICAgY29uc3QgcHRocmVhZF9tdXRleGF0dHJfdCAqYXR0cikKKyAgICAg
ICAgICAgICAgICAgICAgIGNvbnN0IHB0aHJlYWRfbXV0ZXhhdHRyX3QgKmF0
dHIsCisgICAgICAgICAgICAgICAgICAgICBjb25zdCBwdGhyZWFkX211dGV4
X3QgaW5pdGlhbGl6ZXIpCiB7CisgIHB0aHJlYWRfbXV0ZXhfdCBuZXdfbXV0
ZXg7CisKICAgaWYgKGF0dHIgJiYgIXB0aHJlYWRfbXV0ZXhhdHRyOjppc19n
b29kX29iamVjdCAoYXR0cikgfHwgY2hlY2tfdmFsaWRfcG9pbnRlciAobXV0
ZXgpKQogICAgIHJldHVybiBFSU5WQUw7CiAKQEAgLTI3ODcsMTUgKzI3OTQs
MjcgQEAgcHRocmVhZF9tdXRleDo6aW5pdCAocHRocmVhZF9tdXRleF90ICpt
dQogICAgICAgcmV0dXJuIEVCVVNZOwogICAgIH0KIAotICAqbXV0ZXggPSBu
ZXcgcHRocmVhZF9tdXRleCAoYXR0ciA/ICgqYXR0cikgOiBOVUxMKTsKLSAg
aWYgKCFpc19nb29kX29iamVjdCAobXV0ZXgpKQorICBuZXdfbXV0ZXggPSBu
ZXcgcHRocmVhZF9tdXRleCAoYXR0ciA/ICgqYXR0cikgOiBOVUxMKTsKKyAg
aWYgKCFpc19nb29kX29iamVjdCAoJm5ld19tdXRleCkpCiAgICAgewotICAg
ICAgZGVsZXRlICgqbXV0ZXgpOwotICAgICAgKm11dGV4ID0gTlVMTDsKKyAg
ICAgIGRlbGV0ZSBuZXdfbXV0ZXg7CiAgICAgICBtdXRleF9pbml0aWFsaXph
dGlvbl9sb2NrLnVubG9jayAoKTsKICAgICAgIHJldHVybiBFQUdBSU47CiAg
ICAgfQorCisgIGlmICghYXR0ciAmJiBpbml0aWFsaXplcikKKyAgICB7Cisg
ICAgICBpZiAoaW5pdGlhbGl6ZXIgPT0gUFRIUkVBRF9SRUNVUlNJVkVfTVVU
RVhfSU5JVElBTElaRVJfTlApCisgICAgICAgIG5ld19tdXRleC0+dHlwZSA9
IFBUSFJFQURfTVVURVhfUkVDVVJTSVZFOworICAgICAgZWxzZSBpZiAoaW5p
dGlhbGl6ZXIgPT0gUFRIUkVBRF9OT1JNQUxfTVVURVhfSU5JVElBTElaRVJf
TlApCisgICAgICAgIG5ld19tdXRleC0+dHlwZSA9IFBUSFJFQURfTVVURVhf
Tk9STUFMOworICAgICAgZWxzZSBpZiAoaW5pdGlhbGl6ZXIgPT0gUFRIUkVB
RF9FUlJPUkNIRUNLX01VVEVYX0lOSVRJQUxJWkVSX05QKQorICAgICAgICBu
ZXdfbXV0ZXgtPnR5cGUgPSBQVEhSRUFEX01VVEVYX0VSUk9SQ0hFQ0s7Cisg
ICAgfQorCisgICptdXRleCA9IG5ld19tdXRleDsKICAgbXV0ZXhfaW5pdGlh
bGl6YXRpb25fbG9jay51bmxvY2sgKCk7CisKICAgcmV0dXJuIDA7CiB9CiAK
QEAgLTI4MDMsMTEgKzI4MjIsNiBAQCBleHRlcm4gIkMiIGludAogcHRocmVh
ZF9tdXRleF9nZXRwcmlvY2VpbGluZyAoY29uc3QgcHRocmVhZF9tdXRleF90
ICptdXRleCwKIAkJCQlpbnQgKnByaW9jZWlsaW5nKQogewotICBwdGhyZWFk
X211dGV4X3QgKnRoZW11dGV4ID0gKHB0aHJlYWRfbXV0ZXhfdCAqKSBtdXRl
eDsKLSAgaWYgKHB0aHJlYWRfbXV0ZXg6OmlzX2dvb2RfaW5pdGlhbGl6ZXIg
KG11dGV4KSkKLSAgICBwdGhyZWFkX211dGV4Ojppbml0ICgocHRocmVhZF9t
dXRleF90ICopIG11dGV4LCBOVUxMKTsKLSAgaWYgKCFwdGhyZWFkX211dGV4
Ojppc19nb29kX29iamVjdCAodGhlbXV0ZXgpKQotICAgIHJldHVybiBFSU5W
QUw7CiAgIC8qIFdlIGRvbid0IGRlZmluZSBfUE9TSVhfVEhSRUFEX1BSSU9f
UFJPVEVDVCBiZWNhdXNlIHdlIGRvJ3QgY3VycmVudGx5IHN1cHBvcnQKICAg
ICAgbXV0ZXggcHJpb3JpdGllcy4KIApAQCAtMjgyMSw0NyArMjgzNSwyOCBA
QCBwdGhyZWFkX211dGV4X2dldHByaW9jZWlsaW5nIChjb25zdCBwdGhyCiBl
eHRlcm4gIkMiIGludAogcHRocmVhZF9tdXRleF9sb2NrIChwdGhyZWFkX211
dGV4X3QgKm11dGV4KQogewotICBwdGhyZWFkX211dGV4X3QgKnRoZW11dGV4
ID0gbXV0ZXg7Ci0gIC8qIFRoaXMgY291bGQgYmUgc2ltcGxpZmllZCB2aWEg
aXNfZ29vZF9pbml0aWFsaXplcl9vcl9vYmplY3QKLSAgICAgYW5kIGlzX2dv
b2RfaW5pdGlhbGl6ZXIsIGJ1dCBpbiBhIHBlcmZvcm1hbmNlIGNyaXRpY2Fs
IGNhbGwgbGlrZSB0aGlzLi4uLgotICAgICBuby4gICovCi0gIHN3aXRjaCAo
dmVyaWZ5YWJsZV9vYmplY3RfaXN2YWxpZCAodGhlbXV0ZXgsIFBUSFJFQURf
TVVURVhfTUFHSUMsIFBUSFJFQURfTVVURVhfSU5JVElBTElaRVIpKQotICAg
IHsKLSAgICBjYXNlIElOVkFMSURfT0JKRUNUOgotICAgICAgcmV0dXJuIEVJ
TlZBTDsKLSAgICAgIGJyZWFrOwotICAgIGNhc2UgVkFMSURfU1RBVElDX09C
SkVDVDoKLSAgICAgIGlmIChwdGhyZWFkX211dGV4Ojppc19nb29kX2luaXRp
YWxpemVyIChtdXRleCkpCi0JewotCSAgaW50IHJ2ID0gcHRocmVhZF9tdXRl
eDo6aW5pdCAobXV0ZXgsIE5VTEwpOwotCSAgaWYgKHJ2ICYmIHJ2ICE9IEVC
VVNZKQotCSAgICByZXR1cm4gcnY7Ci0JfQotICAgICAgLyogTm8gZWxzZSBu
ZWVkZWQuIElmIGl0J3MgYmVlbiBpbml0aWFsaXplZCB3aGlsZSB3ZSB3YWl0
ZWQsCi0JIHdlIGNhbiBqdXN0IGF0dGVtcHQgdG8gbG9jayBpdCAqLwotICAg
ICAgYnJlYWs7Ci0gICAgY2FzZSBWQUxJRF9PQkpFQ1Q6Ci0gICAgICBicmVh
azsKLSAgICB9Ci0gIHJldHVybiAoKnRoZW11dGV4KS0+bG9jayAoKTsKKyAg
aWYgKHB0aHJlYWRfbXV0ZXg6OmlzX2dvb2RfaW5pdGlhbGl6ZXIgKG11dGV4
KSkKKyAgICBwdGhyZWFkX211dGV4Ojppbml0IChtdXRleCwgTlVMTCwgKm11
dGV4KTsKKyAgaWYgKCFwdGhyZWFkX211dGV4Ojppc19nb29kX29iamVjdCAo
bXV0ZXgpKQorICAgIHJldHVybiBFSU5WQUw7CisgIHJldHVybiAoKm11dGV4
KS0+bG9jayAoKTsKIH0KIAogZXh0ZXJuICJDIiBpbnQKIHB0aHJlYWRfbXV0
ZXhfdHJ5bG9jayAocHRocmVhZF9tdXRleF90ICptdXRleCkKIHsKLSAgcHRo
cmVhZF9tdXRleF90ICp0aGVtdXRleCA9IG11dGV4OwogICBpZiAocHRocmVh
ZF9tdXRleDo6aXNfZ29vZF9pbml0aWFsaXplciAobXV0ZXgpKQotICAgIHB0
aHJlYWRfbXV0ZXg6OmluaXQgKG11dGV4LCBOVUxMKTsKLSAgaWYgKCFwdGhy
ZWFkX211dGV4Ojppc19nb29kX29iamVjdCAodGhlbXV0ZXgpKQorICAgIHB0
aHJlYWRfbXV0ZXg6OmluaXQgKG11dGV4LCBOVUxMLCAqbXV0ZXgpOworICBp
ZiAoIXB0aHJlYWRfbXV0ZXg6OmlzX2dvb2Rfb2JqZWN0IChtdXRleCkpCiAg
ICAgcmV0dXJuIEVJTlZBTDsKLSAgcmV0dXJuICgqdGhlbXV0ZXgpLT50cnls
b2NrICgpOworICByZXR1cm4gKCptdXRleCktPnRyeWxvY2sgKCk7CiB9CiAK
IGV4dGVybiAiQyIgaW50CiBwdGhyZWFkX211dGV4X3VubG9jayAocHRocmVh
ZF9tdXRleF90ICptdXRleCkKIHsKICAgaWYgKHB0aHJlYWRfbXV0ZXg6Omlz
X2dvb2RfaW5pdGlhbGl6ZXIgKG11dGV4KSkKLSAgICBwdGhyZWFkX211dGV4
Ojppbml0IChtdXRleCwgTlVMTCk7CisgICAgcmV0dXJuIEVQRVJNOwogICBp
ZiAoIXB0aHJlYWRfbXV0ZXg6OmlzX2dvb2Rfb2JqZWN0IChtdXRleCkpCiAg
ICAgcmV0dXJuIEVJTlZBTDsKICAgcmV0dXJuICgqbXV0ZXgpLT51bmxvY2sg
KCk7CkBAIC0yODg5LDExICsyODg0LDYgQEAgZXh0ZXJuICJDIiBpbnQKIHB0
aHJlYWRfbXV0ZXhfc2V0cHJpb2NlaWxpbmcgKHB0aHJlYWRfbXV0ZXhfdCAq
bXV0ZXgsIGludCBwcmlvY2VpbGluZywKIAkJCQlpbnQgKm9sZF9jZWlsaW5n
KQogewotICBwdGhyZWFkX211dGV4X3QgKnRoZW11dGV4ID0gbXV0ZXg7Ci0g
IGlmIChwdGhyZWFkX211dGV4Ojppc19nb29kX2luaXRpYWxpemVyIChtdXRl
eCkpCi0gICAgcHRocmVhZF9tdXRleDo6aW5pdCAobXV0ZXgsIE5VTEwpOwot
ICBpZiAoIXB0aHJlYWRfbXV0ZXg6OmlzX2dvb2Rfb2JqZWN0ICh0aGVtdXRl
eCkpCi0gICAgcmV0dXJuIEVJTlZBTDsKICAgcmV0dXJuIEVOT1NZUzsKIH0K
IApkaWZmIC11cnAgY3lnd2luLm9yZy90aHJlYWQuaCBjeWd3aW4vdGhyZWFk
LmgKLS0tIGN5Z3dpbi5vcmcvdGhyZWFkLmgJMjAwNC0wMi0xOSAwODozODoz
My44NzUzNzc2MDAgKzAxMDAKKysrIGN5Z3dpbi90aHJlYWQuaAkyMDA0LTAy
LTE5IDA4OjQ0OjM5LjExMDU2MDAwMCArMDEwMApAQCAtMTIwLDggKzEyMCwx
MCBAQCB0eXBlZGVmIGVudW0KICAgVkFMSURfU1RBVElDX09CSkVDVAogfSB2
ZXJpZnlhYmxlX29iamVjdF9zdGF0ZTsKIAotdmVyaWZ5YWJsZV9vYmplY3Rf
c3RhdGUgdmVyaWZ5YWJsZV9vYmplY3RfaXN2YWxpZCAodm9pZCBjb25zdCAq
LCBsb25nKTsKLXZlcmlmeWFibGVfb2JqZWN0X3N0YXRlIHZlcmlmeWFibGVf
b2JqZWN0X2lzdmFsaWQgKHZvaWQgY29uc3QgKiwgbG9uZywgdm9pZCAqKTsK
K3ZlcmlmeWFibGVfb2JqZWN0X3N0YXRlIHZlcmlmeWFibGVfb2JqZWN0X2lz
dmFsaWQgKHZvaWQgY29uc3QgKiBvYmplY3RwdHIsIGxvbmcgbWFnaWMsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB2b2lkICpzdGF0aWNfcHRyMSA9IE5VTEwsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpz
dGF0aWNfcHRyMiA9IE5VTEwsCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpzdGF0aWNfcHRyMyA9
IE5VTEwpOwogCiB0ZW1wbGF0ZSA8Y2xhc3MgbGlzdF9ub2RlPiBpbmxpbmUg
dm9pZAogTGlzdF9pbnNlcnQgKGxpc3Rfbm9kZSAqJmhlYWQsIGxpc3Rfbm9k
ZSAqbm9kZSkKQEAgLTI3Niw3ICsyNzgsOCBAQCBwdWJsaWM6CiAgIHN0YXRp
YyBib29sIGlzX2dvb2RfaW5pdGlhbGl6ZXJfb3JfYmFkX29iamVjdCAocHRo
cmVhZF9tdXRleF90IGNvbnN0ICptdXRleCk7CiAgIHN0YXRpYyBib29sIGNh
bl9iZV91bmxvY2tlZCAocHRocmVhZF9tdXRleF90IGNvbnN0ICptdXRleCk7
CiAgIHN0YXRpYyB2b2lkIGluaXRfbXV0ZXggKCk7Ci0gIHN0YXRpYyBpbnQg
aW5pdCAocHRocmVhZF9tdXRleF90ICosIGNvbnN0IHB0aHJlYWRfbXV0ZXhh
dHRyX3QgKik7CisgIHN0YXRpYyBpbnQgaW5pdCAocHRocmVhZF9tdXRleF90
ICptdXRleCwgY29uc3QgcHRocmVhZF9tdXRleGF0dHJfdCAqYXR0ciwKKyAg
ICAgICAgICAgICAgICAgICBjb25zdCBwdGhyZWFkX211dGV4X3QgaW5pdGlh
bGl6ZXIgPSBOVUxMKTsKIAogICB1bnNpZ25lZCBsb25nIGxvY2tfY291bnRl
cjsKICAgSEFORExFIHdpbjMyX29ial9pZDsK

--2183302-14392-1077263263=:940--
