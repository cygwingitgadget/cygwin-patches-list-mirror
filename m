Return-Path: <cygwin-patches-return-2217-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 8853 invoked by alias); 24 May 2002 11:33:15 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 8787 invoked from network); 24 May 2002 11:33:06 -0000
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C20316.C551574C"
Subject: building a profilable cygwin1.dll
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
Date: Fri, 24 May 2002 04:33:00 -0000
Message-ID: <FC169E059D1A0442A04C40F86D9BA7600C615B@itdomain003.itdomain.net.au>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
From: "Robert Collins" <robert.collins@itdomain.com.au>
To: <cygwin-developers@cygwin.com>
Cc: <cygwin-patches@cygwin.com>
X-SW-Source: 2002-q2/txt/msg00201.txt.bz2

This is a multi-part message in MIME format.

------_=_NextPart_001_01C20316.C551574C
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-length: 421

This is experimental, and not suitable for CVS for a number of reasons.

However, I don't have time or inclination to tidy it up just now.

The reason for the multiple non-inlining changes was an ill-fated
attempt to get the profilable dll runnable under gdb.

I'm happy to provide details on what I did and why should anyone want to
experiment.

For obvious reasons, a gprof profilable .dll is a very useful thing.

Rob

------_=_NextPart_001_01C20316.C551574C
Content-Type: text/plain;
	name="how-profiling-works.txt"
Content-Transfer-Encoding: base64
Content-Description: how-profiling-works.txt
Content-Disposition: attachment;
	filename="how-profiling-works.txt"
Content-length: 460

KEMpIDIwMDIgUm9iZXJ0IENvbGxpbnMKCkhvdyB0byBwcm9maWxlIGN5Z3dp
bjEuZGxsLgoKVGhlIGhhcmQgd2F5OgoKQnVpbGQgbGliYy5hIGFuZCBsaWJt
LmEgd2l0aCAtcGcuCkJ1aWxkIGFsbCB0aGUgY3lnd2luMS5kbGwgc291cmNl
IC0gZXhjZXB0IG1jb3VudC5jIC0gd2l0aCAtcGcgYW5kIG5vIC1PMi4KLU8y
IGludGVyZmVyZXMgd2l0aCAtcGcgaW4gc29tZSBpbmxpbmVkIGNvZGUuCkxp
bmsgbGliZ21vbi5hIGludG8gY3lnd2luMS5kbGwuCgpJIHVzZWQgYSBDQ05P
UFJPRiB0YXJnZXQgaW4gTWFrZWZpbGUuaW4gdG8gbWFrZSB0aGlzIHJlbGF0
aXZlbHkgZWFzeS4KClZvaWxhLgoKCg==

------_=_NextPart_001_01C20316.C551574C
Content-Type: application/octet-stream;
	name="profiling.diff"
Content-Transfer-Encoding: base64
Content-Description: profiling.diff
Content-Disposition: attachment;
	filename="profiling.diff"
Content-length: 30126

PyBjeWdzZXJ2ZXJfc2VtLmNjCj8gY3lnc2VydmVyX3NlbS5oCj8gY3lnc3Ry
cHRpbWUucGF0Y2gKPyBkYWVtb25zdGF0ZS5wYXRjaAo/IGRhZW1vbnN0YXRl
Mi5wYXRjaAo/IGRhZW1vbnN0YXRlMy5wYXRjaAo/IGV4cG9ydGlwYy5wYXRj
aAo/IHQKPyBnZXRzZW0ucGF0Y2gKPyBob3ctY3lnd2luLW9wdGlvbnMtd29y
ay50eHQKPyBrZXlfdC5wYXRjaAo/IGxvY2Fsd29ya2luZ3N0dWZmLnBhdGNo
Cj8gbWVyZ2UubG9nCj8gbmV3Cj8gc2VtLmNjCj8gcGVydGhyZWFkLmNjCj8g
cHJvZmlsaW5nLmRpZmYKPyB0LnQKPyBob3ctcHJvZmlsaW5nLXdvcmtzLnR4
dAo/IHJ1bl9kdG9ycy5wYXRjaAo/IGluY2x1ZGUvc3lzL3NlbS5oCkluZGV4
OiBNYWtlZmlsZS5pbgo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxl
OiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9NYWtlZmlsZS5pbix2CnJl
dHJpZXZpbmcgcmV2aXNpb24gMS44NwpkaWZmIC11IC1wIC1yMS44NyBNYWtl
ZmlsZS5pbgotLS0gTWFrZWZpbGUuaW4JMTggTWF5IDIwMDIgMDY6MTA6MTYg
LTAwMDAJMS44NworKysgTWFrZWZpbGUuaW4JMjQgTWF5IDIwMDIgMTE6Mjk6
MDAgLTAwMDAKQEAgLTQ3LDEzICs0NywxNSBAQCBJTlNUQUxMX1BST0dSQU06
PUBJTlNUQUxMX1BST0dSQU1ACiBNVF9TQUZFOj1ATVRfU0FGRUAKIERFRlM6
PUBERUZTQAogCi1DQzo9QENDQAorQ0M6PUBDQ0AgLXBnIC1EcmVncGFybVwo
eFwpPXVudXNlZAorQ0NOT1BST0Y6PUBDQ0AKICMgRklYTUU6IFdoaWNoIGlz
IGl0LCBDQyBvciBDQ19GT1JfVEFSR0VUPwogQ0NfRk9SX1RBUkdFVDo9JChD
QykKIENGTEFHUzo9QENGTEFHU0AKIENGTEFHUys9LU1NRCAtZmJ1aWx0aW4K
LUNYWDo9QENYWEAKK0NYWDo9QENYWEAgLXBnIC1EcmVncGFybVwoeFwpPXVu
dXNlZAogQ1hYRkxBR1M6PUBDWFhGTEFHU0AKK0NYWE5PUFJPRjo9QENYWEAK
IAogIyBGb3IgbGlua2luZyBtb3VudCwgZXRjLiBjcnQwLm8gaXNuJ3QgYWNj
ZXNzYWJsZSBpbiBhIGZyZXNoIGJ1aWxkLgogRVhFX0xERkxBR1M6PUBFWEVf
TERGTEFHU0AKQEAgLTExMSw2ICsxMTMsOSBAQCBMSUJDT1M6PSR7c29ydCAk
e2FkZHN1ZmZpeCAubywke2Jhc2VuYW1lCiAKIEVYVFJBX0RMTF9PRklMRVM6
PSR7YWRkc3VmZml4IC5vLCR7YmFzZW5hbWUgJHtub3RkaXIgJHt3aWxkY2Fy
ZCAkKENPTkZJR19ESVIpLyouY319fX0KIAorIyBQcm9maWxlIGN5Z3dpbjEu
ZGxsCitFWFRSQV9ETExfT0ZJTEVTKz0gJChMSUJHTU9OX0EpICQoR01PTl9T
VEFSVCkKKwogRVhUUkFfT0ZJTEVTPSQoYnVwZGlyMSkvbGliaWJlcnR5L3Jh
bmRvbS5vICQoYnVwZGlyMSkvbGliaWJlcnR5L3N0cnNpZ25hbC5vCiAKIE1B
TExPQ19PRklMRVM9QE1BTExPQ19PRklMRVNACkBAIC0xMjgsOSArMTMzLDEy
IEBAIERMTF9PRklMRVM6PWFzc2VydC5vIGF1dG9sb2FkLm8gY3lnaGVhcC4K
IAlmaGFuZGxlcl90YXBlLm8gZmhhbmRsZXJfdGVybWlvcy5vIGZoYW5kbGVy
X3R0eS5vIGZoYW5kbGVyX3ZpcnR1YWwubyBcCiAJZmhhbmRsZXJfd2luZG93
cy5vIGZoYW5kbGVyX3plcm8ubyBmbm1hdGNoLm8gZm9yay5vIGdsb2IubyBn
cnAubyBcCiAJaGVhcC5vIGluaXQubyBpb2N0bC5vIGlwYy5vIGxvY2FsdGlt
ZS5vIG1hbGxvYy5vIG1pc2NmdW5jcy5vIG1tYXAubyBcCi0JbmV0Lm8gbnRl
YS5vIHBhc3N3ZC5vIHBhdGgubyBwaW5mby5vIHBpcGUubyBwb2xsLm8gcHRo
cmVhZC5vIHJlZ2NvbXAubyBcCisJbmV0Lm8gbnRlYS5vIHBhc3N3ZC5vIHBh
dGgubyBcCisJcGVydGhyZWFkLm8gXAorCXBpbmZvLm8gcGlwZS5vIHBvbGwu
byBwdGhyZWFkLm8gcmVnY29tcC5vIFwKIAlyZWdlcnJvci5vIHJlZ2V4ZWMu
byByZWdmcmVlLm8gcmVnaXN0cnkubyByZXNvdXJjZS5vIHNjYW5kaXIubyBz
Y2hlZC5vIFwKLQlzZWNfYWNsLm8gc2VjX2hlbHBlci5vIHNlY3VyaXR5Lm8g
c2VsZWN0Lm8gc2hhcmVkLm8gc2htLm8gc2hvcnRjdXQubyBcCisJc2VjX2Fj
bC5vIHNlY19oZWxwZXIubyBzZW0ubyBzZWN1cml0eS5vIHNlbGVjdC5vIHNo
YXJlZC5vIHNobS5vIFwKKwlzaG9ydGN1dC5vIFwKIAlzaWduYWwubyBzaWdw
cm9jLm8gc21hbGxwcmludC5vIHNwYXduLm8gc3RyYWNlLm8gc3Ryc2VwLm8g
c3luYy5vIFwKIAlzeXNjYWxscy5vIHN5c2NvbmYubyBzeXNsb2cubyB0ZXJt
aW9zLm8gdGhyZWFkLm8gdGltZXMubyB0dHkubyB1aW5mby5vIFwKIAl1bmFt
ZS5vIHY4X3JlZ2V4cC5vIHY4X3JlZ2Vycm9yLm8gdjhfcmVnc3ViLm8gd2Fp
dC5vIHdpbmNhcC5vIHdpbmRvdy5vIFwKQEAgLTEzOCw2ICsxNDYsMTUgQEAg
RExMX09GSUxFUzo9YXNzZXJ0Lm8gYXV0b2xvYWQubyBjeWdoZWFwLgogCiBH
TU9OX09GSUxFUzo9Z21vbi5vIG1jb3VudC5vIHByb2ZpbC5vCiAKK21jb3Vu
dC5vOiBtY291bnQuYworCSQoQ0NOT1BST0YpICRjIC1ub3N0ZGluYyAkKEFM
TF9DRkxBR1MpICQoR0NDX0lOQ0xVREUpICAtbyAkKEBEKS8kKCpGKSRvICQ8
CisKK2dtb24ubzogZ21vbi5jCisJJChDQ05PUFJPRikgJGMgLW5vc3RkaW5j
ICQoQUxMX0NGTEFHUykgJChHQ0NfSU5DTFVERSkgIC1vICQoQEQpLyQoKkYp
JG8gJDwKKworcHJvZmlsLm86IHByb2ZpbC5jCisJJChDQ05PUFJPRikgJGMg
LW5vc3RkaW5jICQoQUxMX0NGTEFHUykgJChHQ0NfSU5DTFVERSkgIC1vICQo
QEQpLyQoKkYpJG8gJDwKKwogT0JTT0xFVEVfRlVOQ1RJT05TOj1yZWdjb21w
IHJlZ2Vycm9yIHJlZ2V4ZWMgcmVnZnJlZSByZWdzdWIKIE5FV19GVU5DVElP
TlM6PXJlZ2NvbXAgcG9zaXhfcmVnY29tcCBcCiAJICAgICAgIHJlZ2Vycm9y
IHBvc2l4X3JlZ2Vycm9yIFwKQEAgLTMyMiw3ICszMzksMTAgQEAgY3lnc2Vy
dmVyX2NsaWVudF9vdXRzaWRlLm86IGN5Z3NlcnZlcl9jbAogY3lnc2VydmVy
X3NobS5vOiBjeWdzZXJ2ZXJfc2htLmNjCiAJJChDT01QSUxFX0NYWCkgLURf
X09VVFNJREVfQ1lHV0lOX18gLW8gJEAgJDwKIAotY3lnc2VydmVyLmV4ZTog
Y3lnc2VydmVyLm8gY3lnc2VydmVyX3NobS5vIGN5Z3NlcnZlcl90cmFuc3Bv
cnRfb3V0c2lkZS5vIGN5Z3NlcnZlcl90cmFuc3BvcnRfcGlwZXNfb3V0c2lk
ZS5vIGN5Z3NlcnZlcl90cmFuc3BvcnRfc29ja2V0c19vdXRzaWRlLm8gY3ln
c2VydmVyX2NsaWVudF9vdXRzaWRlLm8gY3lnc2VydmVyX3Byb2Nlc3MubyB0
aHJlYWRlZF9xdWV1ZS5vIHdpbmNhcC5vIHZlcnNpb24ubyBzbWFsbHByaW50
Lm8KK2N5Z3NlcnZlcl9zZW0ubzogY3lnc2VydmVyX3NlbS5jYworCSQoQ09N
UElMRV9DWFgpIC1EX19PVVRTSURFX0NZR1dJTl9fIC1vICRAICQ8CisKK2N5
Z3NlcnZlci5leGU6IGN5Z3NlcnZlci5vIGN5Z3NlcnZlcl9zZW0ubyBjeWdz
ZXJ2ZXJfc2htLm8gY3lnc2VydmVyX3RyYW5zcG9ydF9vdXRzaWRlLm8gY3ln
c2VydmVyX3RyYW5zcG9ydF9waXBlc19vdXRzaWRlLm8gY3lnc2VydmVyX3Ry
YW5zcG9ydF9zb2NrZXRzX291dHNpZGUubyBjeWdzZXJ2ZXJfY2xpZW50X291
dHNpZGUubyBjeWdzZXJ2ZXJfcHJvY2Vzcy5vIHRocmVhZGVkX3F1ZXVlLm8g
d2luY2FwLm8gdmVyc2lvbi5vIHNtYWxscHJpbnQubyAKIAkkKENYWCkgLW8g
JEAgJF4KICNpZmRlZiBWRVJCT1NFCiAjCSQoQ1hYKSAkKE1JTkdXX0NYWEZM
QUdTKSAtbyAkQCAke3dvcmRsaXN0IDEsMywkXn0gLUIkKG1pbmd3X2J1aWxk
KS8gJChNSU5HV19MREZMQUdTKQpJbmRleDogY2hpbGRfaW5mby5oCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5z
dXAvY3lnd2luL2NoaWxkX2luZm8uaCx2CnJldHJpZXZpbmcgcmV2aXNpb24g
MS4yOQpkaWZmIC11IC1wIC1yMS4yOSBjaGlsZF9pbmZvLmgKLS0tIGNoaWxk
X2luZm8uaAkxMCBGZWIgMjAwMiAxMzo1MDoxMyAtMDAwMAkxLjI5CisrKyBj
aGlsZF9pbmZvLmgJMjQgTWF5IDIwMDIgMTE6Mjk6MDEgLTAwMDAKQEAgLTgs
NiArOCw5IEBAIFRoaXMgc29mdHdhcmUgaXMgYSBjb3B5cmlnaHRlZCB3b3Jr
IGxpY2UKIEN5Z3dpbiBsaWNlbnNlLiAgUGxlYXNlIGNvbnN1bHQgdGhlIGZp
bGUgIkNZR1dJTl9MSUNFTlNFIiBmb3IKIGRldGFpbHMuICovCiAKKyNpZm5k
ZWYgX0NISUxEX0lORk9fSF8KKyNkZWZpbmUgX0NISUxEX0lORk9fSF8KKwog
I2luY2x1ZGUgPHNldGptcC5oPgogCiBlbnVtCkBAIC0xMDksMyArMTEyLDUg
QEAgcHVibGljOgogdm9pZCBfX3N0ZGNhbGwgaW5pdF9jaGlsZF9pbmZvIChE
V09SRCwgY2hpbGRfaW5mbyAqLCBpbnQsIEhBTkRMRSk7CiAKIGV4dGVybiBj
aGlsZF9pbmZvX2ZvcmsgKmNoaWxkX3Byb2NfaW5mbzsKKworI2VuZGlmIC8q
IF9DSElMRF9JTkZPX0hfICovCkluZGV4OiBjeWdlcnJuby5oCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAv
Y3lnd2luL2N5Z2Vycm5vLmgsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNwpk
aWZmIC11IC1wIC1yMS43IGN5Z2Vycm5vLmgKLS0tIGN5Z2Vycm5vLmgJMjIg
T2N0IDIwMDEgMjE6MDk6NDEgLTAwMDAJMS43CisrKyBjeWdlcnJuby5oCTI0
IE1heSAyMDAyIDExOjI5OjAxIC0wMDAwCkBAIC04LDYgKzgsOSBAQCBUaGlz
IHNvZnR3YXJlIGlzIGEgY29weXJpZ2h0ZWQgd29yayBsaWNlCiBDeWd3aW4g
bGljZW5zZS4gIFBsZWFzZSBjb25zdWx0IHRoZSBmaWxlICJDWUdXSU5fTElD
RU5TRSIgZm9yCiBkZXRhaWxzLiAqLwogCisjaWZuZGVmIF9DWUdFUlJOT19I
XworI2RlZmluZSBfQ1lHRVJSTk9fSF8KKwogdm9pZCBfX3N0ZGNhbGwgc2V0
ZXJybm9fZnJvbV93aW5fZXJyb3IgKGNvbnN0IGNoYXIgKmZpbGUsIGludCBs
aW5lLCBEV09SRCBjb2RlKSBfX2F0dHJpYnV0ZV9fICgocmVncGFybSgzKSkp
Owogdm9pZCBfX3N0ZGNhbGwgc2V0ZXJybm8gKGNvbnN0IGNoYXIgKiwgaW50
IGxpbmUpIF9fYXR0cmlidXRlX18gKChyZWdwYXJtKDIpKSk7CiBpbnQgX19z
dGRjYWxsIGdldGVycm5vX2Zyb21fd2luX2Vycm9yIChEV09SRCBjb2RlLCBp
bnQgZGVmZXJybm8pIF9fYXR0cmlidXRlX18gKChyZWdwYXJtKDIpKSk7CkBA
IC0zNywzICs0MCw1IEBAIGNsYXNzIHNhdmVfZXJybm8KIAogZXh0ZXJuIGNv
bnN0IGNoYXIgKl9fc3BfZm47CiBleHRlcm4gaW50IF9fc3BfbG47CisKKyNl
bmRpZiAvKiBfQ1lHRVJSTk9fSF8gKi8KSW5kZXg6IGN5Z2hlYXAuaAo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2lu
c3VwL2N5Z3dpbi9jeWdoZWFwLmgsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
MzgKZGlmZiAtdSAtcCAtcjEuMzggY3lnaGVhcC5oCi0tLSBjeWdoZWFwLmgJ
OCBNYXkgMjAwMiAxNDoyMTowOCAtMDAwMAkxLjM4CisrKyBjeWdoZWFwLmgJ
MjQgTWF5IDIwMDIgMTE6Mjk6MDEgLTAwMDAKQEAgLTgsNiArOCwxNiBAQCBU
aGlzIHNvZnR3YXJlIGlzIGEgY29weXJpZ2h0ZWQgd29yayBsaWNlCiBDeWd3
aW4gbGljZW5zZS4gIFBsZWFzZSBjb25zdWx0IHRoZSBmaWxlICJDWUdXSU5f
TElDRU5TRSIgZm9yCiBkZXRhaWxzLiAqLwogCisjaWZuZGVmIF9DWUdIRUFQ
X0hfCisjZGVmaW5lIF9DWUdIRUFQX0hfCisKKyNpbmNsdWRlICJwYXRoLmgi
CisjaW5jbHVkZSAiZHRhYmxlLmgiCisvKiBmb3Igc2V0X2Vycm5vICovCisj
aW5jbHVkZSAiY3lnZXJybm8uaCIKKy8qIGZvciB2YXJpb3VzIGVycm51bWJl
cnMgKi8KKyNpbmNsdWRlIDxlcnJuby5oPgorCiAjdW5kZWYgY2ZyZWUKIAog
ZW51bSBjeWdoZWFwX3R5cGVzCkBAIC0yNzMsMyArMjgzLDUgQEAgY2hhciAq
X19zdGRjYWxsIGNzdHJkdXAgKGNvbnN0IGNoYXIgKikgXwogY2hhciAqX19z
dGRjYWxsIGNzdHJkdXAxIChjb25zdCBjaGFyICopIF9fYXR0cmlidXRlX18g
KChyZWdwYXJtKDEpKSk7CiB2b2lkIF9fc3RkY2FsbCBjeWdoZWFwX2luaXQg
KCk7CiB9CisKKyNlbmRpZiAvKiBfQ1lHSEVBUF9IXyAqLwpJbmRleDogY3ln
c2VydmVyLmNjCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9j
dnMvc3JjL3NyYy93aW5zdXAvY3lnd2luL2N5Z3NlcnZlci5jYyx2CnJldHJp
ZXZpbmcgcmV2aXNpb24gMS40CmRpZmYgLXUgLXAgLXIxLjQgY3lnc2VydmVy
LmNjCi0tLSBjeWdzZXJ2ZXIuY2MJMTUgTWFyIDIwMDIgMjE6NTI6MDUgLTAw
MDAJMS40CisrKyBjeWdzZXJ2ZXIuY2MJMjQgTWF5IDIwMDIgMTE6Mjk6MDIg
LTAwMDAKQEAgLTMxLDYgKzMxLDcgQEAKICNpbmNsdWRlICJjeWd3aW4vY3ln
c2VydmVyX3Byb2Nlc3MuaCIKICNpbmNsdWRlICJjeWd3aW4vY3lnc2VydmVy
LmgiCiAjaW5jbHVkZSAiY3lnc2VydmVyX3NobS5oIgorI2luY2x1ZGUgImN5
Z3NlcnZlcl9zZW0uaCIKIAogLyogZm9yIHF1aWV0ZXIgb3BlcmF0aW9uLCBz
ZXQgdG8gMCAqLwogI2RlZmluZSBERUJVRyAwCkBAIC0xNTgsNiArMTU5LDgg
QEAgb3V0Ogogdm9pZAogY2xpZW50X3JlcXVlc3Q6OnNlcnZlICh0cmFuc3Bv
cnRfbGF5ZXJfYmFzZSAqY29ubiwgY2xhc3MgcHJvY2Vzc19jYWNoZSAqY2Fj
aGUpCiB7CisgIGlmIChoZWFkZXIucmVxX2lkID09IENZR1NFUlZFUl9SRVFV
RVNUX0lOVkFMSUQpCisgICAgcmV0dXJuOwogICBwcmludGYgKCIqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIgogCSAgIkEg
Y2FsbCB0byB0aGUgYmFzZSBjbGllbnRfcmVxdWVzdCBjbGFzcyBoYXMgb2Nj
dXJlZFxuIgogCSAgIlRoaXMgaW5kaWNhdGVzIGEgbWlzbWF0Y2ggaW4gYSB2
aXJ0dWFsIGZ1bmN0aW9uIGRlZmluaXRpb24gc29tZXdoZXJlXG4iKTsKQEAg
LTM2NSw3ICszNjgsOSBAQCBzZXJ2ZXJfcmVxdWVzdDo6cHJvY2VzcyAoKQog
ICAgIGNhc2UgQ1lHU0VSVkVSX1JFUVVFU1RfU0hVVERPV046CiAgICAgICBy
ZXEgPSBuZXcgY2xpZW50X3JlcXVlc3Rfc2h1dGRvd24gKCk7IGJyZWFrOwog
ICAgIGNhc2UgQ1lHU0VSVkVSX1JFUVVFU1RfU0hNX0dFVDoKLSAgICAgcmVx
ID0gbmV3IGNsaWVudF9yZXF1ZXN0X3NobSAoKTsgYnJlYWs7CisgICAgICBy
ZXEgPSBuZXcgY2xpZW50X3JlcXVlc3Rfc2htICgpOyBicmVhazsKKyAgICBj
YXNlIENZR1NFUlZFUl9SRVFVRVNUX1NFTToKKyAgICAgIHJlcSA9IG5ldyBj
bGllbnRfcmVxdWVzdF9zZW0gKCk7IGJyZWFrOyAKICAgICBkZWZhdWx0Ogog
ICAgICAgcmVxID0gbmV3IGNsaWVudF9yZXF1ZXN0IChDWUdTRVJWRVJfUkVR
VUVTVF9JTlZBTElELCAwKTsKICAgICAgIHJlcS0+aGVhZGVyLmVycm9yX2Nv
ZGUgPSBFTk9TWVM7CkBAIC0zNzQsOCArMzc5LDIyIEBAIHNlcnZlcl9yZXF1
ZXN0Ojpwcm9jZXNzICgpCiAKICAgaWYgKHJlcS0+aGVhZGVyLmNiICE9IHJl
cV9wdHItPmNiKQogICAgIHsKLSAgICAgIGRlYnVnX3ByaW50ZiAoIk1pc21h
dGNoIGluIHJlcXVlc3QgYnVmZmVyIHNpemVzXG4iKTsKLSAgICAgIGdvdG8g
b3V0OworICAgICAgaWYgKHJlcS0+aGVhZGVyLnJlcV9pZCA9PSBDWUdTRVJW
RVJfUkVRVUVTVF9JTlZBTElEKQorCXsKKwkgIC8vIHN1Y2sgdGhlIGNvbm5l
Y3Rpb24gZHJ5CisJICBjaGFyIHRlbXBidWZbcmVxX3B0ci0+Y2JdOworCSAg
Ynl0ZXNfcmVhZCA9IGNvbm4tPnJlYWQgKCZ0ZW1wYnVmWzBdLCByZXFfcHRy
LT5jYik7CisJICBpZiAoYnl0ZXNfcmVhZCAhPSByZXFfcHRyLT5jYikKKwkg
ICAgeworCSAgICAgIGRlYnVnX3ByaW50ZiAoImVycm9yIHJlYWRpbmcgJWxk
IC8gJWxkIGZyb20gY29ubmVjdGlvbiAoJWx1KVxuIiwgYnl0ZXNfcmVhZCxy
ZXFfcHRyLT5jYiwgR2V0TGFzdEVycm9yICgpKTsKKwkgICAgICBnb3RvIG91
dDsKKwkgICAgfQorCX0KKyAgICAgIGVsc2UKKwl7CisgICAgICAgICAgZGVi
dWdfcHJpbnRmICgiTWlzbWF0Y2ggaW4gcmVxdWVzdCBidWZmZXIgc2l6ZXNc
biIpOworICAgICAgICAgIGdvdG8gb3V0OworCX0KICAgICB9CiAKICAgaWYg
KHJlcS0+aGVhZGVyLmNiKQpJbmRleDogY3lnd2luLmRpbgo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5
Z3dpbi9jeWd3aW4uZGluLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjQ2CmRp
ZmYgLXUgLXAgLXIxLjQ2IGN5Z3dpbi5kaW4KLS0tIGN5Z3dpbi5kaW4JMTMg
TWF5IDIwMDIgMTk6NTM6NDYgLTAwMDAJMS40NgorKysgY3lnd2luLmRpbgky
NCBNYXkgMjAwMiAxMToyOTowMiAtMDAwMApAQCAtMTI1MiwzICsxMjUyLDEx
IEBAIGFjbHRvdGV4dAogX2FjbHRvdGV4dCA9IGFjbHRvdGV4dAogYWNsZnJv
bXRleHQKIF9hY2xmcm9tdGV4dCA9IGFjbGZyb210ZXh0CitmdG9rCitzaG1h
dAorc2htY3RsCitzaG1kdAorc2htZ2V0CitzZW1jdGwKK3NlbWdldAorc2Vt
b3AKSW5kZXg6IGRlYnVnLmNjCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNT
IGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvY3lnd2luL2RlYnVnLmNjLHYK
cmV0cmlldmluZyByZXZpc2lvbiAxLjMxCmRpZmYgLXUgLXAgLXIxLjMxIGRl
YnVnLmNjCi0tLSBkZWJ1Zy5jYwkyMiBGZWIgMjAwMiAxOTozMzo0MSAtMDAw
MAkxLjMxCisrKyBkZWJ1Zy5jYwkyNCBNYXkgMjAwMiAxMToyOTowMiAtMDAw
MApAQCAtMzgsNiArMzgsOCBAQCB2b2lkCiB0aHJlYWRuYW1lX2luaXQgKCkK
IHsKICAgbmV3X211dG8gKHRocmVhZG5hbWVfbG9jayk7CisvLyAgc3RhdGlj
IG11dG8gdGhyZWFkbmFtZV9sb2NrIyNfc3RvcmFnZSBfX2F0dHJpYnV0ZV9f
KChub2NvbW1vbikpIF9fYXR0cmlidXRlX18oKHNlY3Rpb24oIi5kYXRhX2N5
Z3dpbl9ub2NvcHkiKSkpOworLy8gIHRocmVhZG5hbWVfbG9jayA9IHRocmVh
ZG5hbWVfbG9jayMjX3N0b3JhZ2UgKHRocmVhZG5hbWVfbG9jayk7CiB9CiAK
IHZvaWQgX19zdGRjYWxsCkluZGV4OiBkdGFibGUuaAo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dp
bi9kdGFibGUuaCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4xNgpkaWZmIC11
IC1wIC1yMS4xNiBkdGFibGUuaAotLS0gZHRhYmxlLmgJMjIgRmViIDIwMDIg
MTk6MzM6NDEgLTAwMDAJMS4xNgorKysgZHRhYmxlLmgJMjQgTWF5IDIwMDIg
MTE6Mjk6MDIgLTAwMDAKQEAgLTgsNiArOCw5IEBAIFRoaXMgc29mdHdhcmUg
aXMgYSBjb3B5cmlnaHRlZCB3b3JrIGxpY2UKIEN5Z3dpbiBsaWNlbnNlLiAg
UGxlYXNlIGNvbnN1bHQgdGhlIGZpbGUgIkNZR1dJTl9MSUNFTlNFIiBmb3IK
IGRldGFpbHMuICovCiAKKyNpZm5kZWYgX0RUQUJMRV9IXworI2RlZmluZSBf
RFRBQkxFX0hfCisKIC8qIEluaXRpYWwgYW5kIGluY3JlbWVudCB2YWx1ZXMg
Zm9yIGN5Z3dpbidzIGZkIHRhYmxlICovCiAjZGVmaW5lIE5PRklMRV9JTkNS
ICAgIDMyCiAKQEAgLTg1LDMgKzg4LDUgQEAgZXh0ZXJuIGR0YWJsZSBmZHRh
YjsKIAogZXh0ZXJuICJDIiBpbnQgZ2V0ZmR0YWJzaXplICgpOwogZXh0ZXJu
ICJDIiB2b2lkIHNldGZkdGFic2l6ZSAoaW50KTsKKworI2VuZGlmIC8qIF9E
VEFCTEVfSF8gKi8KSW5kZXg6IGZoYW5kbGVyLmgKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQpSQ1MgZmlsZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jeWd3aW4v
ZmhhbmRsZXIuaCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMTYKZGlmZiAt
dSAtcCAtcjEuMTE2IGZoYW5kbGVyLmgKLS0tIGZoYW5kbGVyLmgJMjIgTWF5
IDIwMDIgMjI6MDk6NTcgLTAwMDAJMS4xMTYKKysrIGZoYW5kbGVyLmgJMjQg
TWF5IDIwMDIgMTE6Mjk6MDUgLTAwMDAKQEAgLTEyLDYgKzEyLDcgQEAgZGV0
YWlscy4gKi8KICNkZWZpbmUgX0ZIQU5ETEVSX0hfCiAKICNpbmNsdWRlIDxz
eXMvaW9jdGwuaD4KKyNpbmNsdWRlICJzZWN1cml0eS5oIgogCiBlbnVtCiB7
CkluZGV4OiBnbW9uLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmls
ZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jeWd3aW4vZ21vbi5jLHYKcmV0cmll
dmluZyByZXZpc2lvbiAxLjQKZGlmZiAtdSAtcCAtcjEuNCBnbW9uLmMKLS0t
IGdtb24uYwk3IFNlcCAyMDAxIDIxOjMyOjA0IC0wMDAwCTEuNAorKysgZ21v
bi5jCTI0IE1heSAyMDAyIDExOjI5OjA1IC0wMDAwCkBAIC00NCw2ICs0NCw3
IEBAIHN0YXRpYyBjaGFyIHJjc2lkW10gPSAiJE9wZW5CU0Q6IGdtb24uYywK
ICNpbmNsdWRlIDxnbW9uLmg+CiAKICNpbmNsdWRlIDxwcm9maWwuaD4KKyNp
bmNsdWRlIDx3aW5kb3dzLmg+CiAKIC8qIFhYWCBuZWVkZWQ/ICovCiAvL2V4
dGVybiBjaGFyICptaW5icmsgX19hc20gKCJtaW5icmsiKTsKQEAgLTU4LDEw
ICs1OSwxNyBAQCBzdGF0aWMgaW50CXNfc2NhbGU7CiAKIHZvaWQJbW9uY29u
dHJvbCBfX1AoKGludCkpOwogCitIQU5ETEUgZ21vbl9oZWFwID0gSU5WQUxJ
RF9IQU5ETEVfVkFMVUU7CisKIHN0YXRpYyB2b2lkICoKIGZha2Vfc2Jyayhp
bnQgc2l6ZSkKIHsKLSAgICByZXR1cm4gbWFsbG9jKHNpemUpOworLy8gZG9l
cyBub3QgcGxheSBuaWNlIHdoZW4gcHJvZmlsaW5nIGN5Z3dpbiBpdHNlbGYK
Ky8vICAgIHJldHVybiBtYWxsb2Moc2l6ZSk7CisgICAgdm9pZCAqcnYgPSBI
ZWFwQWxsb2MoZ21vbl9oZWFwLCAwLCBzaXplKTsKKyAgICBpZiAocnYgPT0g
TlVMTCkKKyAgICAgIHJldHVybiAodm9pZCAqKSAtMTsKKyAgICByZXR1cm4g
cnY7CiB9CiAKIHZvaWQKQEAgLTcyLDYgKzgwLDggQEAgbW9uc3RhcnR1cChs
b3dwYywgaGlnaHBjKQogCXJlZ2lzdGVyIGludCBvOwogCWNoYXIgKmNwOwog
CXN0cnVjdCBnbW9ucGFyYW0gKnAgPSAmX2dtb25wYXJhbTsKKworCWdtb25f
aGVhcCA9IEdldFByb2Nlc3NIZWFwKCk7CiAKIAkvKgogCSAqIHJvdW5kIGxv
d3BjIGFuZCBoaWdocGMgdG8gbXVsdGlwbGVzIG9mIHRoZSBkZW5zaXR5IHdl
J3JlIHVzaW5nCkluZGV4OiBtY291bnQuYwo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9tY291
bnQuYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4zCmRpZmYgLXUgLXAgLXIx
LjMgbWNvdW50LmMKLS0tIG1jb3VudC5jCTI0IEp1biAyMDAxIDIyOjI2OjUx
IC0wMDAwCTEuMworKysgbWNvdW50LmMJMjQgTWF5IDIwMDIgMTE6Mjk6MDUg
LTAwMDAKQEAgLTE2OSw1ICsxNjksMTAgQEAgb3ZlcmZsb3c6CiAgKiBBY3R1
YWwgZGVmaW5pdGlvbiBvZiBtY291bnQgZnVuY3Rpb24uICBEZWZpbmVkIGlu
IDxtYWNoaW5lL3Byb2ZpbGUuaD4sCiAgKiB3aGljaCBpcyBpbmNsdWRlZCBi
eSA8c3lzL2dtb24uaD4KICAqLwotTUNPVU5UCisvLyBNQ09VTlQKIAorCit2
b2lkIG1jb3VudCh2b2lkKQoreworICBfbWNvdW50IChfX2J1aWx0aW5fcmV0
dXJuX2FkZHJlc3MgKDEpLCBfX2J1aWx0aW5fcmV0dXJuX2FkZHJlc3MgKDAp
KTsKK30KSW5kZXg6IHBhdGguaAo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJD
UyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9wYXRoLmgsdgpy
ZXRyaWV2aW5nIHJldmlzaW9uIDEuNDEKZGlmZiAtdSAtcCAtcjEuNDEgcGF0
aC5oCi0tLSBwYXRoLmgJMTIgTWF5IDIwMDIgMDM6MDg6NTkgLTAwMDAJMS40
MQorKysgcGF0aC5oCTI0IE1heSAyMDAyIDExOjI5OjA1IC0wMDAwCkBAIC04
LDYgKzgsMTEgQEAgVGhpcyBzb2Z0d2FyZSBpcyBhIGNvcHlyaWdodGVkIHdv
cmsgbGljZQogQ3lnd2luIGxpY2Vuc2UuICBQbGVhc2UgY29uc3VsdCB0aGUg
ZmlsZSAiQ1lHV0lOX0xJQ0VOU0UiIGZvcgogZGV0YWlscy4gKi8KIAorI2lm
bmRlZiBfUEFUSF9IXworI2RlZmluZSBfUEFUSF9IXworCisjaW5jbHVkZSAi
ZmhhbmRsZXIuaCIKKwogc3RydWN0IHN1ZmZpeF9pbmZvCiB7CiAgIGNvbnN0
IGNoYXIgKm5hbWU7CkBAIC0xOTEsMyArMTk2LDUgQEAgaW50IHBhdGhtYXRj
aCAoY29uc3QgY2hhciAqcGF0aDEsIGNvbnN0IAogaW50IHBhdGhubWF0Y2gg
KGNvbnN0IGNoYXIgKnBhdGgxLCBjb25zdCBjaGFyICpwYXRoMiwgaW50IGxl
bikgX19hdHRyaWJ1dGVfXyAoKHJlZ3Bhcm0gKDIpKSk7CiAKIGludCBwYXRo
X3ByZWZpeF9wIChjb25zdCBjaGFyICpwYXRoMSwgY29uc3QgY2hhciAqcGF0
aDIsIGludCBsZW4xKSBfX2F0dHJpYnV0ZV9fICgocmVncGFybSAoMykpKTsK
KworI2VuZGlmIC8qIF9QQVRIX0hfICovCkluZGV4OiBwZXJ0aHJlYWQuaAo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMv
d2luc3VwL2N5Z3dpbi9wZXJ0aHJlYWQuaCx2CnJldHJpZXZpbmcgcmV2aXNp
b24gMS44CmRpZmYgLXUgLXAgLXIxLjggcGVydGhyZWFkLmgKLS0tIHBlcnRo
cmVhZC5oCTMwIE5vdiAyMDAxIDA2OjE5OjU4IC0wMDAwCTEuOAorKysgcGVy
dGhyZWFkLmgJMjQgTWF5IDIwMDIgMTE6Mjk6MDUgLTAwMDAKQEAgLTEwLDYg
KzEwLDE2IEBAIFRoaXMgc29mdHdhcmUgaXMgYSBjb3B5cmlnaHRlZCB3b3Jr
IGxpY2UKIEN5Z3dpbiBsaWNlbnNlLiAgUGxlYXNlIGNvbnN1bHQgdGhlIGZp
bGUgIkNZR1dJTl9MSUNFTlNFIiBmb3IKIGRldGFpbHMuICovCiAKKyNpbmNs
dWRlICJ3aW5zdXAuaCIKKyNpbmNsdWRlICJleGNlcHRpb25zLmgiCisjaW5j
bHVkZSAic3luYy5oIgorI2luY2x1ZGUgInNpZ3Byb2MuaCIKKyNpbmNsdWRl
ICJwaW5mby5oIgorI2lmZGVmIE5FRURfVkZPUksKKyNpbmNsdWRlICJjeWdo
ZWFwLmgiCisjaW5jbHVkZSAiY2hpbGRfaW5mby5oIgorI2VuZGlmCisKICNk
ZWZpbmUgUFRNQUdJQyAweDc3MzY2Mzc3CiAKIHN0cnVjdCBfcmVlbnQ7CkBA
IC00MSw3ICs1MSw3IEBAIHB1YmxpYzoKIGNsYXNzIHBlcl90aHJlYWRfd2Fp
dHEgOiBwdWJsaWMgcGVyX3RocmVhZAogewogcHVibGljOgotICBwZXJfdGhy
ZWFkX3dhaXRxICgpIDogcGVyX3RocmVhZCAoMCkge30KKyAgcGVyX3RocmVh
ZF93YWl0cSAoKTsKICAgdm9pZCAqZ2V0ICgpIHtyZXR1cm4gKHdhaXRxICop
IHRoaXMtPnBlcl90aHJlYWQ6OmdldCAoKTt9CiAgIHZvaWQgKmNyZWF0ZSAo
KSB7cmV0dXJuICh3YWl0cSAqKSB0aGlzLT5wZXJfdGhyZWFkOjpjcmVhdGUg
KCk7fQogICBzaXplX3Qgc2l6ZSAoKSB7cmV0dXJuIHNpemVvZiAod2FpdHEp
O30KQEAgLTYxLDYgKzcxLDcgQEAgc3RydWN0IHZmb3JrX3NhdmUKIGNsYXNz
IHBlcl90aHJlYWRfdmZvcmsgOiBwdWJsaWMgcGVyX3RocmVhZAogewogcHVi
bGljOgorICBwZXJfdGhyZWFkX3Zmb3JrKCk7CiAgIHZmb3JrX3NhdmUgKnZh
bCAoKSB7IHJldHVybiAodmZvcmtfc2F2ZSAqKSB0aGlzLT5wZXJfdGhyZWFk
OjpnZXQgKCk7IH0KICAgdmZvcmtfc2F2ZSAqY3JlYXRlICgpIHtyZXR1cm4g
KHZmb3JrX3NhdmUgKikgdGhpcy0+cGVyX3RocmVhZDo6Y3JlYXRlICgpO30K
ICAgc2l6ZV90IHNpemUgKCkge3JldHVybiBzaXplb2YgKHZmb3JrX3NhdmUp
O30KQEAgLTg2LDYgKzk3LDcgQEAgc3RydWN0IHNpZ25hbF9kaXNwYXRjaAog
CiBzdHJ1Y3QgcGVyX3RocmVhZF9zaWduYWxfZGlzcGF0Y2ggOiBwdWJsaWMg
cGVyX3RocmVhZAogeworICBwZXJfdGhyZWFkX3NpZ25hbF9kaXNwYXRjaCgp
OwogICBzaWduYWxfZGlzcGF0Y2ggKmdldCAoKSB7IHJldHVybiAoc2lnbmFs
X2Rpc3BhdGNoICopIHRoaXMtPnBlcl90aHJlYWQ6OmdldCAoKTsgfQogICBz
aWduYWxfZGlzcGF0Y2ggKmNyZWF0ZSAoKSB7cmV0dXJuIChzaWduYWxfZGlz
cGF0Y2ggKikgdGhpcy0+cGVyX3RocmVhZDo6Y3JlYXRlICgpO30KICAgc2l6
ZV90IHNpemUgKCkge3JldHVybiBzaXplb2YgKHNpZ25hbF9kaXNwYXRjaCk7
fQpJbmRleDogcGluZm8uaAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBm
aWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9waW5mby5oLHYKcmV0
cmlldmluZyByZXZpc2lvbiAxLjM3CmRpZmYgLXUgLXAgLXIxLjM3IHBpbmZv
LmgKLS0tIHBpbmZvLmgJMTggTWF5IDIwMDIgMjA6Mjc6NDkgLTAwMDAJMS4z
NworKysgcGluZm8uaAkyNCBNYXkgMjAwMiAxMToyOTowNSAtMDAwMApAQCAt
OCw2ICs4LDkgQEAgVGhpcyBzb2Z0d2FyZSBpcyBhIGNvcHlyaWdodGVkIHdv
cmsgbGljZQogQ3lnd2luIGxpY2Vuc2UuICBQbGVhc2UgY29uc3VsdCB0aGUg
ZmlsZSAiQ1lHV0lOX0xJQ0VOU0UiIGZvcgogZGV0YWlscy4gKi8KIAorI2lm
bmRlZiBfUElORk9fSF8KKyNkZWZpbmUgX1BJTkZPX0hfCisKIC8qIFNpZ25h
bCBjb25zdGFudHMgKGhhdmUgdG8gZGVmaW5lIHRoZW0gaGVyZSwgdW5mb3J0
dW5hdGVseSkgKi8KIAogZW51bQpAQCAtMjA2LDMgKzIwOSw1IEBAIGludCBf
X3N0ZGNhbGwgZml4dXBfc2htc19hZnRlcl9mb3JrICgpOwogCiB2b2lkIF9f
c3RkY2FsbCBmaWxsX3J1c2FnZSAoc3RydWN0IHJ1c2FnZSAqLCBIQU5ETEUp
Owogdm9pZCBfX3N0ZGNhbGwgYWRkX3J1c2FnZSAoc3RydWN0IHJ1c2FnZSAq
LCBzdHJ1Y3QgcnVzYWdlICopOworCisjZW5kaWYgLyogX1BJTkZPX0hfICov
CkluZGV4OiBzZWN1cml0eS5jYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJD
UyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi9zZWN1cml0eS5j
Yyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS45MApkaWZmIC11IC1wIC1yMS45
MCBzZWN1cml0eS5jYwotLS0gc2VjdXJpdHkuY2MJMjEgTWF5IDIwMDIgMTQ6
NTA6MjYgLTAwMDAJMS45MAorKysgc2VjdXJpdHkuY2MJMjQgTWF5IDIwMDIg
MTE6Mjk6MDYgLTAwMDAKQEAgLTE2NjMsMyArMTY2MywxMCBAQCBzZXRfZmls
ZV9hdHRyaWJ1dGUgKGludCB1c2VfbnRzZWMsIGNvbnN0CiAJCQkgICAgIG15
c2VsZi0+dWlkLCBteXNlbGYtPmdpZCwKIAkJCSAgICAgYXR0cmlidXRlLCBj
eWdoZWFwLT51c2VyLmxvZ3NydiAoKSk7CiB9CisKK2N5Z3NpZDo6Y3lnc2lk
ICgpIDogcHNpZCAoKFBTSUQpIHNidWYpIHt9CitjeWdzaWQ6OmN5Z3NpZCAo
Y29uc3QgUFNJRCBuc2lkKSB7ICp0aGlzID0gbnNpZDsgfQorY3lnc2lkOjpj
eWdzaWQgKGNvbnN0IGNoYXIgKm5zdHJzaWQpIHsgKnRoaXMgPSBuc3Ryc2lk
OyB9CisKK2NvbnN0IFBTSUQgY3lnc2lkOjpvcGVyYXRvcj0gKGNvbnN0IGNo
YXIgKm5zaWRzdHIpCisgICAgeyByZXR1cm4gZ2V0ZnJvbXN0ciAobnNpZHN0
cik7IH0KSW5kZXg6IHNlY3VyaXR5LmgKPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQpSQ1MgZmlsZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jeWd3aW4vc2VjdXJp
dHkuaCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4yMwpkaWZmIC11IC1wIC1y
MS4yMyBzZWN1cml0eS5oCi0tLSBzZWN1cml0eS5oCTE2IE1heSAyMDAyIDA5
OjMwOjQ4IC0wMDAwCTEuMjMKKysrIHNlY3VyaXR5LmgJMjQgTWF5IDIwMDIg
MTE6Mjk6MDYgLTAwMDAKQEAgLTgsNiArOCw5IEBAIFRoaXMgc29mdHdhcmUg
aXMgYSBjb3B5cmlnaHRlZCB3b3JrIGxpY2UKIEN5Z3dpbiBsaWNlbnNlLiAg
UGxlYXNlIGNvbnN1bHQgdGhlIGZpbGUgIkNZR1dJTl9MSUNFTlNFIiBmb3IK
IGRldGFpbHMuICovCiAKKyNpZm5kZWYgX1NFQ1VSSVRZX0hfCisjZGVmaW5l
IF9TRUNVUklUWV9IXworCiAjZGVmaW5lIERPTlRfSU5IRVJJVCAoMCkKICNk
ZWZpbmUgSU5IRVJJVF9BTEwgIChDT05UQUlORVJfSU5IRVJJVF9BQ0V8T0JK
RUNUX0lOSEVSSVRfQUNFKQogI2RlZmluZSBJTkhFUklUX09OTFkgKElOSEVS
SVRfT05MWV9BQ0V8Q09OVEFJTkVSX0lOSEVSSVRfQUNFfE9CSkVDVF9JTkhF
UklUX0FDRSkKQEAgLTQ3LDEyICs1MCwxMSBAQCBwdWJsaWM6CiAgICAgeyBy
ZXR1cm4gYXNzaWduIChuc2lkKTsgfQogICBpbmxpbmUgY29uc3QgUFNJRCBv
cGVyYXRvcj0gKGNvbnN0IFBTSUQgbnNpZCkKICAgICB7IHJldHVybiBhc3Np
Z24gKG5zaWQpOyB9Ci0gIGlubGluZSBjb25zdCBQU0lEIG9wZXJhdG9yPSAo
Y29uc3QgY2hhciAqbnNpZHN0cikKLSAgICB7IHJldHVybiBnZXRmcm9tc3Ry
IChuc2lkc3RyKTsgfQorICBjb25zdCBQU0lEIG9wZXJhdG9yPSAoY29uc3Qg
Y2hhciAqbnNpZHN0cik7CiAKLSAgaW5saW5lIGN5Z3NpZCAoKSA6IHBzaWQg
KChQU0lEKSBzYnVmKSB7fQotICBpbmxpbmUgY3lnc2lkIChjb25zdCBQU0lE
IG5zaWQpIHsgKnRoaXMgPSBuc2lkOyB9Ci0gIGlubGluZSBjeWdzaWQgKGNv
bnN0IGNoYXIgKm5zdHJzaWQpIHsgKnRoaXMgPSBuc3Ryc2lkOyB9CisgIGN5
Z3NpZCAoKTsKKyAgY3lnc2lkIChjb25zdCBQU0lEIG5zaWQpOworICBjeWdz
aWQgKGNvbnN0IGNoYXIgKm5zdHJzaWQpOwogCiAgIGlubGluZSBQU0lEIHNl
dCAoKSB7IHJldHVybiBwc2lkID0gKFBTSUQpIHNidWY7IH0KIApAQCAtMjIz
LDMgKzIyNSw1IEBAIHNlY191c2VyIChjaGFyIHNhX2J1ZltdLCBQU0lEIHNp
ZCA9IE5VTEwKIHsKICAgcmV0dXJuIGFsbG93X250c2VjID8gX19zZWNfdXNl
ciAoc2FfYnVmLCBzaWQsIFRSVUUpIDogJnNlY19ub25lX25paDsKIH0KKwor
I2VuZGlmIC8qIF9TRUNVUklUWV9IXyAqLwpJbmRleDogc2lncHJvYy5oCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93
aW5zdXAvY3lnd2luL3NpZ3Byb2MuaCx2CnJldHJpZXZpbmcgcmV2aXNpb24g
MS40OApkaWZmIC11IC1wIC1yMS40OCBzaWdwcm9jLmgKLS0tIHNpZ3Byb2Mu
aAkxMyBKYW4gMjAwMiAyMDowMzowMyAtMDAwMAkxLjQ4CisrKyBzaWdwcm9j
LmgJMjQgTWF5IDIwMDIgMTE6Mjk6MDYgLTAwMDAKQEAgLTgsNiArOCw5IEBA
IFRoaXMgc29mdHdhcmUgaXMgYSBjb3B5cmlnaHRlZCB3b3JrIGxpY2UKIEN5
Z3dpbiBsaWNlbnNlLiAgUGxlYXNlIGNvbnN1bHQgdGhlIGZpbGUgIkNZR1dJ
Tl9MSUNFTlNFIiBmb3IKIGRldGFpbHMuICovCiAKKyNpZm5kZWYgX1NJR1BS
T0NfSF8KKyNkZWZpbmUgX1NJR1BST0NfSF8KKwogI2luY2x1ZGUgPHNpZ25h
bC5oPgogCiAjZGVmaW5lIEVYSVRfU0lHTkFMCSAweDAxMDAwMApAQCAtMTI0
LDMgKzEyNyw1IEBAIGV4dGVybiBjaGFyIG15c2VsZl9ub3dhaXRfbm9ubWFp
bl9kdW1teVsKIAogI2RlZmluZSBteXNlbGZfbm93YWl0ICgoX3BpbmZvICop
bXlzZWxmX25vd2FpdF9kdW1teSkKICNkZWZpbmUgbXlzZWxmX25vd2FpdF9u
b25tYWluICgoX3BpbmZvICopbXlzZWxmX25vd2FpdF9ub25tYWluX2R1bW15
KQorCisjZW5kaWYgLyogX1NJR1BST0dfSF8gKi8KSW5kZXg6IHN5bmMuaAo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMv
d2luc3VwL2N5Z3dpbi9zeW5jLmgsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
MjAKZGlmZiAtdSAtcCAtcjEuMjAgc3luYy5oCi0tLSBzeW5jLmgJMjIgRmVi
IDIwMDIgMTk6MzM6NDEgLTAwMDAJMS4yMAorKysgc3luYy5oCTI0IE1heSAy
MDAyIDExOjI5OjA2IC0wMDAwCkBAIC0xMCw2ICsxMCw5IEBAIFRoaXMgc29m
dHdhcmUgaXMgYSBjb3B5cmlnaHRlZCB3b3JrIGxpY2UKIEN5Z3dpbiBsaWNl
bnNlLiAgUGxlYXNlIGNvbnN1bHQgdGhlIGZpbGUgIkNZR1dJTl9MSUNFTlNF
IiBmb3IKIGRldGFpbHMuICovCiAKKyNpZm5kZWYgX1NZTkNfSF8KKyNkZWZp
bmUgX1NZTkNfSF8KKwogLyogRklYTUU6IE5vdGUgdGhhdCBjdXJyZW50bHkg
dGhpcyBjbGFzcyBjYW5ub3QgYmUgYWxsb2NhdGVkIHZpYSBgbmV3JyBzaW5j
ZQogICAgdGhlcmUgYXJlIGlzc3VlcyB3aXRoIG1hbGxvYyBhbmQgZm9yay4g
Ki8KIGNsYXNzIG11dG8KQEAgLTQ3LDMgKzUwLDUgQEAgZXh0ZXJuIG11dG8g
bXV0b19zdGFydDsKICAgc3RhdGljIG11dG8gX19uYW1lIyNfc3RvcmFnZSBf
X2F0dHJpYnV0ZV9fKChub2NvbW1vbikpIF9fYXR0cmlidXRlX18oKHNlY3Rp
b24oIi5kYXRhX2N5Z3dpbl9ub2NvcHkiKSkpOyBcCiAgIF9fbmFtZSA9IF9f
bmFtZSMjX3N0b3JhZ2UuaW5pdCAoI19fbmFtZSk7IFwKIH0pCisKKyNlbmRp
ZiAvKiBfU1lOQ19IXyAqLwpJbmRleDogdGhyZWFkLmNjCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvY3ln
d2luL3RocmVhZC5jYyx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS42NgpkaWZm
IC11IC1wIC1yMS42NiB0aHJlYWQuY2MKLS0tIHRocmVhZC5jYwkyIE1heSAy
MDAyIDExOjI2OjIyIC0wMDAwCTEuNjYKKysrIHRocmVhZC5jYwkyNCBNYXkg
MjAwMiAxMToyOToxMCAtMDAwMApAQCAtNDgsNiArNDgsMTQgQEAgZGV0YWls
cy4gKi8KIAogZXh0ZXJuIGludCB0aHJlYWRzYWZlOwogCisvKiBNVGludGVy
ZmFjZSAqLworTVRpbnRlcmZhY2U6Ok1UaW50ZXJmYWNlICgpOnJlZW50X2lu
ZGV4ICgwKSwgaW5kZXhhbGxvY2F0ZWQgKDApLCB0aHJlYWRjb3VudCAoMSkK
K3sKKyAgcHRocmVhZF9wcmVwYXJlID0gTlVMTDsKKyAgcHRocmVhZF9jaGls
ZCAgID0gTlVMTDsKKyAgcHRocmVhZF9wYXJlbnQgID0gTlVMTDsKK30KKwog
LypwdGhyZWFkX2tleV9kZXN0cnVjdG9yX2xpc3QgY2xhc3M6IHRvLWJlIHRo
cmVhZHNhZmUgc2luZ2xlIGxpbmtlZCBsaXN0CiAgKkZJWE1FOiBQdXQgbWUg
aW4gYSBkZWRpY2F0ZWQgZmlsZSwgb3IgYSBsZWFzdCBhIHRvb2xzIGFyZWEg
IQogICovCkluZGV4OiB0aHJlYWQuaAo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
ClJDUyBmaWxlOiAvY3ZzL3NyYy9zcmMvd2luc3VwL2N5Z3dpbi90aHJlYWQu
aCx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4zMwpkaWZmIC11IC1wIC1yMS4z
MyB0aHJlYWQuaAotLS0gdGhyZWFkLmgJMTAgRmViIDIwMDIgMTM6NTA6MTMg
LTAwMDAJMS4zMworKysgdGhyZWFkLmgJMjQgTWF5IDIwMDIgMTE6Mjk6MTAg
LTAwMDAKQEAgLTM4MSwxMiArMzgxLDcgQEAgcHVibGljOgogICB2b2lkIElu
aXQgKGludCk7CiAgIHZvaWQgZml4dXBfYWZ0ZXJfZm9yayAodm9pZCk7CiAK
LSAgICBNVGludGVyZmFjZSAoKTpyZWVudF9pbmRleCAoMCksIGluZGV4YWxs
b2NhdGVkICgwKSwgdGhyZWFkY291bnQgKDEpCi0gIHsKLSAgICBwdGhyZWFk
X3ByZXBhcmUgPSBOVUxMOwotICAgIHB0aHJlYWRfY2hpbGQgICA9IE5VTEw7
Ci0gICAgcHRocmVhZF9wYXJlbnQgID0gTlVMTDsKLSAgfQorICAgIE1UaW50
ZXJmYWNlICgpOwogfTsKIAogdm9pZCBfX3B0aHJlYWRfYXRmb3JrcHJlcGFy
ZSh2b2lkKTsKSW5kZXg6IHdpbnN1cC5oCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KUkNTIGZpbGU6IC9jdnMvc3JjL3NyYy93aW5zdXAvY3lnd2luL3dpbnN1
cC5oLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjg5CmRpZmYgLXUgLXAgLXIx
Ljg5IHdpbnN1cC5oCi0tLSB3aW5zdXAuaAkyIE1heSAyMDAyIDA0OjEzOjQ4
IC0wMDAwCTEuODkKKysrIHdpbnN1cC5oCTI0IE1heSAyMDAyIDExOjI5OjEw
IC0wMDAwCkBAIC04LDYgKzgsOSBAQCBUaGlzIHNvZnR3YXJlIGlzIGEgY29w
eXJpZ2h0ZWQgd29yayBsaWNlCiBDeWd3aW4gbGljZW5zZS4gIFBsZWFzZSBj
b25zdWx0IHRoZSBmaWxlICJDWUdXSU5fTElDRU5TRSIgZm9yCiBkZXRhaWxz
LiAqLwogCisjaWZuZGVmIF9XSU5TVVBfSF8KKyNkZWZpbmUgX1dJTlNVUF9I
XworCiAjaWZkZWYgSEFWRV9DT05GSUdfSAogIyBpbmNsdWRlICJjb25maWcu
aCIKICNlbmRpZgpAQCAtMjI4LDkgKzIzMSw2IEBAIGV4dGVybiB2b2lkIG11
bHRpcGxlX2N5Z3dpbl9wcm9ibGVtIChjb24KIGV4dGVybiAiQyIgdm9pZCBf
X21hbGxvY19sb2NrIChzdHJ1Y3QgX3JlZW50ICopOwogZXh0ZXJuICJDIiB2
b2lkIF9fbWFsbG9jX3VubG9jayAoc3RydWN0IF9yZWVudCAqKTsKIAotZXh0
ZXJuICJDIiB2b2lkIF9fbWFsbG9jX2xvY2sgKHN0cnVjdCBfcmVlbnQgKik7
Ci1leHRlcm4gIkMiIHZvaWQgX19tYWxsb2NfdW5sb2NrIChzdHJ1Y3QgX3Jl
ZW50ICopOwotCiBjbGFzcyBwYXRoX2NvbnY7CiBpbnQgX19zdGRjYWxsIHN0
YXRfd29ya2VyIChjb25zdCBjaGFyICpuYW1lLCBzdHJ1Y3QgX19zdGF0NjQg
KmJ1ZiwgaW50IG5vZm9sbG93LAogCQkJICAgcGF0aF9jb252ICpwYyA9IE5V
TEwpIF9fYXR0cmlidXRlX18gKChyZWdwYXJtICgzKSkpOwpAQCAtMjg5LDMg
KzI4OSw0IEBAIGV4dGVybiBITU9EVUxFIGN5Z3dpbl9obW9kdWxlOwogZXh0
ZXJuIHN0cnVjdCBXU0FEYXRhIHdzYWRhdGE7CiAKICNlbmRpZiAvKiBkZWZp
bmVkIF9fY3BsdXNwbHVzICovCisjZW5kaWYgLyogX1dJTlNVUF9IXyAqLwpJ
bmRleDogaW5jbHVkZS9jeWd3aW4vY3lnc2VydmVyLmgKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQpSQ1MgZmlsZTogL2N2cy9zcmMvc3JjL3dpbnN1cC9jeWd3
aW4vaW5jbHVkZS9jeWd3aW4vY3lnc2VydmVyLmgsdgpyZXRyaWV2aW5nIHJl
dmlzaW9uIDEuMwpkaWZmIC11IC1wIC1yMS4zIGN5Z3NlcnZlci5oCi0tLSBp
bmNsdWRlL2N5Z3dpbi9jeWdzZXJ2ZXIuaAkxMyBNYXIgMjAwMiAwMjozNDow
NSAtMDAwMAkxLjMKKysrIGluY2x1ZGUvY3lnd2luL2N5Z3NlcnZlci5oCTI0
IE1heSAyMDAyIDExOjI5OjEwIC0wMDAwCkBAIC0zMyw2ICszMyw3IEBAIHR5
cGVkZWYgZW51bSB7CiAgIENZR1NFUlZFUl9SRVFVRVNUX0FUVEFDSF9UVFks
CiAgIENZR1NFUlZFUl9SRVFVRVNUX1NIVVRET1dOLAogICBDWUdTRVJWRVJf
UkVRVUVTVF9TSE1fR0VULAorICBDWUdTRVJWRVJfUkVRVUVTVF9TRU0sCiAg
IENZR1NFUlZFUl9SRVFVRVNUX0xBU1QKIH0gY3lnc2VydmVyX3JlcXVlc3Rf
Y29kZTsKIApJbmRleDogaW5jbHVkZS9jeWd3aW4vY3lnc2VydmVyX3RyYW5z
cG9ydF9waXBlcy5oCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6
IC9jdnMvc3JjL3NyYy93aW5zdXAvY3lnd2luL2luY2x1ZGUvY3lnd2luL2N5
Z3NlcnZlcl90cmFuc3BvcnRfcGlwZXMuaCx2CnJldHJpZXZpbmcgcmV2aXNp
b24gMS4zCmRpZmYgLXUgLXAgLXIxLjMgY3lnc2VydmVyX3RyYW5zcG9ydF9w
aXBlcy5oCi0tLSBpbmNsdWRlL2N5Z3dpbi9jeWdzZXJ2ZXJfdHJhbnNwb3J0
X3BpcGVzLmgJMTMgTWFyIDIwMDIgMDI6MzQ6MDUgLTAwMDAJMS4zCisrKyBp
bmNsdWRlL2N5Z3dpbi9jeWdzZXJ2ZXJfdHJhbnNwb3J0X3BpcGVzLmgJMjQg
TWF5IDIwMDIgMTE6Mjk6MTAgLTAwMDAKQEAgLTI5LDExICsyOSwxMSBAQCBj
bGFzcyB0cmFuc3BvcnRfbGF5ZXJfcGlwZXMgOiBwdWJsaWMgdHJhCiAgIHBy
aXZhdGU6CiAgICAgLyogZm9yIHBpcGUgYmFzZWQgY29tbXVuaWNhdGlvbnMg
Ki8KICAgICB2b2lkIGluaXRfc2VjdXJpdHkgKCk7Ci0gICAgU0VDVVJJVFlf
REVTQ1JJUFRPUiBzZDsKLSAgICBTRUNVUklUWV9BVFRSSUJVVEVTIHNlY19u
b25lX25paCwgc2VjX2FsbF9uaWg7CisgICAgdHJhbnNwb3J0X2xheWVyX3Bp
cGVzIChIQU5ETEUgbmV3X3BpcGUpOwogICAgIGNoYXIgcGlwZV9uYW1lIFtN
QVhfUEFUSF07CiAgICAgSEFORExFIHBpcGU7CisgICAgU0VDVVJJVFlfREVT
Q1JJUFRPUiBzZDsKKyAgICBTRUNVUklUWV9BVFRSSUJVVEVTIHNlY19ub25l
X25paCwgc2VjX2FsbF9uaWg7CiAgICAgYm9vbCBpbml0ZWQ7Ci0gICAgdHJh
bnNwb3J0X2xheWVyX3BpcGVzIChIQU5ETEUgbmV3X3BpcGUpOwogfTsKICNl
bmRpZiAvKiBfQ1lHU0VSVkVSX1RSQU5TUE9SVF9QSVBFU18gKi8K

------_=_NextPart_001_01C20316.C551574C--
