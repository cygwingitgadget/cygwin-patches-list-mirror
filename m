Return-Path: <cygwin-patches-return-9098-listarch-cygwin-patches=sources.redhat.com@cygwin.com>
Received: (qmail 38522 invoked by alias); 22 Jun 2018 00:10:29 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Id: <cygwin-patches.cygwin.com>
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sourceware.org/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sourceware.org/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Mail-Followup-To: cygwin-patches@cygwin.com
Received: (qmail 38503 invoked by uid 89); 22 Jun 2018 00:10:28 -0000
Authentication-Results: sourceware.org; auth=none
X-Virus-Found: No
X-Spam-SWARE-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00,RCVD_IN_DNSWL_NONE autolearn=ham version=3.3.2 spammy=Hx-languages-length:271, H*c:HHHH
X-HELO: conssluserg-05.nifty.com
Received: from conssluserg-05.nifty.com (HELO conssluserg-05.nifty.com) (210.131.2.90) by sourceware.org (qpsmtpd/0.93/v0.84-503-g423c35a) with ESMTP; Fri, 22 Jun 2018 00:10:25 +0000
Received: from Express5800-S70 (ntsitm315127.sitm.nt.ngn.ppp.infoweb.ne.jp [125.3.30.127]) (authenticated)	by conssluserg-05.nifty.com with ESMTP id w5M0AH51014540	for <cygwin-patches@cygwin.com>; Fri, 22 Jun 2018 09:10:18 +0900
DKIM-Filter: OpenDKIM Filter v2.10.3 conssluserg-05.nifty.com w5M0AH51014540
X-Nifty-SrcIP: [125.3.30.127]
Date: Fri, 22 Jun 2018 00:10:00 -0000
From: Takashi Yano <takashi.yano@nifty.ne.jp>
To: cygwin-patches@cygwin.com
Subject: Re: [PATCH cygwin] Re: Problems of AF_INET domain socket regarding out-of-band data.
Message-Id: <20180622091017.2b88c7ba7327552005dc3d8d@nifty.ne.jp>
In-Reply-To: <20180622000518.2034f98a440dccfacf4aab14@nifty.ne.jp>
References: <20180613224858.7822b08abb75d76b72920095@nifty.ne.jp>	<20180620221812.2e10f95ef5501758493560a2@nifty.ne.jp>	<20180621071954.GA28504@calimero.vinschen.de>	<20180621235728.928a7b97ec8e7bfea5960a47@nifty.ne.jp>	<20180622000518.2034f98a440dccfacf4aab14@nifty.ne.jp>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="Multipart=_Fri__22_Jun_2018_09_10_17_+0900_2GUwDlgpBThg.WKz"
X-IsSubscribed: yes
X-SW-Source: 2018-q2/txt/msg00055.txt.bz2

This is a multi-part message in MIME format.

--Multipart=_Fri__22_Jun_2018_09_10_17_+0900_2GUwDlgpBThg.WKz
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-length: 186

On Fri, 22 Jun 2018 00:05:18 +0900
Takashi Yano wrote:
> Sorry, again. Fix a typo in commit message.

Fix a typo in commit message again....

-- 
Takashi Yano <takashi.yano@nifty.ne.jp>

--Multipart=_Fri__22_Jun_2018_09_10_17_+0900_2GUwDlgpBThg.WKz
Content-Type: application/octet-stream;
 name="0001-Fix-the-handling-of-out-of-band-OOB-data-in-a-socket.patch"
Content-Disposition: attachment;
 filename="0001-Fix-the-handling-of-out-of-band-OOB-data-in-a-socket.patch"
Content-Transfer-Encoding: base64
Content-length: 15047

RnJvbSA4OTk4ODdjOTA4ZTIwMDBjZTVkZTMzOTU5NDRiYjU0MzYzY2IxOThm
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBUYWthc2hpIFlhbm8g
PHRha2FzaGkueWFub0BuaWZ0eS5uZS5qcD4KRGF0ZTogVGh1LCAyMSBKdW4g
MjAxOCAyMzoxMTo0OSArMDkwMApTdWJqZWN0OiBbUEFUQ0hdIEZpeCB0aGUg
aGFuZGxpbmcgb2Ygb3V0LW9mLWJhbmQgKE9PQikgZGF0YSBpbiBhIHNvY2tl
dC4KCiogZmhhbmRsZXIuaCAoY2xhc3MgZmhhbmRsZXJfc29ja2V0X2luZXQp
OiBBZGQgdmFyaWFibGUgYm9vbCBvb2JpbmxpbmUuCiogZmhhbmRsZXJfc29j
a2V0X2luZXQuY2MgKGZoYW5kbGVyX3NvY2tldF9pbmV0OjpmaGFuZGxlcl9z
b2NrZXRfaW5ldCk6CiAgSW5pdGlhbGl6ZSB2YXJpYWJsZSBvb2JpbmxpbmUu
CihmaGFuZGxlcl9zb2NrZXRfaW5ldDo6cmVjdl9pbnRlcm5hbCk6IE1ha2Ug
dGhlIGhhbmRsaW5nIG9mIE9PQiBkYXRhCiAgYXMgY29uc2lzdGVudCB3aXRo
IFBPU0lYIGFzIHBvc3NpYmxlLiBBZGQgc2ltdWxhdGlvbiBvZiBpbmxpbmUg
bW9kZQogIGZvciBPT0IgZGF0YSBhcyBhIHdvcmthcm91bmQgZm9yIGJyb2tl
biB3aW5zb2NrIGJlaGF2aW9yLgooZmhhbmRsZXJfc29ja2V0X2luZXQ6OnNl
dHNvY2tvcHQpOiBEaXR0by4KKGZoYW5kbGVyX3NvY2tldF9pbmV0OjpnZXRz
b2Nrb3B0KTogRGl0dG8uCihmaGFuZGxlcl9zb2NrZXRfd3NvY2s6OmlvY3Rs
KTogRml4IHJldHVybiB2YWx1ZSBvZiBTSU9DQVRNQVJLIGNvbW1hbmQuCiAg
VGhlIHJldHVybiB2YWx1ZSBvZiBTSU9DQVRNQVJLIG9mIHdpbnNvY2sgaXMg
YWxtb3N0IG9wcG9zaXRlIHRvCiAgZXhwZWN0YXRpb24uCiogZmhhbmRsZXJf
c29ja2V0X2xvY2FsLmNjIChmaGFuZGxlcl9zb2NrZXRfbG9jYWw6OnJlY3Zf
aW50ZXJuYWwpOgogIFJlbW92ZSB0aGUgaGFuZGxpbmcgb2YgT09CIGRhdGEg
ZnJvbSBBRl9MT0NBTCBkb21haW4gc29ja2V0LiBPcGVyYXRpb24KICByZWxh
dGVkIHRvIE9PQiBkYXRhIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yIGxpa2Ug
TGludXggZG9lcy4KKGZoYW5kbGVyX3NvY2tldF9sb2NhbDo6c2VuZHRvKTog
RGl0dG8uCihmaGFuZGxlcl9zb2NrZXRfbG9jYWw6OnNlbmRtc2cpOiBEaXR0
by4KClRoaXMgZml4ZXMgdGhlIGlzc3VlIHJlcG9ydGVkIGluIGZvbGxvd2lu
ZyBwb3N0LgpodHRwczovL2N5Z3dpbi5jb20vbWwvY3lnd2luLzIwMTgtMDYv
bXNnMDAxNDMuaHRtbAotLS0KIHdpbnN1cC9jeWd3aW4vZmhhbmRsZXIuaCAg
ICAgICAgICAgICAgIHwgIDIgKwogd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9z
b2NrZXRfaW5ldC5jYyAgfCA5NCArKysrKysrKysrKysrKysrKysrKysrKyst
LQogd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9zb2NrZXRfbG9jYWwuY2MgfCAz
MyArKysrKysrLS0KIDMgZmlsZXMgY2hhbmdlZCwgMTIwIGluc2VydGlvbnMo
KyksIDkgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvd2luc3VwL2N5Z3dp
bi9maGFuZGxlci5oIGIvd2luc3VwL2N5Z3dpbi9maGFuZGxlci5oCmluZGV4
IDJlYzQ2MGEzNy4uMzlhNjc0Yzc2IDEwMDY0NAotLS0gYS93aW5zdXAvY3ln
d2luL2ZoYW5kbGVyLmgKKysrIGIvd2luc3VwL2N5Z3dpbi9maGFuZGxlci5o
CkBAIC02ODQsNiArNjg0LDggQEAgY2xhc3MgZmhhbmRsZXJfc29ja2V0X3dz
b2NrOiBwdWJsaWMgZmhhbmRsZXJfc29ja2V0CiAKIGNsYXNzIGZoYW5kbGVy
X3NvY2tldF9pbmV0OiBwdWJsaWMgZmhhbmRsZXJfc29ja2V0X3dzb2NrCiB7
CisgcHJpdmF0ZToKKyAgYm9vbCBvb2JpbmxpbmU7IC8qIFRydWUgaWYgb3B0
aW9uIFNPX09PQklOTElORSBpcyBzZXQgKi8KICBwcm90ZWN0ZWQ6CiAgIGlu
dCBhZl9sb2NhbF9jb25uZWN0ICgpIHsgcmV0dXJuIDA7IH0KIApkaWZmIC0t
Z2l0IGEvd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9zb2NrZXRfaW5ldC5jYyBi
L3dpbnN1cC9jeWd3aW4vZmhhbmRsZXJfc29ja2V0X2luZXQuY2MKaW5kZXgg
ZGIzMDFmMzU0Li41NTVjM2E5NGEgMTAwNjQ0Ci0tLSBhL3dpbnN1cC9jeWd3
aW4vZmhhbmRsZXJfc29ja2V0X2luZXQuY2MKKysrIGIvd2luc3VwL2N5Z3dp
bi9maGFuZGxlcl9zb2NrZXRfaW5ldC5jYwpAQCAtNjg1LDcgKzY4NSw4IEBA
IGZoYW5kbGVyX3NvY2tldF93c29jazo6c2V0X3NvY2tldF9oYW5kbGUgKFNP
Q0tFVCBzb2NrLCBpbnQgYWYsIGludCB0eXBlLAogfQogCiBmaGFuZGxlcl9z
b2NrZXRfaW5ldDo6ZmhhbmRsZXJfc29ja2V0X2luZXQgKCkgOgotICBmaGFu
ZGxlcl9zb2NrZXRfd3NvY2sgKCkKKyAgZmhhbmRsZXJfc29ja2V0X3dzb2Nr
ICgpLAorICBvb2JpbmxpbmUgKGZhbHNlKQogewogfQogCkBAIC0xMDQ0LDEw
ICsxMDQ1LDExIEBAIGZoYW5kbGVyX3NvY2tldF9pbmV0OjpyZWN2X2ludGVy
bmFsIChMUFdTQU1TRyB3c2Ftc2csIGJvb2wgdXNlX3JlY3Ztc2cpCiB7CiAg
IHNzaXplX3QgcmVzID0gMDsKICAgRFdPUkQgcmV0ID0gMCwgd3JldDsKLSAg
aW50IGV2dF9tYXNrID0gRkRfUkVBRCB8ICgod3NhbXNnLT5kd0ZsYWdzICYg
TVNHX09PQikgPyBGRF9PT0IgOiAwKTsKKyAgaW50IGV2dF9tYXNrID0gKHdz
YW1zZy0+ZHdGbGFncyAmIE1TR19PT0IpID8gRkRfT09CIDogRkRfUkVBRDsK
ICAgTFBXU0FCVUYgJndzYWJ1ZiA9IHdzYW1zZy0+bHBCdWZmZXJzOwogICBV
TE9ORyAmd3NhY250ID0gd3NhbXNnLT5kd0J1ZmZlckNvdW50OwogICBzdGF0
aWMgTk9fQ09QWSBMUEZOX1dTQVJFQ1ZNU0cgV1NBUmVjdk1zZzsKKyAgYm9v
bCByZWFkX29vYiA9IGZhbHNlOwogCiAgIC8qIENWIDIwMTQtMTAtMjY6IERv
IG5vdCBjaGVjayBmb3IgdGhlIGNvbm5lY3Rfc3RhdGUgYXQgdGhpcyBwb2lu
dC4gIEluCiAgICAgIGNlcnRhaW4gc2NlbmFyaW9zIHRoZXJlJ3Mgbm8gd2F5
IHRvIGNoZWNrIHRoZSBjb25uZWN0IHN0YXRlIHJlbGlhYmx5LgpAQCAtMTA4
NiwxMiArMTA4OCw2NCBAQCBmaGFuZGxlcl9zb2NrZXRfaW5ldDo6cmVjdl9p
bnRlcm5hbCAoTFBXU0FNU0cgd3NhbXNnLCBib29sIHVzZV9yZWN2bXNnKQog
CXdhaXRhbGwgPSBmYWxzZTsKICAgICB9CiAKKyAgLyogcmVjdigpIHJldHVy
bnMgRUlOVkFMIGlmIE1TR19PT0IgZmxhZyBpcyBzZXQgaW4gaW5saW5lIG1v
ZGUuICovCisgIGlmIChvb2JpbmxpbmUgJiYgKHdzYW1zZy0+ZHdGbGFncyAm
IE1TR19PT0IpKQorICAgIHsKKyAgICAgIHNldF9lcnJubyAoRUlOVkFMKTsK
KyAgICAgIHJldHVybiBTT0NLRVRfRVJST1I7CisgICAgfQorCisgIC8qIENo
ZWNrIHdoZXRoZXIgT09CIGRhdGEgaXMgcmVhZHkgb3Igbm90ICovCisgIGlm
IChnZXRfc29ja2V0X3R5cGUgKCkgPT0gU09DS19TVFJFQU0pCisgICAgaWYg
KCh3c2Ftc2ctPmR3RmxhZ3MgJiBNU0dfT09CKSB8fCBvb2JpbmxpbmUpCisg
ICAgICB7CisJdV9sb25nIGF0bWFyayA9IDA7CisjaWZkZWYgX194ODZfNjRf
XworCS8qIFNJT0NBVE1BUksgPSBfSU9SKCdzJyw3LHVfbG9uZykgKi8KKwlp
bnQgZXJyID0gOjppb2N0bHNvY2tldCAoZ2V0X3NvY2tldCAoKSwgX0lPUign
cycsNyx1X2xvbmcpLCAmYXRtYXJrKTsKKyNlbHNlCisJaW50IGVyciA9IDo6
aW9jdGxzb2NrZXQgKGdldF9zb2NrZXQgKCksIFNJT0NBVE1BUkssICZhdG1h
cmspOworI2VuZGlmCisJaWYgKGVycikKKwkgIHsKKwkgICAgc2V0X3dpbnNv
Y2tfZXJybm8gKCk7CisJICAgIHJldHVybiBTT0NLRVRfRVJST1I7CisJICB9
CisJLyogSWYgdGhlcmUgaXMgbm8gT09CIGRhdGEsIHJlY3YoKSB3aXRoIE1T
R19PT0IgcmV0dXJucyBFSU5WQUwuCisJICAgTm90ZTogVGhlIHJldHVybiB2
YWx1ZSBvZiBTSU9DQVRNQVJLIGluIG5vbi1pbmxpbmUgbW9kZSBvZgorCSAg
IHdpbnNvY2sgaXMgRkFMU0UgaWYgT09CIGRhdGEgZXhpc3RzLCBUUlVFIG90
aGVyd2lzZS4gKi8KKwlpZiAoYXRtYXJrICYmICh3c2Ftc2ctPmR3RmxhZ3Mg
JiBNU0dfT09CKSkKKwkgIHsKKwkgICAgLyogTm8gT09CIGRhdGEgKi8KKwkg
ICAgc2V0X2Vycm5vIChFSU5WQUwpOworCSAgICByZXR1cm4gU09DS0VUX0VS
Uk9SOworCSAgfQorCS8qIElubGluZSBtb2RlIGZvciBvdXQtb2YtYmFuZCAo
T09CKSBkYXRhIG9mIHdpbnNvY2sgaXMKKwkgICBjb21wbGV0ZWx5IGJyb2tl
bi4gVGhhdCBpcywgU0lPQ0FUTUFSSyBhbHdheXMgcmV0dXJucworCSAgIFRS
VUUgaW4gaW5saW5lIG1vZGUuIER1ZSB0byB0aGlzIHByb2JsZW0sIGFwcGxp
Y2F0aW9uCisJICAgY2Fubm90IGRldGVybWluZSBPT0IgZGF0YSBhdCBhbGwu
IFRoZXJlZm9yZSB0aGUgYmVoYXZpb3IKKwkgICBvZiBhIHNvY2tldCB3aXRo
IFNPX09PQklOTElORSBzZXQgaXMgc2ltdWxhdGVkIHVzaW5nCisJICAgYSBz
b2NrZXQgd2l0aCBTT19PT0JJTkxJTkUgbm90IHNldC4gSW4gdGhpcyBmYWtl
IGlubGluZQorCSAgIG1vZGUsIHRoZSBvcmRlciBvZiB0aGUgT09CIGFuZCBu
b24tT09CIGRhdGEgaXMgbm90CisJICAgcHJlc2VydmVkLiBPT0IgZGF0YSBp
cyByZWFkIGJlZm9yZSBub24tT09CIGRhdGEgc2VudAorCSAgIHByaW9yIHRv
IHRoZSBPT0IgZGF0YS4gIEhvd2V2ZXIsIHRoaXMgbW9zdCBsaWtlbHkgaXMK
KwkgICBub3QgYSBwcm9ibGVtIGluIG1vc3QgY2FzZXMuICovCisJLyogSWYg
dGhlcmUgaXMgT09CIGRhdGEsIHJlYWQgT09CIGRhdGEgdXNpbmcgTVNHX09P
QiBpbgorCSAgIGZha2UgaW5saW5lIG1vZGUuICovCisJaWYgKCFhdG1hcmsg
JiYgb29iaW5saW5lKQorCSAgeworCSAgICByZWFkX29vYiA9IHRydWU7CisJ
ICAgIGV2dF9tYXNrID0gRkRfT09COworCSAgfQorICAgICAgfQorCiAgIC8q
IE5vdGU6IERvbid0IGNhbGwgV1NBUmVjdkZyb20oTVNHX1BFRUspIHdpdGhv
dXQgYWN0dWFsbHkgaGF2aW5nIGRhdGEKICAgICAgd2FpdGluZyBpbiB0aGUg
YnVmZmVycywgb3RoZXJ3aXNlIHRoZSBldmVudCBoYW5kbGluZyBnZXRzIG1l
c3NlZCB1cAogICAgICBmb3Igc29tZSByZWFzb24uICovCiAgIHdoaWxlICgh
KHJlcyA9IHdhaXRfZm9yX2V2ZW50cyAoZXZ0X21hc2sgfCBGRF9DTE9TRSwg
d2FpdF9mbGFncykpCiAJIHx8IHNhd19zaHV0ZG93bl9yZWFkICgpKQogICAg
IHsKKyAgICAgIERXT1JEIGR3RmxhZ3MgPSB3c2Ftc2ctPmR3RmxhZ3MgfCAo
cmVhZF9vb2IgPyBNU0dfT09CIDogMCk7CiAgICAgICBpZiAodXNlX3JlY3Zt
c2cpCiAJcmVzID0gV1NBUmVjdk1zZyAoZ2V0X3NvY2tldCAoKSwgd3NhbXNn
LCAmd3JldCwgTlVMTCwgTlVMTCk7CiAgICAgICAvKiBUaGlzIGlzIHdvcmtp
bmcgYXJvdW5kIGEgcmVhbGx5IHdlaXJkIHByb2JsZW0gaW4gV2luU29jay4K
QEAgLTExMTMsMTEgKzExNjcsMTEgQEAgZmhhbmRsZXJfc29ja2V0X2luZXQ6
OnJlY3ZfaW50ZXJuYWwgKExQV1NBTVNHIHdzYW1zZywgYm9vbCB1c2VfcmVj
dm1zZykKIAkgbmFtZWxlbiBpcyBhIHZhbGlkIHBvaW50ZXIgd2hpbGUgbmFt
ZSBpcyBOVUxMLiAgQm90aCBwYXJhbWV0ZXJzIGFyZQogCSBpZ25vcmVkIGZv
ciBUQ1Agc29ja2V0cywgc28gdGhpcyBvbmx5IG9jY3VycyB3aGVuIHVzaW5n
IFVEUCBzb2NrZXQuICovCiAgICAgICBlbHNlIGlmICghd3NhbXNnLT5uYW1l
IHx8IGdldF9zb2NrZXRfdHlwZSAoKSA9PSBTT0NLX1NUUkVBTSkKLQlyZXMg
PSBXU0FSZWN2IChnZXRfc29ja2V0ICgpLCB3c2FidWYsIHdzYWNudCwgJndy
ZXQsICZ3c2Ftc2ctPmR3RmxhZ3MsCisJcmVzID0gV1NBUmVjdiAoZ2V0X3Nv
Y2tldCAoKSwgd3NhYnVmLCB3c2FjbnQsICZ3cmV0LCAmZHdGbGFncywKIAkJ
ICAgICAgIE5VTEwsIE5VTEwpOwogICAgICAgZWxzZQogCXJlcyA9IFdTQVJl
Y3ZGcm9tIChnZXRfc29ja2V0ICgpLCB3c2FidWYsIHdzYWNudCwgJndyZXQs
Ci0JCQkgICAmd3NhbXNnLT5kd0ZsYWdzLCB3c2Ftc2ctPm5hbWUsICZ3c2Ft
c2ctPm5hbWVsZW4sCisJCQkgICAmZHdGbGFncywgd3NhbXNnLT5uYW1lLCAm
d3NhbXNnLT5uYW1lbGVuLAogCQkJICAgTlVMTCwgTlVMTCk7CiAgICAgICBp
ZiAoIXJlcykKIAl7CkBAIC0xNTYxLDYgKzE2MTUsMjMgQEAgZmhhbmRsZXJf
c29ja2V0X2luZXQ6OnNldHNvY2tvcHQgKGludCBsZXZlbCwgaW50IG9wdG5h
bWUsIGNvbnN0IHZvaWQgKm9wdHZhbCwKIAkgICAgc2V0X2Vycm5vIChFRE9N
KTsKIAkgIHJldHVybiByZXQ7CiAKKwljYXNlIFNPX09PQklOTElORToKKwkg
IC8qIElubGluZSBtb2RlIGZvciBvdXQtb2YtYmFuZCAoT09CKSBkYXRhIG9m
IHdpbnNvY2sgaXMKKwkgICAgIGNvbXBsZXRlbHkgYnJva2VuLiBUaGF0IGlz
LCBTSU9DQVRNQVJLIGFsd2F5cyByZXR1cm5zCisJICAgICBUUlVFIGluIGlu
bGluZSBtb2RlLiBEdWUgdG8gdGhpcyBwcm9ibGVtLCBhcHBsaWNhdGlvbgor
CSAgICAgY2Fubm90IGRldGVybWluZSBPT0IgZGF0YSBhdCBhbGwuIFRoZXJl
Zm9yZSB0aGUgYmVoYXZpb3IKKwkgICAgIG9mIGEgc29ja2V0IHdpdGggU09f
T09CSU5MSU5FIHNldCBpcyBzaW11bGF0ZWQgdXNpbmcKKwkgICAgIGEgc29j
a2V0IHdpdGggU09fT09CSU5MSU5FIG5vdCBzZXQuIEluIHRoaXMgZmFrZSBp
bmxpbmUKKwkgICAgIG1vZGUsIHRoZSBvcmRlciBvZiB0aGUgT09CIGFuZCBu
b24tT09CIGRhdGEgaXMgbm90CisJICAgICBwcmVzZXJ2ZWQuIE9PQiBkYXRh
IGlzIHJlYWQgYmVmb3JlIG5vbi1PT0IgZGF0YSBzZW50CisJICAgICBwcmlv
ciB0byB0aGUgT09CIGRhdGEuICBIb3dldmVyLCB0aGlzIG1vc3QgbGlrZWx5
IGlzCisJICAgICBub3QgYSBwcm9ibGVtIGluIG1vc3QgY2FzZXMuICovCisJ
ICAvKiBIZXJlLCBpbnN0ZWFkIG9mIGFjdHVhbGx5IHNldHRpbmcgaW5saW5l
IG1vZGUsIHNpbXBseQorCSAgICAgc2V0IHRoZSB2YXJpYWJsZSBvb2Jpbmxp
bmUuICovCisJICBvb2JpbmxpbmUgPSAqKGludCAqKSBvcHR2YWwgPyB0cnVl
IDogZmFsc2U7CisJICBpZ25vcmUgPSB0cnVlOworCSAgYnJlYWs7CisKIAlk
ZWZhdWx0OgogCSAgYnJlYWs7CiAJfQpAQCAtMTcxMyw2ICsxNzg0LDEwIEBA
IGZoYW5kbGVyX3NvY2tldF9pbmV0OjpnZXRzb2Nrb3B0IChpbnQgbGV2ZWws
IGludCBvcHRuYW1lLCBjb25zdCB2b2lkICpvcHR2YWwsCiAJICAgIHJldHVy
biAwOwogCSAgfQogCisJY2FzZSBTT19PT0JJTkxJTkU6CisJICAqKGludCAq
KSBvcHR2YWwgPSBvb2JpbmxpbmUgPyAxIDogMDsKKwkgIHJldHVybiAwOwor
CiAJZGVmYXVsdDoKIAkgIGJyZWFrOwogCX0KQEAgLTE4NTAsNiArMTkyNSwx
NyBAQCBmaGFuZGxlcl9zb2NrZXRfd3NvY2s6OmlvY3RsICh1bnNpZ25lZCBp
bnQgY21kLCB2b2lkICpwKQogCX0KICAgICAgIGVsc2UKIAlyZXMgPSA6Omlv
Y3Rsc29ja2V0IChnZXRfc29ja2V0ICgpLCBjbWQsICh1X2xvbmcgKikgcCk7
CisgICAgICAvKiBJbiB3aW5zb2NrLCB0aGUgcmV0dXJuIHZhbHVlIG9mIFNJ
T0NBVE1BUksgaXMgRkFMU0UgaWYKKwkgT09CIGRhdGEgZXhpc3RzLCBUUlVF
IG90aGVyd2lzZS4gVGhpcyBpcyBhbG1vc3Qgb3Bwb3NpdGUKKwkgdG8gZXhw
ZWN0YXRpb24uICovCisjaWZkZWYgX194ODZfNjRfXworICAgICAgLyogU0lP
Q0FUTUFSSyA9IF9JT1IoJ3MnLDcsdV9sb25nKSAqLworICAgICAgaWYgKGNt
ZCA9PSBfSU9SKCdzJyw3LHVfbG9uZykgJiYgIXJlcykKKwkqKHVfbG9uZyAq
KXAgPSAhKih1X2xvbmcgKilwOworI2Vsc2UKKyAgICAgIGlmIChjbWQgPT0g
U0lPQ0FUTUFSSyAmJiAhcmVzKQorCSoodV9sb25nICopcCA9ICEqKHVfbG9u
ZyAqKXA7CisjZW5kaWYKICAgICAgIGJyZWFrOwogICAgIGRlZmF1bHQ6CiAg
ICAgICByZXMgPSBmaGFuZGxlcl9zb2NrZXQ6OmlvY3RsIChjbWQsIHApOwpk
aWZmIC0tZ2l0IGEvd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9zb2NrZXRfbG9j
YWwuY2MgYi93aW5zdXAvY3lnd2luL2ZoYW5kbGVyX3NvY2tldF9sb2NhbC5j
YwppbmRleCA5MGQ4ZDVhYTUuLjJlMDFmMzBhMiAxMDA2NDQKLS0tIGEvd2lu
c3VwL2N5Z3dpbi9maGFuZGxlcl9zb2NrZXRfbG9jYWwuY2MKKysrIGIvd2lu
c3VwL2N5Z3dpbi9maGFuZGxlcl9zb2NrZXRfbG9jYWwuY2MKQEAgLTEwNjUs
NyArMTA2NSw3IEBAIGZoYW5kbGVyX3NvY2tldF9sb2NhbDo6cmVjdl9pbnRl
cm5hbCAoTFBXU0FNU0cgd3NhbXNnLCBib29sIHVzZV9yZWN2bXNnKQogewog
ICBzc2l6ZV90IHJlcyA9IDA7CiAgIERXT1JEIHJldCA9IDAsIHdyZXQ7Ci0g
IGludCBldnRfbWFzayA9IEZEX1JFQUQgfCAoKHdzYW1zZy0+ZHdGbGFncyAm
IE1TR19PT0IpID8gRkRfT09CIDogMCk7CisgIGludCBldnRfbWFzayA9IEZE
X1JFQUQ7CiAgIExQV1NBQlVGICZ3c2FidWYgPSB3c2Ftc2ctPmxwQnVmZmVy
czsKICAgVUxPTkcgJndzYWNudCA9IHdzYW1zZy0+ZHdCdWZmZXJDb3VudDsK
ICAgc3RhdGljIE5PX0NPUFkgTFBGTl9XU0FSRUNWTVNHIFdTQVJlY3ZNc2c7
CkBAIC0xMDgwLDcgKzEwODAsMTUgQEAgZmhhbmRsZXJfc29ja2V0X2xvY2Fs
OjpyZWN2X2ludGVybmFsIChMUFdTQU1TRyB3c2Ftc2csIGJvb2wgdXNlX3Jl
Y3Ztc2cpCiAKICAgRFdPUkQgd2FpdF9mbGFncyA9IHdzYW1zZy0+ZHdGbGFn
czsKICAgYm9vbCB3YWl0YWxsID0gISEod2FpdF9mbGFncyAmIE1TR19XQUlU
QUxMKTsKLSAgd3NhbXNnLT5kd0ZsYWdzICY9IChNU0dfT09CIHwgTVNHX1BF
RUsgfCBNU0dfRE9OVFJPVVRFKTsKKworICAvKiBPdXQtb2YtYmFuZCBkYXRh
IG5vdCBzdXBwb3J0ZWQgYnkgQUZfTE9DQUwgKi8KKyAgaWYgKHdzYW1zZy0+
ZHdGbGFncyAmIE1TR19PT0IpCisgICAgeworICAgICAgc2V0X2Vycm5vIChF
T1BOT1RTVVBQKTsKKyAgICAgIHJldHVybiBTT0NLRVRfRVJST1I7CisgICAg
fQorCisgIHdzYW1zZy0+ZHdGbGFncyAmPSAoTVNHX1BFRUsgfCBNU0dfRE9O
VFJPVVRFKTsKICAgaWYgKHVzZV9yZWN2bXNnKQogICAgIHsKICAgICAgIGlm
ICghV1NBUmVjdk1zZwpAQCAtMTEwNCw3ICsxMTEyLDcgQEAgZmhhbmRsZXJf
c29ja2V0X2xvY2FsOjpyZWN2X2ludGVybmFsIChMUFdTQU1TRyB3c2Ftc2cs
IGJvb2wgdXNlX3JlY3Ztc2cpCiAJICBzZXRfd2luc29ja19lcnJubyAoKTsK
IAkgIHJldHVybiBTT0NLRVRfRVJST1I7CiAJfQotICAgICAgaWYgKGlzX25v
bmJsb2NraW5nICgpIHx8ICh3c2Ftc2ctPmR3RmxhZ3MgJiAoTVNHX09PQiB8
IE1TR19QRUVLKSkpCisgICAgICBpZiAoaXNfbm9uYmxvY2tpbmcgKCkgfHwg
KHdzYW1zZy0+ZHdGbGFncyAmIE1TR19QRUVLKSkKIAl3YWl0YWxsID0gZmFs
c2U7CiAgICAgfQogCkBAIC0xMTE0LDYgKzExMjIsNyBAQCBmaGFuZGxlcl9z
b2NrZXRfbG9jYWw6OnJlY3ZfaW50ZXJuYWwgKExQV1NBTVNHIHdzYW1zZywg
Ym9vbCB1c2VfcmVjdm1zZykKICAgd2hpbGUgKCEocmVzID0gd2FpdF9mb3Jf
ZXZlbnRzIChldnRfbWFzayB8IEZEX0NMT1NFLCB3YWl0X2ZsYWdzKSkKIAkg
fHwgc2F3X3NodXRkb3duX3JlYWQgKCkpCiAgICAgeworICAgICAgRFdPUkQg
ZHdGbGFncyA9IHdzYW1zZy0+ZHdGbGFnczsKICAgICAgIGlmICh1c2VfcmVj
dm1zZykKIAlyZXMgPSBXU0FSZWN2TXNnIChnZXRfc29ja2V0ICgpLCB3c2Ft
c2csICZ3cmV0LCBOVUxMLCBOVUxMKTsKICAgICAgIC8qIFRoaXMgaXMgd29y
a2luZyBhcm91bmQgYSByZWFsbHkgd2VpcmQgcHJvYmxlbSBpbiBXaW5Tb2Nr
LgpAQCAtMTEzNSwxMSArMTE0NCwxMSBAQCBmaGFuZGxlcl9zb2NrZXRfbG9j
YWw6OnJlY3ZfaW50ZXJuYWwgKExQV1NBTVNHIHdzYW1zZywgYm9vbCB1c2Vf
cmVjdm1zZykKIAkgbmFtZWxlbiBpcyBhIHZhbGlkIHBvaW50ZXIgd2hpbGUg
bmFtZSBpcyBOVUxMLiAgQm90aCBwYXJhbWV0ZXJzIGFyZQogCSBpZ25vcmVk
IGZvciBUQ1Agc29ja2V0cywgc28gdGhpcyBvbmx5IG9jY3VycyB3aGVuIHVz
aW5nIFVEUCBzb2NrZXQuICovCiAgICAgICBlbHNlIGlmICghd3NhbXNnLT5u
YW1lIHx8IGdldF9zb2NrZXRfdHlwZSAoKSA9PSBTT0NLX1NUUkVBTSkKLQly
ZXMgPSBXU0FSZWN2IChnZXRfc29ja2V0ICgpLCB3c2FidWYsIHdzYWNudCwg
JndyZXQsICZ3c2Ftc2ctPmR3RmxhZ3MsCisJcmVzID0gV1NBUmVjdiAoZ2V0
X3NvY2tldCAoKSwgd3NhYnVmLCB3c2FjbnQsICZ3cmV0LCAmZHdGbGFncywK
IAkJICAgICAgIE5VTEwsIE5VTEwpOwogICAgICAgZWxzZQogCXJlcyA9IFdT
QVJlY3ZGcm9tIChnZXRfc29ja2V0ICgpLCB3c2FidWYsIHdzYWNudCwgJndy
ZXQsCi0JCQkgICAmd3NhbXNnLT5kd0ZsYWdzLCB3c2Ftc2ctPm5hbWUsICZ3
c2Ftc2ctPm5hbWVsZW4sCisJCQkgICAmZHdGbGFncywgd3NhbXNnLT5uYW1l
LCAmd3NhbXNnLT5uYW1lbGVuLAogCQkJICAgTlVMTCwgTlVMTCk7CiAgICAg
ICBpZiAoIXJlcykKIAl7CkBAIC0xMjM2LDYgKzEyNDUsMTMgQEAgZmhhbmRs
ZXJfc29ja2V0X2xvY2FsOjpzZW5kdG8gKGNvbnN0IHZvaWQgKmluX3B0ciwg
c2l6ZV90IGxlbiwgaW50IGZsYWdzLAogICBjaGFyICpwdHIgPSAoY2hhciAq
KSBpbl9wdHI7CiAgIHN0cnVjdCBzb2NrYWRkcl9zdG9yYWdlIHNzdDsKIAor
ICAvKiBPdXQtb2YtYmFuZCBkYXRhIG5vdCBzdXBwb3J0ZWQgYnkgQUZfTE9D
QUwgKi8KKyAgaWYgKGZsYWdzICYgTVNHX09PQikKKyAgICB7CisgICAgICBz
ZXRfZXJybm8gKEVPUE5PVFNVUFApOworICAgICAgcmV0dXJuIFNPQ0tFVF9F
UlJPUjsKKyAgICB9CisKICAgaWYgKHRvICYmIGdldF9pbmV0X2FkZHJfbG9j
YWwgKHRvLCB0b2xlbiwgJnNzdCwgJnRvbGVuKSA9PSBTT0NLRVRfRVJST1Ip
CiAgICAgcmV0dXJuIFNPQ0tFVF9FUlJPUjsKIApAQCAtMTI3NCw2ICsxMjkw
LDEzIEBAIGZoYW5kbGVyX3NvY2tldF9sb2NhbDo6c2VuZG1zZyAoY29uc3Qg
c3RydWN0IG1zZ2hkciAqbXNnLCBpbnQgZmxhZ3MpCiAgIHN0cnVjdCBzb2Nr
YWRkcl9zdG9yYWdlIHNzdDsKICAgaW50IGxlbiA9IDA7CiAKKyAgLyogT3V0
LW9mLWJhbmQgZGF0YSBub3Qgc3VwcG9ydGVkIGJ5IEFGX0xPQ0FMICovCisg
IGlmIChmbGFncyAmIE1TR19PT0IpCisgICAgeworICAgICAgc2V0X2Vycm5v
IChFT1BOT1RTVVBQKTsKKyAgICAgIHJldHVybiBTT0NLRVRfRVJST1I7Cisg
ICAgfQorCiAgIGlmIChtc2ctPm1zZ19uYW1lCiAgICAgICAmJiBnZXRfaW5l
dF9hZGRyX2xvY2FsICgoc3RydWN0IHNvY2thZGRyICopIG1zZy0+bXNnX25h
bWUsCiAJCQkgICAgICBtc2ctPm1zZ19uYW1lbGVuLCAmc3N0LCAmbGVuKSA9
PSBTT0NLRVRfRVJST1IpCi0tIAoyLjE3LjAKCg==

--Multipart=_Fri__22_Jun_2018_09_10_17_+0900_2GUwDlgpBThg.WKz--
