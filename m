Return-Path: <cygwin-patches-return-2239-listarch-cygwin-patches=sourceware.cygnus.com@cygwin.com>
Received: (qmail 2091 invoked by alias); 28 May 2002 03:08:55 -0000
Mailing-List: contact cygwin-patches-help@cygwin.com; run by ezmlm
Precedence: bulk
List-Subscribe: <mailto:cygwin-patches-subscribe@cygwin.com>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Archive: <http://sources.redhat.com/ml/cygwin-patches/>
List-Help: <mailto:cygwin-patches-help@cygwin.com>, <http://sources.redhat.com/ml/#faqs>
Sender: cygwin-patches-owner@cygwin.com
Received: (qmail 2069 invoked from network); 28 May 2002 03:08:54 -0000
Date: Mon, 27 May 2002 20:08:00 -0000
From: Joshua Daniel Franklin <joshuadfranklin@yahoo.com>
X-X-Sender: joshua@iocc.com
To: cygwin-patches@cygwin.com
Subject: ps help, version patch
Message-ID: <Pine.CYG.4.44.0205272205260.728-200000@iocc.com>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-1724932141-1022555154=:728"
X-SW-Source: 2002-q2/txt/msg00223.txt.bz2

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-1724932141-1022555154=:728
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-length: 343

Here is the --help, --version patch for ps. With, I hope, a proper
ChangeLog.

2002-05-13  Joshua Daniel Franklin <joshuadfranklin@yahoo.com>

	* ps.cc (prog_name): New global variable.
	(longopts): Ditto.
	(opts): Ditto.
	(usage): New function.
	(print_version): New function.
	(main): Accomodate longopts and new --help, --version options.


---559023410-1724932141-1022555154=:728
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="ps.cc-patch"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.CYG.4.44.0205272205540.728@iocc.com>
Content-Description: 
Content-Disposition: attachment; filename="ps.cc-patch"
Content-length: 5482

LS0tIHBzLmNjLW9yaWcJTW9uIE1heSAyNyAyMTo1NToxMCAyMDAyDQorKysg
cHMuY2MJTW9uIE1heSAyNyAyMTo1ODoxNCAyMDAyDQpAQCAtMSw2ICsxLDYg
QEANCiAvKiBwcy5jYw0KIA0KLSAgIENvcHlyaWdodCAxOTk2LCAxOTk3LCAx
OTk4LCAxOTk5LCAyMDAwLCAyMDAxIFJlZCBIYXQsIEluYy4NCisgICBDb3B5
cmlnaHQgMTk5NiwgMTk5NywgMTk5OCwgMTk5OSwgMjAwMCwgMjAwMSwgMjAw
MiBSZWQgSGF0LCBJbmMuDQogDQogVGhpcyBmaWxlIGlzIHBhcnQgb2YgQ3ln
d2luLg0KIA0KQEAgLTE5LDYgKzE5LDI1IEBAIGRldGFpbHMuICovDQogI2lu
Y2x1ZGUgPHRsaGVscDMyLmg+DQogI2luY2x1ZGUgPHBzYXBpLmg+DQogDQor
c3RhdGljIGNvbnN0IGNoYXIgdmVyc2lvbltdID0gIiRSZXZpc2lvbjogMS4x
MSAkIjsNCitzdGF0aWMgY2hhciAqcHJvZ19uYW1lOw0KKw0KK3N0YXRpYyBz
dHJ1Y3Qgb3B0aW9uIGxvbmdvcHRzW10gPQ0KK3sNCisgIHsiYWxsIiwgbm9f
YXJndW1lbnQsIE5VTEwsICdhJyB9LA0KKyAgeyJldmVyeW9uZSIsIG5vX2Fy
Z3VtZW50LCBOVUxMLCAnZScgfSwNCisgIHsiZnVsbCIsIG5vX2FyZ3VtZW50
LCBOVUxMLCAnZicgfSwNCisgIHsiaGVscCIsIG5vX2FyZ3VtZW50LCBOVUxM
LCAnaCcgfSwNCisgIHsibG9uZyIsIG5vX2FyZ3VtZW50LCBOVUxMLCAnbCcg
fSwNCisgIHsic3VtbWFyeSIsIG5vX2FyZ3VtZW50LCBOVUxMLCAncycgfSwN
CisgIHsidXNlciIsIHJlcXVpcmVkX2FyZ3VtZW50LCBOVUxMLCAndSd9LA0K
KyAgeyJ2ZXJzaW9uIiwgbm9fYXJndW1lbnQsIE5VTEwsICd2J30sDQorICB7
IndpbmRvd3MiLCBub19hcmd1bWVudCwgTlVMTCwgJ1cnfSwNCisgIHtOVUxM
LCAwLCBOVUxMLCAwfQ0KK307DQorDQorc3RhdGljIGNoYXIgb3B0c1tdID0g
ImFlZmhsc3U6dlciOw0KKw0KIHR5cGVkZWYgQk9PTCAoV0lOQVBJICpFTlVN
UFJPQ0VTU01PRFVMRVMpKA0KICAgSEFORExFIGhQcm9jZXNzLCAgICAgIC8v
IGhhbmRsZSB0byB0aGUgcHJvY2Vzcw0KICAgSE1PRFVMRSAqIGxwaE1vZHVs
ZSwgIC8vIGFycmF5IHRvIHJlY2VpdmUgdGhlIG1vZHVsZSBoYW5kbGVzDQpA
QCAtMTc3LDYgKzE5Niw0NiBAQCB0dHluYW0gKGludCBudHR5KQ0KICAgcmV0
dXJuIGJ1ZjsNCiB9DQogDQorc3RhdGljIHZvaWQNCit1c2FnZSAoRklMRSAq
IHN0cmVhbSwgaW50IHN0YXR1cykNCit7DQorICBmcHJpbnRmIChzdHJlYW0s
ICJcDQorVXNhZ2U6ICVzIFstYWVmbHNdIFstdSBVSURdXG5cDQorIC1hLCAt
LWFsbCAgICAgICBzaG93IHByb2Nlc3NlcyBvZiBhbGwgdXNlcnNcblwNCisg
LWUsIC0tZXZlcnlvbmUgIHNob3cgcHJvY2Vzc2VzIG9mIGFsbCB1c2Vyc1xu
XA0KKyAtZiwgLS1mdWxsICAgICAgc2hvdyBwcm9jZXNzIHVpZHMsIHBwaWRz
XG5cDQorIC1oLCAtLWhlbHAgICAgICBvdXRwdXQgdXNhZ2UgaW5mb3JtYXRp
b24gYW5kIGV4aXRcblwNCisgLWwsIC0tbG9uZyAgICAgIHNob3cgcHJvY2Vz
cyB1aWRzLCBwcGlkcywgcGdpZHMsIHdpbnBpZHNcblwNCisgLXMsIC0tc3Vt
bWFyeSAgIHNob3cgcHJvY2VzcyBzdW1tYXJ5XG5cDQorIC11LCAtLXVzZXIg
ICAgICBsaXN0IHByb2Nlc3NlcyBvd25lZCBieSBVSURcblwNCisgLXYsIC0t
dmVyc2lvbiAgIG91dHB1dCB2ZXJzaW9uIGluZm9ybWF0aW9uIGFuZCBleGl0
XG5cDQorIC1XLCAtLXdpbmRvd3MgICBzaG93IHdpbmRvd3MgYXMgd2VsbCBh
cyBjeWd3aW4gcHJvY2Vzc2VzXG5cDQorV2l0aCBvcHRpb25zLCAlcyBvdXRw
dXRzIHRoZSBsb25nIGZvcm1hdCBieSBkZWZhdWx0XG4iLCBwcm9nX25hbWUs
IHByb2dfbmFtZSk7DQorICBleGl0IChzdGF0dXMpOw0KK30NCisNCitzdGF0
aWMgdm9pZA0KK3ByaW50X3ZlcnNpb24gKCkNCit7DQorICBjb25zdCBjaGFy
ICp2ID0gc3RyY2hyICh2ZXJzaW9uLCAnOicpOw0KKyAgaW50IGxlbjsNCisg
IGlmICghdikNCisgICAgew0KKyAgICAgIHYgPSAiPyI7DQorICAgICAgbGVu
ID0gMTsNCisgICAgfQ0KKyAgZWxzZQ0KKyAgICB7DQorICAgICAgdiArPSAy
Ow0KKyAgICAgIGxlbiA9IHN0cmNociAodiwgJyAnKSAtIHY7DQorICAgIH0N
CisgIHByaW50ZiAoIlwNCislcyAoY3lnd2luKSAlLipzXG5cDQorUHJvY2Vz
cyBTdGF0aXN0aWNzXG5cDQorQ29weXJpZ2h0IDE5OTYsIDE5OTcsIDE5OTgs
IDE5OTksIDIwMDAsIDIwMDEsIDIwMDIgUmVkIEhhdCwgSW5jLlxuXA0KK0Nv
bXBpbGVkIG9uICVzIiwgcHJvZ19uYW1lLCBsZW4sIHYsIF9fREFURV9fKTsN
Cit9DQorDQogaW50DQogbWFpbiAoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkN
CiB7DQpAQCAtMTk1LDcgKzI1NCwxNSBAQCBtYWluIChpbnQgYXJnYywgY2hh
ciAqYXJndltdKQ0KICAgdWlkID0gZ2V0dWlkICgpOw0KICAgbGZsYWcgPSAx
Ow0KIA0KLSAgd2hpbGUgKChjaCA9IGdldG9wdCAoYXJnYywgYXJndiwgImFl
bGZzdTpXIikpICE9IC0xKQ0KKyAgcHJvZ19uYW1lID0gc3RycmNociAoYXJn
dlswXSwgJy8nKTsNCisgIGlmIChwcm9nX25hbWUgPT0gTlVMTCkNCisgICAg
cHJvZ19uYW1lID0gc3RycmNociAoYXJndlswXSwgJ1xcJyk7DQorICBpZiAo
cHJvZ19uYW1lID09IE5VTEwpDQorICAgIHByb2dfbmFtZSA9IGFyZ3ZbMF07
DQorICBlbHNlDQorICAgIHByb2dfbmFtZSsrOw0KKw0KKyAgd2hpbGUgKChj
aCA9IGdldG9wdF9sb25nIChhcmdjLCBhcmd2LCBvcHRzLCBsb25nb3B0cywg
TlVMTCkpICE9IEVPRikNCiAgICAgc3dpdGNoIChjaCkNCiAgICAgICB7DQog
ICAgICAgY2FzZSAnYSc6DQpAQCAtMjA1LDYgKzI3Miw4IEBAIG1haW4gKGlu
dCBhcmdjLCBjaGFyICphcmd2W10pDQogICAgICAgY2FzZSAnZic6DQogICAg
ICAgICBmZmxhZyA9IDE7DQogICAgICAgICBicmVhazsNCisgICAgICBjYXNl
ICdoJzoNCisgICAgICAgIHVzYWdlIChzdGRvdXQsIDApOw0KICAgICAgIGNh
c2UgJ2wnOg0KICAgICAgICAgbGZsYWcgPSAxOw0KICAgICAgICAgYnJlYWs7
DQpAQCAtMjIxLDI1ICsyOTAsMjIgQEAgbWFpbiAoaW50IGFyZ2MsIGNoYXIg
KmFyZ3ZbXSkNCiAgICAgICAgICAgICAgIHVpZCA9IHB3LT5wd191aWQ7DQog
ICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgew0KLSAgICAgICAg
ICAgICAgICBmcHJpbnRmIChzdGRlcnIsICJ1c2VyICVzIHVua25vd25cbiIs
IG9wdGFyZyk7DQorICAgICAgICAgICAgICAgIGZwcmludGYgKHN0ZGVyciwg
IiVzOiB1c2VyICVzIHVua25vd25cbiIsIHByb2dfbmFtZSwgb3B0YXJnKTsN
CiAgICAgICAgICAgICAgICAgZXhpdCAoMSk7DQogICAgICAgICAgICAgICB9
DQogICAgICAgICAgIH0NCiAgICAgICAgIGJyZWFrOw0KKyAgICAgIGNhc2Ug
J3YnOg0KKyAgICAgICAgcHJpbnRfdmVyc2lvbiAoKTsNCisgICAgICAgIGV4
aXQgKDApOw0KKyAgICAgICAgYnJlYWs7DQogICAgICAgY2FzZSAnVyc6DQog
CXF1ZXJ5ID0gQ1dfR0VUUElORk9fRlVMTDsNCiAJYWZsYWcgPSAxOw0KIAli
cmVhazsNCiANCiAgICAgICBkZWZhdWx0Og0KLSAgICAgICAgZnByaW50ZiAo
c3RkZXJyLCAiVXNhZ2UgJXMgWy1hZWZsXSBbLXUgdWlkXVxuIiwgYXJndlsw
XSk7DQotICAgICAgICBmcHJpbnRmIChzdGRlcnIsICItZiA9IHNob3cgcHJv
Y2VzcyB1aWRzLCBwcGlkc1xuIik7DQotICAgICAgICBmcHJpbnRmIChzdGRl
cnIsICItbCA9IHNob3cgcHJvY2VzcyB1aWRzLCBwcGlkcywgcGdpZHMsIHdp
bnBpZHNcbiIpOw0KLSAgICAgICAgZnByaW50ZiAoc3RkZXJyLCAiLXUgdWlk
ID0gbGlzdCBwcm9jZXNzZXMgb3duZWQgYnkgdWlkXG4iKTsNCi0gICAgICAg
IGZwcmludGYgKHN0ZGVyciwgIi1hLCAtZSA9IHNob3cgcHJvY2Vzc2VzIG9m
IGFsbCB1c2Vyc1xuIik7DQotCWZwcmludGYgKHN0ZGVyciwgIi1zID0gc2hv
dyBwcm9jZXNzIHN1bW1hcnlcbiIpOw0KLQlmcHJpbnRmIChzdGRlcnIsICIt
VyA9IHNob3cgd2luZG93cyBhcyB3ZWxsIGFzIGN5Z3dpbiBwcm9jZXNzZXNc
biIpOw0KLSAgICAgICAgZXhpdCAoMSk7DQorICAgICAgICB1c2FnZSAoc3Rk
ZXJyLCAxKTsNCiAgICAgICB9DQogDQogICBpZiAoc2ZsYWcpDQo=

---559023410-1724932141-1022555154=:728--
