Return-Path: <gdh1995@qq.com>
Received: from smtpbgeu2.qq.com (smtpbgeu2.qq.com [18.194.254.142])
 by sourceware.org (Postfix) with ESMTPS id 7459F3860C3A
 for <cygwin-patches@cygwin.com>; Wed, 26 Aug 2020 08:44:05 +0000 (GMT)
DMARC-Filter: OpenDMARC Filter v1.3.2 sourceware.org 7459F3860C3A
X-QQ-FEAT: vCEcznnfT8YlIbnIf061mKG4EMv3equjJ1wGi7c8BqraPj8Kq2RIPhGoVbVnf
 FjUFhceLN4PX+zJbTeQc6NyO1JHAb50y/+z6GJBj79UaVh5NyHt+mdzN8NmlUKMW2UdIIUK
 zPtCneBMZF42TlEXnthvxCmj+uXJKfiQDaXwUBCCPDt25b0UC1rn9+xjWQJkHMvGcVukr+8
 vhQDceToc6CDlo+EM3PPNl0e6q94rGPZe0xQE1R6fRjVvh9E5KdK+zReELSwvLkoRmZHEtB
 0nD2JzgpkRoxRYH2TWcswtpBWBxQNgLwVD2yst/pQmBeNr
X-QQ-SSF: 00000000000000F000000000000000X
X-QQ-XMAILINFO: Mapg+rHBRID0GYicJulbJN1ju9hFhYIPnhoj8k969OThGvcmpEfjIcSHgJpWMe
 20fwAzQBjODYo0e43Lk077LQGJ/qhP9QMJgJ1UalIj+1ZHMGsLDpACWZtyfP0VN8kmrf1EH9+N+Gt
 cFOckK7KBBdT3BLUMX9QaFoBh9jPRQwZFVZWBHdjhjEqmlnA9EIjj84l0vRCVYpP/GmMTPsefAp4n
 eqi7ssCKGE9sXG4JT8VXMbXgqvB4BJECgTX0A/dX2fCsr7r0vwpbdk02R0nH5vGxB2Pr4mnGXArot
 GrOfq/dy0qo/CvsgpPl6LFIwZPtvJzkT5TPrvhr7RsM1ggBliJHBIYZaSduoNbUCQcJlW6E15AiS/
 14FCSyKhcVhZp3VPGsHmpw5qK0uef4S1sO9KXz0k+e4dG9/5FuRswlmz2XR+DXBfTA/5DWJgZwT+R
 txTHitxpl3EtOi+YnfEHvI10MH0eGyJ2L4xv2TCwXMoehLQ8Wh7K3CPZp1tCGDblwsAPHICLoDsnN
 vm0dzpkeIvZr6Lx9V/7V6kBOU+ROXHUHTZkqKmsH33PeCufe9jy7ZmUTz1Og7nNK5+3e3QNtqISiW
 UDIAlItW3Urd3tKjne1qy/nkMhJIMBLXrGUsklpxbSyRAMO7quFtYGgfj+UyKcXv6EWDqIDWGejc0
 wekGg/0wNfYPdr7zcPdZOmYfQO+F/R1ouGYoHBZtFj8vmP0oMDG2EbmXLJiCSUQ8RCxp79C/qN1Ka
 /iqC9u9DdIyB4Fg==
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 125.33.171.215
X-QQ-STYLE: 
X-QQ-mid: webmail300t1598431424t2343924
From: "=?gb18030?B?uay087q6?=" <gdh1995@qq.com>
To: "=?gb18030?B?Y3lnd2luLXBhdGNoZXM=?=" <cygwin-patches@cygwin.com>
Subject: [Patch] Fix incorrect code page when setting console title on Win10
Mime-Version: 1.0
Date: Wed, 26 Aug 2020 16:43:44 +0800
X-Priority: 3
Message-ID: <tencent_DEAF96B572731C3B3E524F22CCAC86D3AD07@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-SENDSIZE: 520
Received: from qq.com (unknown [127.0.0.1]) by smtp.qq.com (ESMTP) with SMTP
 id ; Wed, 26 Aug 2020 16:43:45 +0800 (CST)
Feedback-ID: webmail:qq.com:bgforeign:bgforeign12
X-QQ-Bgrelay: 1
X-Spam-Status: No, score=-6.9 required=5.0 tests=BAYES_00,
 CHARSET_FARAWAY_HEADER, DKIM_SIGNED, DKIM_VALID, DKIM_VALID_AU, DKIM_VALID_EF,
 FREEMAIL_ENVFROM_END_DIGIT, FREEMAIL_FROM, GIT_PATCH_0, HTML_MESSAGE,
 KAM_NUMSUBJECT, MSGID_FROM_MTA_HEADER, RCVD_IN_DNSWL_NONE, RCVD_IN_MSPIKE_H2,
 SPF_PASS, TXREP,
 T_SPF_HELO_TEMPERROR autolearn=ham autolearn_force=no version=3.4.2
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on
 server2.sourceware.org
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64
X-Content-Filtered-By: Mailman/MimeDel 2.1.29
X-BeenThere: cygwin-patches@cygwin.com
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Cygwin core component patch submission and discussion
 <cygwin-patches.cygwin.com>
List-Unsubscribe: <https://cygwin.com/mailman/options/cygwin-patches>,
 <mailto:cygwin-patches-request@cygwin.com?subject=unsubscribe>
List-Archive: <https://cygwin.com/pipermail/cygwin-patches/>
List-Post: <mailto:cygwin-patches@cygwin.com>
List-Help: <mailto:cygwin-patches-request@cygwin.com?subject=help>
List-Subscribe: <https://cygwin.com/mailman/listinfo/cygwin-patches>,
 <mailto:cygwin-patches-request@cygwin.com?subject=subscribe>
X-List-Received-Date: Wed, 26 Aug 2020 08:44:13 -0000

V2hlbiBDeWd3aW4gc2V0cyBjb25zb2xlIHRpdGxlcyBvbiBXaW4xMCAoaGFzX2Nvbl8yNGJp
dF9jb2xvcnMgJmFtcDsmYW1wOyAhY29uX2lzX2xlZ2FjeSksDQpgV3JpdGVDb25zb2xlQWAg
aXMgdXNlZCBhbmQgY2F1c2VzIGFuIGVycm9yIGlmOg0KMS4gdGhlIGVudmlyb25tZW50IHZh
cmlhYmxlIG9mIGBMQU5HYCBpcyBgKioqLlVURi04YA0KMi4gYW5kIHRoZSBjb2RlIHBhZ2Ug
b2YgY29uc29sZS5leGUgaXMgbm90IFVURi04DQombmJzcDsgMS4gZS5nLiBvbiBteSBDb21w
dXRlciwgaXQncyBHQjIzMTIsIGZvciBDaGluZXNlIHRleHQNCg0KDQpJJ3ZlIGRvbmUgc29t
ZSB0ZXN0cyBvbiBtc3lzMiBhbmQgZGV0YWlscyBhcmUgb24gaHR0cHM6Ly9naXRodWIuY29t
L2dpdC1mb3Itd2luZG93cy9naXQvaXNzdWVzLzI3MzgsDQphbmQgSSBmaWxlZCBhIFBSIG9m
IGh0dHBzOi8vZ2l0aHViLmNvbS9naXQtZm9yLXdpbmRvd3MvbXN5czItcnVudGltZS9wdWxs
LzI1Lg0KVGhlbiB3aGF0IHNob3VsZCBJIGRvLCBpbiBvcmRlciB0byBmaXggdGhpcyBvbiBD
eWd3aW4/DQoNCg0KVGhlIGJlbG93IGlzIHRoZSBjb21taXQncyAucGF0Y2ggZmlsZToNCg0K
DQpGcm9tIDMzNGY1MmE1M2EyZTZiN2Y1NjBiMGU4ODEwYjlmNjcyZWJiM2FkMjQgTW9uIFNl
cCAxNyAwMDowMDowMCAyMDAxDQpGcm9tOiBEYWhhbiBHb25nIDxnZGgxOTk1QHFxLmNvbSZn
dDsNCkRhdGU6IEZyaSwgMzEgSnVsIDIwMjAgMjI6MDY6NTQgKzA4MDANClN1YmplY3Q6IFtQ
QVRDSF0gRml4IGluY29ycmVjdCBjb2RlIHBhZ2UgaW4gY29uc29sZSB0aXRsZQ0KDQoNCmBX
cml0ZUNvbnNvbGVBYCBhbHdheXMgZm9sbG93cyB0aGUgY3VycmVudCBjb2RlIHBhZ2Ugb2Yg
YSBjb25zb2xlIHdpbmRvdywgc28gaXQncyBub3Qgc3VpdGFibGUgdG8gcGFzcyBhIG11bHRp
LWJ5dGUgc3RyaW5nIGluIGBnZXRfdHR5cCAoKS0mZ3Q7dGVybV9jb2RlX3BhZ2VgIHRvIGl0
IGRpcmVjdGx5Lg0KDQoNClRoaXMgUFIgdHVybnMgdG8gYFdyaXRlQ29uc29sZVdgIHNvIHRo
YXQgbW9zdCBjaGFyYWN0ZXJzIHdpbGwgYmUgdHJhbnNsYXRlZCAiYXMgaXMiLCBhbmQgSSd2
ZSB0ZXN0ZWQgaXQgb24gV2luIDEwIHYyMDA0IChDTUQ6IHZlciAxMC4wLjE5MDQxLjM4OCku
DQoNCg0KU2lnbmVkLW9mZi1ieTogZ2RoMTk5NSA8Z2RoMTk5NUBxcS5jb20mZ3Q7DQotLS0N
CiZuYnNwO3dpbnN1cC9jeWd3aW4vZmhhbmRsZXJfY29uc29sZS5jYyB8IDE4ICsrKysrKysr
KysrKysrKysrLQ0KJm5ic3A7MSBmaWxlIGNoYW5nZWQsIDE3IGluc2VydGlvbnMoKyksIDEg
ZGVsZXRpb24oLSkNCg0KDQpkaWZmIC0tZ2l0IGEvd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9j
b25zb2xlLmNjIGIvd2luc3VwL2N5Z3dpbi9maGFuZGxlcl9jb25zb2xlLmNjDQppbmRleCBk
ZDk3OWZiOGUyLi43ODcwZWVkYTgxIDEwMDY0NA0KLS0tIGEvd2luc3VwL2N5Z3dpbi9maGFu
ZGxlcl9jb25zb2xlLmNjDQorKysgYi93aW5zdXAvY3lnd2luL2ZoYW5kbGVyX2NvbnNvbGUu
Y2MNCkBAIC04MCw2ICs4MCwxNSBAQCBzdGF0aWMgY2xhc3Mgd3JpdGVfcGVuZGluZ19idWZm
ZXINCiZuYnNwOyAmbmJzcDt7DQombmJzcDsgJm5ic3A7ICZuYnNwO1dyaXRlQ29uc29sZUEg
KGhhbmRsZSwgYnVmLCBpeHB1dCwgd24sIDApOw0KJm5ic3A7ICZuYnNwO30NCismbmJzcDsg
aW5saW5lIGNoYXIgKmNfc3RyIChzaXplX3QgKnBzaXplID0gTlVMTCkNCismbmJzcDsgew0K
KyZuYnNwOyAmbmJzcDsgc2l6ZV90IHNpemUgPSBpeHB1dCA8IFdQQlVGX0xFTiA/IGl4cHV0
IDogV1BCVUZfTEVOIC0gMTsNCismbmJzcDsgJm5ic3A7IGJ1ZltzaXplXSA9ICdcMCc7DQor
Jm5ic3A7ICZuYnNwOyBpZiAocHNpemUgIT0gTlVMTCkgew0KKyZuYnNwOyAmbmJzcDsgJm5i
c3A7ICpwc2l6ZSA9IHNpemU7DQorJm5ic3A7ICZuYnNwOyB9DQorJm5ic3A7ICZuYnNwOyBy
ZXR1cm4gKGNoYXIgKikgYnVmOw0KKyZuYnNwOyB9DQombmJzcDt9IHdwYnVmOw0KJm5ic3A7
DQombmJzcDtzdGF0aWMgdm9pZA0KQEAgLTMyMDMsNyArMzIxMiwxNCBAQCBmaGFuZGxlcl9j
b25zb2xlOjp3cml0ZSAoY29uc3Qgdm9pZCAqdnNyYywgc2l6ZV90IGxlbikNCiZuYnNwOwkm
bmJzcDsgJm5ic3A7IGlmICgqc3JjIDwgJyAnKQ0KJm5ic3A7CSZuYnNwOyAmbmJzcDsgJm5i
c3A7IHsNCiZuYnNwOwkJaWYgKHdpbmNhcC5oYXNfY29uXzI0Yml0X2NvbG9ycyAoKSAmYW1w
OyZhbXA7ICFjb25faXNfbGVnYWN5KQ0KLQkJJm5ic3A7IHdwYnVmLnNlbmQgKGdldF9vdXRw
dXRfaGFuZGxlICgpKTsNCisJCSZuYnNwOyB7DQorCQkmbmJzcDsgJm5ic3A7IHNpemVfdCBu
bXM7DQorCQkmbmJzcDsgJm5ic3A7IGNoYXIgKm1zID0gd3BidWYuY19zdHIoJmFtcDtubXMp
Ow0KKwkJJm5ic3A7ICZuYnNwOyB3Y2hhcl90IHdyaXRlX2J1ZltUSVRMRVNJWkUgKyAxXTsN
CisJCSZuYnNwOyAmbmJzcDsgRFdPUkQgZG9uZTsNCisJCSZuYnNwOyAmbmJzcDsgRFdPUkQg
YnVmX2xlbiA9IHN5c19tYnN0b3djcyAod3JpdGVfYnVmLCBUSVRMRVNJWkUsIG1zKTsNCisJ
CSZuYnNwOyAmbmJzcDsgd3JpdGVfY29uc29sZSAod3JpdGVfYnVmLCBidWZfbGVuLCBkb25l
KTsNCisJCSZuYnNwOyB9DQombmJzcDsJCWVsc2UgaWYgKCpzcmMgPT0gJ1wwMDcnICZhbXA7
JmFtcDsgY29uLnN0YXRlID09IGdldHRpdGxlKQ0KJm5ic3A7CQkmbmJzcDsgc2V0X2NvbnNv
bGVfdGl0bGUgKGNvbi5teV90aXRsZV9idWYpOw0KJm5ic3A7CQljb24uc3RhdGUgPSBub3Jt
YWw7
